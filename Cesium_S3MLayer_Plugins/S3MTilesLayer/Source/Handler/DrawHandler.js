const _0x5e8db1=(function(){let _0x574d95=!![];return function(_0x418ea7,_0x28fe67){const _0x5726b9=_0x574d95?function(){if(_0x28fe67){const _0xc8d54a=_0x28fe67['apply'](_0x418ea7,arguments);return _0x28fe67=null,_0xc8d54a;}}:function(){};return _0x574d95=![],_0x5726b9;};}()),_0x1b39b7=_0x5e8db1(this,function(){return _0x1b39b7['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x1b39b7)['search']('(((.+)+)+)+$');});_0x1b39b7();import _0x3cee8c from'./DrawMode.js';import _0x2857dc from'./ClampMode.js';let _0x4b0d81=function(_0x1ae19a,_0x512c14,_0x101bfd){if(!_0x1ae19a||_0x512c14===undefined)throw new Cesium['DeveloperError']('viewer\x20and\x20mode\x20is\x20required!');this['handler']=new Cesium['ScreenSpaceEventHandler'](_0x1ae19a['scene']['canvas']),this['viewer']=_0x1ae19a,this['mode']=_0x512c14,this['_clampMode']=Cesium['defaultValue'](_0x101bfd,_0x2857dc['Space']),this['isDrawing']=![],this['active']=![],this['_drawEvt']=new Cesium['Event'](),this['_activeEvt']=new Cesium['Event'](),this['movingEvt']=new Cesium['Event'](),this['polylines']=undefined,this['polyline']=undefined,this['polygon']=undefined,this['points']=undefined,this['point']=undefined;};Object['defineProperties'](_0x4b0d81['prototype'],{'drawEvt':{'get':function(){return this['_drawEvt'];}},'activeEvt':{'get':function(){return this['_activeEvt'];}}}),_0x4b0d81['prototype']['activate']=function(){if(this['active']===!![])return;this['active']=!![];let _0x1d3c48=this;this['handler']['setInputAction'](function(_0x51c8a4){_0x1be661(_0x51c8a4,_0x1d3c48);},Cesium['ScreenSpaceEventType']['LEFT_CLICK']),this['handler']['setInputAction'](function(_0x187d3f){_0x36c0eb(_0x187d3f,_0x1d3c48);},Cesium['ScreenSpaceEventType']['MOUSE_MOVE']),this['handler']['setInputAction'](function(_0x1ebb37){_0x20116e(_0x1ebb37,_0x1d3c48);},Cesium['ScreenSpaceEventType']['RIGHT_CLICK']),this['activeEvt']['raiseEvent'](!![]);},_0x4b0d81['prototype']['deactivate']=function(){this['active']=![],this['isDrawing']=![],this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['LEFT_CLICK']),this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['MOUSE_MOVE']),this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['RIGHT_CLICK']),this['activeEvt']['raiseEvent'](![]);},_0x4b0d81['prototype']['clear']=function(){this['deactivate'](),this['polylines']&&(this['polylines']['removeAll'](),this['viewer']['scene']['primitives']['remove'](this['polylines']),this['polylines']=undefined),this['polygon']&&(this['viewer']['entities']['remove'](this['polygon']),this['polygon']=undefined),this['points']&&(this['points']['removeAll'](),this['viewer']['scene']['primitives']['remove'](this['points']),this['points']=undefined);};function _0x1be661(_0x141431,_0x1eb8b3){let _0x25b7b8=_0x1eb8b3;if(_0x25b7b8&&_0x25b7b8['active']){let _0xf05216=_0x25b7b8['viewer']['scene'];if(!_0xf05216['pickPositionSupported']){console['log']('your\x20browser\x20not\x20supported\x20pickPosition!');return;}let _0x194e0f=_0xf05216['pickPosition'](_0x141431['position']);if(_0x194e0f){if(!_0x25b7b8['isDrawing']){_0x25b7b8['isDrawing']=!![];switch(_0x25b7b8['mode']){case _0x3cee8c['Point']:_0x596125(_0x194e0f,_0x25b7b8);break;case _0x3cee8c['Line']:_0x2630c6(_0x194e0f,_0x25b7b8);break;case _0x3cee8c['Polygon']:_0x50b23a(_0x194e0f,_0x25b7b8);break;default:break;}}else{let _0x22b930=new Cesium['Cartesian2'](_0x141431['position']['x'],_0x141431['position']['y']);switch(_0x25b7b8['mode']){case _0x3cee8c['Line']:_0x359dee(_0x22b930,_0x25b7b8,!![]);break;case _0x3cee8c['Polygon']:_0x4f3e13(_0x22b930,_0x25b7b8,!![]);break;default:break;}}}}}function _0x596125(_0x42b852,_0x57addf){let _0x58cdeb=_0x57addf;!_0x58cdeb['points']?(_0x58cdeb['points']=new Cesium['PointPrimitiveCollection'](),_0x58cdeb['point']=_0x58cdeb['points']['add']({'position':_0x42b852,'pixelSize':0xa,'color':Cesium['Color']['WHITE']}),_0x58cdeb['viewer']['scene']['primitives']['add'](_0x58cdeb['points'])):_0x58cdeb['point']['position']=_0x42b852,_0x58cdeb['deactivate'](),_0x58cdeb['drawEvt']['raiseEvent']({'object':_0x58cdeb['point']});}function _0x2630c6(_0x58828,_0x23b174){let _0x1809d4=_0x23b174;!_0x1809d4['polylines']?(_0x1809d4['polylines']=new Cesium['PolylineCollection'](),_0x1809d4['polyline']=_0x1809d4['polylines']['add']({'width':0x2,'positions':[_0x58828,_0x58828],'material':Cesium['Material']['fromType'](Cesium['Material']['ColorType'],{'color':Cesium['Color']['fromCssColorString']('#51ff00')})}),_0x1809d4['viewer']['scene']['primitives']['add'](_0x1809d4['polylines'])):(_0x1809d4['polyline']['show']=!![],_0x1809d4['polyline']['positions']=[_0x58828,_0x58828]);}function _0x50b23a(_0x4c2176,_0x26e76b){let _0x204800=_0x26e76b;!_0x204800['polylines']?(_0x204800['polylines']=new Cesium['PolylineCollection'](),_0x204800['polyline']=_0x204800['polylines']['add']({'id':'polyline-'+Math['random'](),'width':0x2,'positions':[_0x4c2176,_0x4c2176],'material':Cesium['Material']['fromType'](Cesium['Material']['ColorType'],{'color':Cesium['Color']['fromCssColorString']('#51ff00')}),'loop':!![]}),_0x204800['viewer']['scene']['primitives']['add'](_0x204800['polylines'])):(_0x204800['polyline']['show']=!![],_0x204800['polyline']['positions']=[_0x4c2176,_0x4c2176],_0x204800['polygon']&&(_0x204800['polygon']['show']=![]));}function _0x36c0eb(_0x40f43d,_0x189fee){let _0x1c6741=_0x189fee;if(_0x1c6741&&_0x1c6741['active']&&_0x1c6741['isDrawing']){let _0x4c5a84=new Cesium['Cartesian2'](_0x40f43d['endPosition']['x'],_0x40f43d['endPosition']['y']);switch(_0x1c6741['mode']){case _0x3cee8c['Line']:_0x359dee(_0x4c5a84,_0x1c6741,![]);break;case _0x3cee8c['Polygon']:_0x4f3e13(_0x4c5a84,_0x1c6741,![]);break;default:break;}}_0x1c6741['movingEvt']['raiseEvent'](new Cesium['Cartesian2'](_0x40f43d['endPosition']['x'],_0x40f43d['endPosition']['y']));}function _0x359dee(_0x1ba708,_0x3e2863,_0x2b3de8){let _0x2e8fdd=_0x3e2863,_0xd5243e=_0x2e8fdd['viewer']['scene'],_0x235327=_0xd5243e['pickPosition'](_0x1ba708);if(!_0x235327)return;let _0x32da89=_0x2e8fdd['polyline']['positions'],_0x55c7e5=_0x32da89['length'];_0x2b3de8?_0x32da89[_0x55c7e5]=_0x235327:_0x32da89[_0x55c7e5-0x1]=_0x235327,_0x2e8fdd['polyline']['positions']=_0x32da89;}function _0x4f3e13(_0x397f11,_0x42fd27,_0x587d54){let _0x48be99=_0x42fd27,_0x121300=_0x48be99['viewer']['scene'],_0x395dbc=_0x121300['pickPosition'](_0x397f11);if(!_0x395dbc)return;let _0x3a120a=_0x48be99['polyline']['positions'],_0x456bdd=_0x3a120a['length'];_0x587d54?_0x3a120a[_0x456bdd]=_0x395dbc:_0x3a120a[_0x456bdd-0x1]=_0x395dbc,_0x48be99['polyline']['positions']=_0x3a120a;}function _0x20116e(_0x1af3c2,_0x5215fd){let _0x70fb67=_0x5215fd;if(_0x70fb67&&_0x70fb67['active']&&_0x70fb67['isDrawing']){_0x70fb67['deactivate']();if(!_0x70fb67['polyline'])return;_0x70fb67['polyline']['positions']=_0x70fb67['polyline']['positions']['slice'](0x0,_0x70fb67['polyline']['positions']['length']-0x1);if(_0x70fb67['mode']===_0x3cee8c['Polygon']){if(_0x70fb67['polyline']['positions']['length']<0x3){_0x70fb67['polyline']['positions']['length']=0x0;return;}let _0x3af2bd=[]['concat'](_0x70fb67['polyline']['positions']);!_0x70fb67['polygon']&&(_0x70fb67['polygon']=_0x70fb67['viewer']['entities']['add']({'polygon':{'hierarchy':{'positions':_0x3af2bd},'material':Cesium['Color']['ORANGE']['withAlpha'](0.5),'perPositionHeight':_0x2857dc['Space']===_0x70fb67['_clampMode']}})),_0x70fb67['polygon']['polygon']['hierarchy']=_0x3af2bd,_0x70fb67['polygon']['positions']=_0x3af2bd,_0x70fb67['polygon']['show']=!![],_0x70fb67['drawEvt']['raiseEvent']({'object':_0x70fb67['polygon']});}else{if(_0x70fb67['mode']===_0x3cee8c['Line']){let _0x43ef4a=[];for(let _0x5512ba=0x0,_0x265283=_0x70fb67['polyline']['positions']['length'];_0x5512ba<_0x265283;_0x5512ba++){_0x43ef4a['push'](Cesium['Cartesian3']['clone'](_0x70fb67['polyline']['positions'][_0x5512ba]));}(_0x70fb67['_clampMode']===_0x2857dc['S3mModel']||_0x70fb67['_clampMode']===_0x2857dc['Ground'])&&(!_0x70fb67['clampToGroundPolylines']&&(_0x70fb67['clampToGroundPolylines']=[]),_0x70fb67['clampToGroundPolylines']['push'](_0x70fb67['viewer']['entities']['add']({'polyline':{'positions':_0x43ef4a,'width':0x5,'material':Cesium['Color']['fromCssColorString']('#51ff00'),'clampToGround':!![]}})),_0x70fb67['polyline']['show']=![]),_0x70fb67['drawEvt']['raiseEvent']({'object':_0x70fb67['polyline']});}}}}export default _0x4b0d81;