const _0x1626bf=(function(){let _0x5bb417=!![];return function(_0xcb98b5,_0xe6c02f){const _0x2bef5e=_0x5bb417?function(){if(_0xe6c02f){const _0x11daa0=_0xe6c02f['apply'](_0xcb98b5,arguments);return _0xe6c02f=null,_0x11daa0;}}:function(){};return _0x5bb417=![],_0x2bef5e;};}()),_0x50261c=_0x1626bf(this,function(){return _0x50261c['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x50261c)['search']('(((.+)+)+)+$');});_0x50261c();import _0x12aace from'./DrawMode.js';import _0x40dea3 from'./ClampMode.js';let _0x162554=function(_0x29014d,_0x2408aa,_0x4a28a3){if(!_0x29014d||_0x2408aa===undefined)throw new Cesium['DeveloperError']('viewer\x20and\x20mode\x20is\x20required!');this['handler']=new Cesium['ScreenSpaceEventHandler'](_0x29014d['scene']['canvas']),this['viewer']=_0x29014d,this['mode']=_0x2408aa,this['_clampMode']=Cesium['defaultValue'](_0x4a28a3,_0x40dea3['Space']),this['isDrawing']=![],this['active']=![],this['_drawEvt']=new Cesium['Event'](),this['_activeEvt']=new Cesium['Event'](),this['movingEvt']=new Cesium['Event'](),this['polylines']=undefined,this['polyline']=undefined,this['polygon']=undefined,this['points']=undefined,this['point']=undefined;};Object['defineProperties'](_0x162554['prototype'],{'drawEvt':{'get':function(){return this['_drawEvt'];}},'activeEvt':{'get':function(){return this['_activeEvt'];}}}),_0x162554['prototype']['activate']=function(){if(this['active']===!![])return;this['active']=!![];let _0x4f9782=this;this['handler']['setInputAction'](function(_0x56d2de){_0x1be76b(_0x56d2de,_0x4f9782);},Cesium['ScreenSpaceEventType']['LEFT_CLICK']),this['handler']['setInputAction'](function(_0x4a419c){_0x18c51d(_0x4a419c,_0x4f9782);},Cesium['ScreenSpaceEventType']['MOUSE_MOVE']),this['handler']['setInputAction'](function(_0x3938a9){_0x523b1e(_0x3938a9,_0x4f9782);},Cesium['ScreenSpaceEventType']['RIGHT_CLICK']),this['activeEvt']['raiseEvent'](!![]);},_0x162554['prototype']['deactivate']=function(){this['active']=![],this['isDrawing']=![],this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['LEFT_CLICK']),this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['MOUSE_MOVE']),this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['RIGHT_CLICK']),this['activeEvt']['raiseEvent'](![]);},_0x162554['prototype']['clear']=function(){this['deactivate'](),this['polylines']&&(this['polylines']['removeAll'](),this['viewer']['scene']['primitives']['remove'](this['polylines']),this['polylines']=undefined),this['polygon']&&(this['viewer']['entities']['remove'](this['polygon']),this['polygon']=undefined),this['points']&&(this['points']['removeAll'](),this['viewer']['scene']['primitives']['remove'](this['points']),this['points']=undefined);};function _0x1be76b(_0x46bb34,_0x592133){let _0x4f1e4a=_0x592133;if(_0x4f1e4a&&_0x4f1e4a['active']){let _0x5d0842=_0x4f1e4a['viewer']['scene'];if(!_0x5d0842['pickPositionSupported']){console['log']('your\x20browser\x20not\x20supported\x20pickPosition!');return;}let _0x3c98f8=_0x5d0842['pickPosition'](_0x46bb34['position']);if(_0x3c98f8){if(!_0x4f1e4a['isDrawing']){_0x4f1e4a['isDrawing']=!![];switch(_0x4f1e4a['mode']){case _0x12aace['Point']:_0x3d2796(_0x3c98f8,_0x4f1e4a);break;case _0x12aace['Line']:_0x54872e(_0x3c98f8,_0x4f1e4a);break;case _0x12aace['Polygon']:_0x2628af(_0x3c98f8,_0x4f1e4a);break;default:break;}}else{let _0x173f7c=new Cesium['Cartesian2'](_0x46bb34['position']['x'],_0x46bb34['position']['y']);switch(_0x4f1e4a['mode']){case _0x12aace['Line']:_0x4943f7(_0x173f7c,_0x4f1e4a,!![]);break;case _0x12aace['Polygon']:_0xc8b896(_0x173f7c,_0x4f1e4a,!![]);break;default:break;}}}}}function _0x3d2796(_0x23367e,_0x221458){let _0x233e9f=_0x221458;!_0x233e9f['points']?(_0x233e9f['points']=new Cesium['PointPrimitiveCollection'](),_0x233e9f['point']=_0x233e9f['points']['add']({'position':_0x23367e,'pixelSize':0xa,'color':Cesium['Color']['WHITE']}),_0x233e9f['viewer']['scene']['primitives']['add'](_0x233e9f['points'])):_0x233e9f['point']['position']=_0x23367e,_0x233e9f['deactivate'](),_0x233e9f['drawEvt']['raiseEvent']({'object':_0x233e9f['point']});}function _0x54872e(_0x5b0eee,_0x212716){let _0x192b9f=_0x212716;!_0x192b9f['polylines']?(_0x192b9f['polylines']=new Cesium['PolylineCollection'](),_0x192b9f['polyline']=_0x192b9f['polylines']['add']({'width':0x2,'positions':[_0x5b0eee,_0x5b0eee],'material':Cesium['Material']['fromType'](Cesium['Material']['ColorType'],{'color':Cesium['Color']['fromCssColorString']('#51ff00')})}),_0x192b9f['viewer']['scene']['primitives']['add'](_0x192b9f['polylines'])):(_0x192b9f['polyline']['show']=!![],_0x192b9f['polyline']['positions']=[_0x5b0eee,_0x5b0eee]);}function _0x2628af(_0x125fd5,_0x136a12){let _0x1240da=_0x136a12;!_0x1240da['polylines']?(_0x1240da['polylines']=new Cesium['PolylineCollection'](),_0x1240da['polyline']=_0x1240da['polylines']['add']({'id':'polyline-'+Math['random'](),'width':0x2,'positions':[_0x125fd5,_0x125fd5],'material':Cesium['Material']['fromType'](Cesium['Material']['ColorType'],{'color':Cesium['Color']['fromCssColorString']('#51ff00')}),'loop':!![]}),_0x1240da['viewer']['scene']['primitives']['add'](_0x1240da['polylines'])):(_0x1240da['polyline']['show']=!![],_0x1240da['polyline']['positions']=[_0x125fd5,_0x125fd5],_0x1240da['polygon']&&(_0x1240da['polygon']['show']=![]));}function _0x18c51d(_0x4e6d90,_0x5e8e29){let _0x5d3d87=_0x5e8e29;if(_0x5d3d87&&_0x5d3d87['active']&&_0x5d3d87['isDrawing']){let _0x17fe41=new Cesium['Cartesian2'](_0x4e6d90['endPosition']['x'],_0x4e6d90['endPosition']['y']);switch(_0x5d3d87['mode']){case _0x12aace['Line']:_0x4943f7(_0x17fe41,_0x5d3d87,![]);break;case _0x12aace['Polygon']:_0xc8b896(_0x17fe41,_0x5d3d87,![]);break;default:break;}}_0x5d3d87['movingEvt']['raiseEvent'](new Cesium['Cartesian2'](_0x4e6d90['endPosition']['x'],_0x4e6d90['endPosition']['y']));}function _0x4943f7(_0x155c70,_0x1b7bb1,_0x4eda6a){let _0x3edef8=_0x1b7bb1,_0x231dcf=_0x3edef8['viewer']['scene'],_0x250c30=_0x231dcf['pickPosition'](_0x155c70);if(!_0x250c30)return;let _0x239a03=_0x3edef8['polyline']['positions'],_0x43ad2c=_0x239a03['length'];_0x4eda6a?_0x239a03[_0x43ad2c]=_0x250c30:_0x239a03[_0x43ad2c-0x1]=_0x250c30,_0x3edef8['polyline']['positions']=_0x239a03;}function _0xc8b896(_0x3f1a07,_0x2b8edf,_0x619a1e){let _0x32656f=_0x2b8edf,_0x4370a4=_0x32656f['viewer']['scene'],_0x19e794=_0x4370a4['pickPosition'](_0x3f1a07);if(!_0x19e794)return;let _0x4dd208=_0x32656f['polyline']['positions'],_0xc2450c=_0x4dd208['length'];_0x619a1e?_0x4dd208[_0xc2450c]=_0x19e794:_0x4dd208[_0xc2450c-0x1]=_0x19e794,_0x32656f['polyline']['positions']=_0x4dd208;}function _0x523b1e(_0x28c63f,_0x23729d){let _0x4c4249=_0x23729d;if(_0x4c4249&&_0x4c4249['active']&&_0x4c4249['isDrawing']){_0x4c4249['deactivate']();if(!_0x4c4249['polyline'])return;_0x4c4249['polyline']['positions']=_0x4c4249['polyline']['positions']['slice'](0x0,_0x4c4249['polyline']['positions']['length']-0x1);if(_0x4c4249['mode']===_0x12aace['Polygon']){if(_0x4c4249['polyline']['positions']['length']<0x3){_0x4c4249['polyline']['positions']['length']=0x0;return;}let _0x17918a=[]['concat'](_0x4c4249['polyline']['positions']);!_0x4c4249['polygon']&&(_0x4c4249['polygon']=_0x4c4249['viewer']['entities']['add']({'polygon':{'hierarchy':{'positions':_0x17918a},'material':Cesium['Color']['ORANGE']['withAlpha'](0.5),'perPositionHeight':_0x40dea3['Space']===_0x4c4249['_clampMode']}})),_0x4c4249['polygon']['polygon']['hierarchy']=_0x17918a,_0x4c4249['polygon']['positions']=_0x17918a,_0x4c4249['polygon']['show']=!![],_0x4c4249['drawEvt']['raiseEvent']({'object':_0x4c4249['polygon']});}else{if(_0x4c4249['mode']===_0x12aace['Line']){let _0x169e0e=[];for(let _0x289fed=0x0,_0x3e1303=_0x4c4249['polyline']['positions']['length'];_0x289fed<_0x3e1303;_0x289fed++){_0x169e0e['push'](Cesium['Cartesian3']['clone'](_0x4c4249['polyline']['positions'][_0x289fed]));}(_0x4c4249['_clampMode']===_0x40dea3['S3mModel']||_0x4c4249['_clampMode']===_0x40dea3['Ground'])&&(!_0x4c4249['clampToGroundPolylines']&&(_0x4c4249['clampToGroundPolylines']=[]),_0x4c4249['clampToGroundPolylines']['push'](_0x4c4249['viewer']['entities']['add']({'polyline':{'positions':_0x169e0e,'width':0x5,'material':Cesium['Color']['fromCssColorString']('#51ff00'),'clampToGround':!![]}})),_0x4c4249['polyline']['show']=![]),_0x4c4249['drawEvt']['raiseEvent']({'object':_0x4c4249['polyline']});}}}}export default _0x162554;