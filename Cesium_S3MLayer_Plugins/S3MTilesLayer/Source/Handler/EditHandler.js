var _0x2f25f1=(function(){var _0xad822b=!![];return function(_0x95c886,_0x4317bd){var _0x18cbc7=_0xad822b?function(){if(_0x4317bd){var _0x3e2d77=_0x4317bd['apply'](_0x95c886,arguments);return _0x4317bd=null,_0x3e2d77;}}:function(){};return _0xad822b=![],_0x18cbc7;};}()),_0x550f3a=_0x2f25f1(this,function(){return _0x550f3a['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x550f3a)['search']('(((.+)+)+)+$');});_0x550f3a();import _0xf9b254 from'../Ext/buildModuleUrl.js';var _0x3b05a6='referencePoint',_0xdc7653='referenceAddPoint',_0x23341f=function(_0x584160,_0x66e87f){if(!Cesium['defined'](_0x584160)||!Cesium['defined'](_0x66e87f))throw new Cesium['DeveloperError']('scene\x20and\x20mode\x20is\x20required!');this['handler']=new Cesium['ScreenSpaceEventHandler'](_0x584160['canvas']),this['scene']=_0x584160,this['active']=![],this['referencePointColor']=Cesium['Color']['WHITE'],this['editPointColor']=Cesium['Color']['VIOLET'],this['setEditObject'](_0x66e87f),this['_editZ']=![],this['_changedEvt']=new Cesium['Event']();};Object['defineProperties'](_0x23341f['prototype'],{'isEditZ':{'get':function(){return this['_editZ'];},'set':function(_0x5cf1ef){this['_editZ']=_0x5cf1ef;}},'changedEvt':{'get':function(){return this['_changedEvt'];}}}),_0x23341f['prototype']['setEditObject']=function(_0xe3ca6c){if(!Cesium['defined'](_0xe3ca6c['_polygon'])&&!Cesium['defined'](_0xe3ca6c['_polyline']))return;this['clear'](),this['_editObject']=_0xe3ca6c,this['_polygon']=_0xe3ca6c['_polygon'];if(Cesium['defined'](this['_polygon'])){var _0x1f5b2e=this['_polygon']['hierarchy']['getValue'](0x0);if(!Array['isArray'](_0x1f5b2e)){if(Array['isArray'](_0x1f5b2e['positions']))_0x1f5b2e=_0x1f5b2e['positions'];else throw new Cesium['DeveloperError']('positions\x20is\x20required!');}this['_positions']=_0x1f5b2e;}this['_polyline']=_0xe3ca6c['_polyline'];Cesium['defined'](this['_polyline'])&&(this['_positions']=this['_polyline']['positions']['getValue'](0x0));this['_editPoints']=this['scene']['primitives']['add'](new Cesium['BillboardCollection']({'depthTestEnable':![]}));for(var _0x364f34=0x0;_0x364f34<this['_positions']['length'];_0x364f34++){this['_editPoints']['add']({'id':_0x3b05a6+'_'+_0x364f34,'position':this['_positions'][_0x364f34],'image':_0xf9b254('Assets/Textures/vertex-edit.png')});}this['_editPointIndex']=-0x1,this['_editPoint']=undefined,this['_addPositions']=[],this['_addPoints']=this['scene']['primitives']['add'](new Cesium['BillboardCollection']({'depthTestEnable':![]}));for(var _0x364f34=0x0;_0x364f34<this['_positions']['length']-0x1;_0x364f34++){var _0x45fd5f=new Cesium['Cartesian3']();Cesium['Cartesian3']['add'](this['_positions'][_0x364f34],this['_positions'][_0x364f34+0x1],_0x45fd5f),Cesium['Cartesian3']['multiplyByScalar'](_0x45fd5f,0.5,_0x45fd5f),this['_addPositions']['push'](_0x45fd5f);}if(Cesium['defined'](this['_polygon'])){var _0x45fd5f=new Cesium['Cartesian3']();Cesium['Cartesian3']['add'](this['_positions'][0x0],this['_positions'][this['_positions']['length']-0x1],_0x45fd5f),Cesium['Cartesian3']['multiplyByScalar'](_0x45fd5f,0.5,_0x45fd5f),this['_addPositions']['push'](_0x45fd5f);}for(var _0x364f34=0x0;_0x364f34<this['_addPositions']['length'];_0x364f34++){this['_addPoints']['add']({'id':_0xdc7653+'_'+_0x364f34,'position':this['_addPositions'][_0x364f34],'image':_0xf9b254('Assets/Textures/middle-edit.png')});}this['activate']();},_0x23341f['prototype']['activate']=function(){if(this['active']==!![])return;this['active']=!![];var _0x3ae369=this;this['handler']['setInputAction'](function(_0x288de7){_0x1a57d8(_0x288de7,_0x3ae369);},Cesium['ScreenSpaceEventType']['LEFT_DOWN']),this['handler']['setInputAction'](function(_0x5d9daa){_0x5b78b0(_0x5d9daa,_0x3ae369);},Cesium['ScreenSpaceEventType']['LEFT_UP']),this['handler']['setInputAction'](function(_0x471bc1){_0x442b52(_0x471bc1,_0x3ae369);},Cesium['ScreenSpaceEventType']['MOUSE_MOVE']),this['handler']['setInputAction'](function(_0x443619){_0x35b9d8(_0x443619,_0x3ae369);},Cesium['ScreenSpaceEventType']['RIGHT_CLICK']);},_0x23341f['prototype']['deactivate']=function(){this['active']=![],this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['LEFT_DOWN']),this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['LEFT_UP']),this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['MOUSE_MOVE']),this['handler']['removeInputAction'](Cesium['ScreenSpaceEventType']['RIGHT_CLICK']);},_0x23341f['prototype']['clear']=function(){this['deactivate'](),Cesium['defined'](this['_editPoints'])&&this['_editPoints']['removeAll'](),Cesium['defined'](this['_editPointIndex'])&&(this['_editPointIndex']=-0x1),Cesium['defined'](this['_editPoint'])&&(this['_editPoint']=undefined),Cesium['defined'](this['_editObject'])&&(this['_editObject']=undefined),Cesium['defined'](this['_polygon'])&&(this['_polygon']=undefined),Cesium['defined'](this['_polyline'])&&(this['_polyline']=undefined),Cesium['defined'](this['_addPoints'])&&this['_addPoints']['removeAll'](),Cesium['defined'](this['_addPositions'])&&(this['_addPositions']['length']=0x0),Cesium['defined'](this['_positions'])&&(this['_positions']=undefined);},_0x23341f['prototype']['refreshReferencePoint']=function(){Cesium['defined'](this['_editPoints'])&&this['_editPoints']['removeAll']();this['_editPoints']=this['scene']['primitives']['add'](new Cesium['BillboardCollection']({'depthTestEnable':![]}));for(var _0x126b84=0x0;_0x126b84<this['_positions']['length'];_0x126b84++){this['_editPoints']['add']({'id':_0x3b05a6+'_'+_0x126b84,'position':this['_positions'][_0x126b84],'image':_0xf9b254('Assets/Textures/vertex-edit.png')});}Cesium['defined'](this['_editPointIndex'])&&(this['_editPointIndex']=-0x1),Cesium['defined'](this['_editPoint'])&&(this['_editPoint']=undefined);},_0x23341f['prototype']['refreshReferenceAddPoint']=function(){Cesium['defined'](this['_addPoints'])&&this['_addPoints']['removeAll']();this['_addPositions']=[],this['_addPoints']=this['scene']['primitives']['add'](new Cesium['BillboardCollection']({'depthTestEnable':![]}));for(var _0x9079d6=0x0;_0x9079d6<this['_positions']['length']-0x1;_0x9079d6++){var _0x586e4c=new Cesium['Cartesian3']();Cesium['Cartesian3']['add'](this['_positions'][_0x9079d6],this['_positions'][_0x9079d6+0x1],_0x586e4c),Cesium['Cartesian3']['multiplyByScalar'](_0x586e4c,0.5,_0x586e4c),this['_addPositions']['push'](_0x586e4c);}if(Cesium['defined'](this['_polygon'])){var _0x586e4c=new Cesium['Cartesian3']();Cesium['Cartesian3']['add'](this['_positions'][0x0],this['_positions'][this['_positions']['length']-0x1],_0x586e4c),Cesium['Cartesian3']['multiplyByScalar'](_0x586e4c,0.5,_0x586e4c),this['_addPositions']['push'](_0x586e4c);}for(var _0x9079d6=0x0;_0x9079d6<this['_addPositions']['length'];_0x9079d6++){this['_addPoints']['add']({'position':this['_addPositions'][_0x9079d6],'id':_0xdc7653+'_'+_0x9079d6,'image':_0xf9b254('Assets/Textures/middle-edit.png')});}};function _0x48edff(_0x2a33ab,_0x57bed9){var _0x16424=_0x2a33ab['pick'](_0x57bed9['position']);if(Cesium['defined'](_0x16424)){var _0x1ec3cd=Cesium['defaultValue'](_0x16424['id'],_0x16424['primitive']['id']);if(Cesium['defined'](_0x16424['primitive']))return _0x16424;}}function _0x1a57d8(_0x3d0921,_0x1c6472){var _0x1da382=_0x1c6472;if(_0x1da382&&_0x1da382['active']){var _0x47ceab=_0x48edff(_0x1da382['scene'],_0x3d0921);if(Cesium['defined'](_0x47ceab)){var _0x4322c2=_0x47ceab['id'];if(!Cesium['defined'](_0x4322c2))return;var _0x5f1d68=[];typeof _0x4322c2==='string'&&(_0x5f1d68=_0x4322c2['split']('_'));if(_0x5f1d68['length']==0x2){if(_0x5f1d68[0x0]===_0x3b05a6)_0x1da382['_editPointIndex']=parseInt(_0x5f1d68[0x1]),_0x1da382['_editPoint']=_0x47ceab['primitive'],_0x1da382['_editPoint']['Color']=_0x1da382['editPointColor'],_0x1da382['scene']['_screenSpaceCameraController']['enableRotate']=![],_0x1da382['scene']['_screenSpaceCameraController']['enableTranslate']=![];else{if(_0x5f1d68[0x0]===_0xdc7653){var _0x15f8a5=parseInt(_0x5f1d68[0x1]),_0x3bf95f=_0x1da382['_addPositions'],_0x35d34c=_0x3bf95f[_0x15f8a5],_0x3a1784=_0x1da382['_positions'];_0x3a1784['splice'](_0x15f8a5+0x1,0x0,_0x35d34c);var _0x219e29=_0x1da382['_polyline'];Cesium['defined'](_0x219e29)&&(_0x219e29['positions']=new Cesium['CallbackProperty'](function(){return _0x3a1784;},![]));var _0x5a0ca9=_0x1da382['_polygon'];if(Cesium['defined'](_0x5a0ca9)){var _0x5cffd0=new Cesium['CallbackProperty'](function(){return _0x3a1784;},![]),_0x3a1784=_0x5a0ca9['hierarchy']['getValue'](0x0);!Array['isArray'](_0x3a1784)?_0x5a0ca9['hierarchy']['positions']=_0x5cffd0:_0x5a0ca9['hierarchy']=_0x5cffd0;}_0x1da382['refreshReferencePoint'](),_0x1da382['refreshReferenceAddPoint']();}}}}else _0x1c6472['clear']();}}function _0x5b78b0(_0x5e2835,_0x2b01e5){var _0x480e16=_0x2b01e5;_0x480e16&&_0x480e16['active']&&(_0x480e16['_editPointIndex']=-0x1,Cesium['defined'](_0x480e16['_editPoint'])&&(_0x480e16['_editPoint']['Color']=_0x480e16['referencePointColor'],_0x480e16['_editPoint']=undefined),_0x480e16['scene']['_screenSpaceCameraController']['enableRotate']=!![],_0x480e16['scene']['_screenSpaceCameraController']['enableTranslate']=!![],_0x480e16['_changedEvt']['raiseEvent'](_0x480e16['_positions']));}function _0x442b52(_0x603c61,_0x542f77){var _0x1f842c=_0x542f77;if(_0x1f842c&&_0x1f842c['active']&&_0x1f842c['_editPointIndex']>-0x1){if(_0x1f842c['scene']['_screenSpaceCameraController']['_aggregator']['_isDown'][0x0]){var _0x172110=new Cesium['Cartesian2'](_0x603c61['endPosition']['x'],_0x603c61['endPosition']['y']),_0x17e29b=_0x1f842c['_polyline'],_0x280c51=_0x1f842c['_polygon'],_0x2e0115=!![];Cesium['defined'](_0x17e29b)&&(_0x2e0115=_0x17e29b['clampToGround']);Cesium['defined'](_0x280c51)&&(_0x2e0115=!_0x280c51['perPositionHeight']);var _0x2ddd8b;if(Cesium['defined'](_0x2e0115)&&_0x2e0115['_value'])_0x2ddd8b=_0x1f842c['scene']['pickPosition'](_0x172110);else{if(_0x1f842c['_editZ']){var _0x87bd73=_0x1f842c['scene']['camera']['getPickRay'](_0x172110),_0x900981=_0x1f842c['scene']['camera']['getPickRay'](new Cesium['Cartesian2'](_0x172110['x']+0x5,_0x172110['y'])),_0x508a31=Cesium['Cartesian3']['cross'](_0x87bd73['direction'],_0x900981['direction'],new Cesium['Cartesian3']()),_0x21c0ab=Cesium['Cartesian3']['normalize'](_0x508a31,new Cesium['Cartesian3']());if(_0x1f842c['scene']['mode']===Cesium['SceneMode']['COLUMBUS_VIEW']){var _0x3af10a=Cesium['Plane']['fromPointNormal'](_0x1f842c['scene']['camera']['positionWC'],_0x21c0ab),_0x2728d2=Cesium['Transforms']['convertToColumbusCartesian'](_0x1f842c['_editPoint']['position']);_0x2728d2['x']=0.1;var _0x34ea8c=new Cesium['Ray'](_0x2728d2,Cesium['Cartesian3']['UNIT_X']),_0x28750c=Cesium['IntersectionTests']['rayPlane'](_0x34ea8c,_0x3af10a);Cesium['defined'](_0x28750c)&&(_0x2ddd8b=Cesium['Transforms']['convertTo3DCartesian'](_0x28750c));}else{var _0x3af10a=Cesium['Plane']['fromPointNormal'](_0x1f842c['scene']['camera']['position'],_0x21c0ab),_0x34ea8c=new Cesium['Ray'](Cesium['Cartesian3']['ZERO'],_0x1f842c['_editPoint']['position']);_0x2ddd8b=Cesium['IntersectionTests']['rayPlane'](_0x34ea8c,_0x3af10a);}}else{var _0x34ea8c=_0x1f842c['scene']['camera']['getPickRay'](_0x172110);if(_0x1f842c['scene']['mode']===Cesium['SceneMode']['COLUMBUS_VIEW']){var _0x140f0c=Cesium['Transforms']['convertToColumbusCartesian'](_0x1f842c['_editPoint']['position']),_0x4b8bb7=Cesium['Plane']['fromPointNormal'](_0x140f0c,Cesium['Cartesian3']['UNIT_X']),_0x28750c=Cesium['IntersectionTests']['rayPlane'](_0x34ea8c,_0x4b8bb7);_0x2ddd8b=Cesium['Transforms']['convertTo3DCartesian'](_0x28750c);}else{var _0x4e7516=new Cesium['BoundingSphere'](Cesium['Cartesian3']['ZERO'],Cesium['Cartesian3']['distance'](_0x1f842c['_editPoint']['position'],Cesium['Cartesian3']['ZERO'])),_0x14bf60=Cesium['IntersectionTests']['raySphere'](_0x34ea8c,_0x4e7516);_0x2ddd8b=Cesium['Ray']['getPoint'](_0x34ea8c,_0x14bf60['start']);}}}if(!Cesium['defined'](_0x2ddd8b))return;;_0x1f842c['_editPoint']['position']=_0x2ddd8b;var _0x5ee3f9=_0x1f842c['_positions'];_0x5ee3f9[_0x1f842c['_editPointIndex']]=_0x2ddd8b,Cesium['defined'](_0x17e29b)&&(_0x17e29b['positions']=new Cesium['CallbackProperty'](function(){return _0x5ee3f9;},![])),Cesium['defined'](_0x280c51)&&(_0x280c51['hierarchy']=new Cesium['CallbackProperty'](function(){return{'positions':_0x5ee3f9,'holes':[]};},![])),_0x1f842c['refreshReferenceAddPoint']();}}};function _0x223f8a(_0xc24a2b,_0x22a8a4){var _0x50b06b=_0x22a8a4;if(_0x50b06b&&_0x50b06b['active']){var _0x488062=_0x48edff(_0x50b06b['scene'],_0xc24a2b);if(Cesium['defined'](_0x488062)){var _0x41d24d=_0x488062['id'];if(!Cesium['defined'](_0x41d24d))return;var _0x97541e=[];typeof _0x41d24d==='string'&&(_0x97541e=_0x41d24d['split']('_'));if(_0x97541e['length']==0x2){if(_0x97541e[0x0]===_0xdc7653){var _0x35c080=parseInt(_0x97541e[0x1]),_0x54c817=_0x50b06b['_addPositions'],_0xcc4f83=_0x54c817[_0x35c080],_0x53cd7f=_0x50b06b['_positions'];_0x53cd7f['splice'](_0x35c080+0x1,0x0,_0xcc4f83);var _0x591254=_0x50b06b['_polyline'];Cesium['defined'](_0x591254)&&(_0x591254['positions']=new Cesium['CallbackProperty'](function(){return _0x53cd7f;},![]));var _0x4f58c4=_0x50b06b['_polygon'];if(Cesium['defined'](_0x4f58c4)){var _0x4d822d=new Cesium['CallbackProperty'](function(){return _0x53cd7f;},![]),_0x53cd7f=_0x4f58c4['hierarchy']['getValue'](0x0);!Array['isArray'](_0x53cd7f)?_0x4f58c4['hierarchy']['positions']=_0x4d822d:_0x4f58c4['hierarchy']=_0x4d822d;}_0x50b06b['refreshReferencePoint'](),_0x50b06b['refreshReferenceAddPoint']();}}}}};function _0x35b9d8(_0x2d86b8,_0x1d7b59){var _0x2afb13=_0x1d7b59;if(_0x2afb13&&_0x2afb13['active']){var _0x5a6841=_0x48edff(_0x2afb13['scene'],_0x2d86b8);if(Cesium['defined'](_0x5a6841)){var _0x4fc9f8=_0x5a6841['id'];if(!Cesium['defined'](_0x4fc9f8))return;var _0xd1b325=[];typeof _0x4fc9f8==='string'&&(_0xd1b325=_0x4fc9f8['split']('_'));if(_0xd1b325['length']==0x2){if(_0xd1b325[0x0]===_0x3b05a6){var _0x331b02=parseInt(_0xd1b325[0x1]),_0x231b8c=_0x2afb13['_positions'];_0x231b8c['splice'](_0x331b02,0x1);var _0x2da6fc=_0x2afb13['_polyline'];Cesium['defined'](_0x2da6fc)&&(_0x2da6fc['positions']=new Cesium['CallbackProperty'](function(){return _0x231b8c;},![]));var _0x21bf6b=_0x2afb13['_polygon'];Cesium['defined'](_0x21bf6b)&&(_0x21bf6b['hierarchy']=new Cesium['CallbackProperty'](function(){return _0x231b8c;},![])),_0x2afb13['refreshReferencePoint'](),_0x2afb13['refreshReferenceAddPoint']();}}}}}export default _0x23341f;