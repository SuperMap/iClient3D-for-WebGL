const _0x5ce233=(function(){let _0x397d19=!![];return function(_0x229267,_0x56afa8){const _0x1e739d=_0x397d19?function(){if(_0x56afa8){const _0x3bdca1=_0x56afa8['apply'](_0x229267,arguments);return _0x56afa8=null,_0x3bdca1;}}:function(){};return _0x397d19=![],_0x1e739d;};}()),_0x5f1aab=_0x5ce233(this,function(){return _0x5f1aab['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x5f1aab)['search']('(((.+)+)+)+$');});_0x5f1aab();import _0x4d210a from'../Ext/XmlParser.js';import _0xa5301e from'../ThirdParty/pako_inflate.js';import _0x2dbc6c from'../ThirdParty/defer.js';import _0x2db19e from'./BlockCacheList.js';import _0x1533de from'./BlockCacheNode.js';import _0x35ad2f from'../Credential/Credential.js';const _0x4de7e8=Cesium['defined'];function _0x1ffd7b(_0x17b9f5){this['resource']=_0x17b9f5['resource'],this['version']=_0x17b9f5['version'],this['isHeightmap']=_0x17b9f5['isHeightmap'],this['tileUrlTemplates']=_0x17b9f5['tileUrlTemplates'],this['availability']=_0x17b9f5['availability'],this['hasVertexNormals']=_0x17b9f5['hasVertexNormals'],this['hasWaterMask']=_0x17b9f5['hasWaterMask'],this['hasMetadata']=_0x17b9f5['hasMetadata'],this['availabilityLevels']=_0x17b9f5['availabilityLevels'],this['availabilityTilesLoaded']=_0x17b9f5['availabilityTilesLoaded'],this['littleEndianExtensionSize']=_0x17b9f5['littleEndianExtensionSize'],this['availabilityTilesLoaded']=_0x17b9f5['availabilityTilesLoaded'],this['availabilityPromiseCache']={};}let _0x204128={'OCT_VERTEX_NORMALS':0x1,'WATER_MASK':0x2,'METADATA':0x4};function _0x3bde98(_0x3b2cb7){if(!Cesium['defined'](_0x3b2cb7)||!Cesium['defined'](_0x3b2cb7['url']))throw new Cesium['DeveloperError']('options.url\x20is\x20required.');this['_url']=Cesium['appendForwardSlash'](_0x3b2cb7['url']),this['_isSct']=Cesium['defaultValue'](_0x3b2cb7['isSct'],!![]),this['_heightmapWidth']=0x41,this['_heightmapStructure']=undefined,this['_hasWaterMask']=![],this['_hasVertexNormals']=![],this['_ellipsoid']=_0x3b2cb7['ellipsoid'],this['_requestVertexNormals']=Cesium['defaultValue'](_0x3b2cb7['requestVertexNormals'],![]),this['_requestWaterMask']=Cesium['defaultValue'](_0x3b2cb7['requestWaterMask'],![]),this['_requestMetadata']=Cesium['defaultValue'](_0x3b2cb7['requestMetadata'],!![]),this['_errorEvent']=new Cesium['Event']();let _0x19a901=_0x3b2cb7['credit'];typeof _0x19a901==='string'&&(_0x19a901=new Cesium['Credit'](_0x19a901));this['_credit']=_0x19a901,this['_scheme']='tms',this['_availability']=undefined,this['_ready']=![],this['_readyPromise']=_0x2dbc6c(),this['_tileCredits']=undefined;let _0x4992f4=this,_0x59bbba,_0x3c90a4,_0x385e2d=this['_layers']=[],_0x5b4be4=[],_0x45e21c=0x0;this['_isBlock']=![],this['_blockCache']={},this['_blockCacheQueue']=new _0x2db19e(),this['_blockCacheSize']=0x64,this['_blockScale']=0x0,this['_isTerrainZ']=![],this['_customRequestHeaders']=_0x3b2cb7['customRequestHeaders'],Promise['resolve'](_0x3b2cb7['url'])['then'](_0x1cd3b1=>{_0x59bbba=Cesium['Resource']['createIfNeeded'](_0x1cd3b1),_0x59bbba['appendForwardSlash']();let _0x2184de=_0x59bbba['getDerivedResource']({'url':'config'});_0x4de7e8(_0x35ad2f['CREDENTIAL'])&&(_0x4de7e8(_0x35ad2f['CREDENTIAL']['_keymap'][_0x2184de['url']])?_0x2184de['url']=_0x35ad2f['addTokenWithKey'](_0x2184de['url'],_0x2184de['url']):_0x2184de['url']=_0x35ad2f['addToken'](_0x2184de['url'])),this['_customRequestHeaders']&&(_0x2184de['headers']=Cesium['combine'](_0x2184de['headers'],this['_customRequestHeaders'])),_0x2184de['fetchXML']()['then'](_0x588f30,_0x26deef);},_0x5174b3=>{reject(_0x5174b3);});function _0x588f30(_0x398c54){let _0x53ca8e=_0x398c54['documentElement'],_0x344b52='data/path/{z}/{x}/{y}.terrainz?v={version}';_0x4992f4['_tilingScheme']=new Cesium['GeographicTilingScheme']({'numberOfLevelZeroTilesX':0x2,'numberOfLevelZeroTilesY':0x1,'ellipsoid':_0x4992f4['_ellipsoid']}),_0x4992f4['_levelZeroMaximumGeometricError']=Cesium['TerrainProvider']['getEstimatedLevelZeroGeometricErrorForAHeightmap'](_0x4992f4['_tilingScheme']['ellipsoid'],_0x4992f4['_heightmapWidth'],_0x4992f4['_tilingScheme']['getNumberOfXTilesAtLevel'](0x0));var _0x5a58c4=_0x4d210a['queryFirstNode'](_0x53ca8e,'StoreType',undefined);_0x4992f4['_blockScale']=_0x4d210a['queryNumericAttribute'](_0x5a58c4,'BlockScale',undefined);Cesium['defined'](_0x4992f4['_blockScale'])&&_0x4992f4['_blockScale']>0x0&&(_0x4992f4['_isBlock']=!![]);var _0x2273c0=_0x4d210a['queryStringValue'](_0x53ca8e,'FileExtentName',undefined);_0x2273c0=_0x2273c0['toLowerCase'](),_0x4992f4['_isTerrainZ']=_0x2273c0==='terrainz';let _0x283bbf=_0x4d210a['queryFirstNode'](_0x53ca8e,'Bounds',undefined),_0x1f5148=_0x4d210a['queryNumericValue'](_0x283bbf,'Left',undefined),_0x182e67=_0x4d210a['queryNumericValue'](_0x283bbf,'Right',undefined),_0x494058=_0x4d210a['queryNumericValue'](_0x283bbf,'Bottom',undefined),_0x18c3b5=_0x4d210a['queryNumericValue'](_0x283bbf,'Top',undefined);Cesium['defined'](_0x1f5148)&&Cesium['defined'](_0x182e67)&&Cesium['defined'](_0x494058)&&Cesium['defined'](_0x18c3b5)&&(_0x4992f4['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x1f5148,_0x494058,_0x182e67,_0x18c3b5));let _0x21b026=_0x4d210a['queryFirstNode'](_0x53ca8e,'Levels',undefined),_0x30fdd3=_0x4d210a['queryChildNodes'](_0x21b026,'Level',undefined),_0x3a544c=[];for(let _0x2e2567=0x0,_0x18130c=_0x30fdd3['length'];_0x2e2567<_0x18130c;_0x2e2567++){let _0x58311e=parseInt(_0x30fdd3[_0x2e2567]['textContent']);_0x3a544c['push'](_0x58311e);}let _0x25879f=_0x3a544c[0x0],_0xba10f4=_0x3a544c[_0x3a544c['length']-0x1];_0x4992f4['_levels']=_0x3a544c;let _0x2c2904=_0x4d210a['queryFirstNode'](_0x53ca8e,'Available',undefined);if(_0x2c2904){let _0x237342=_0x4d210a['queryChildNodes'](_0x2c2904,'TilesBounds',undefined),_0x463395=_0x25879f>0x0?_0x3a544c['length']+0x1:_0x3a544c['length'],_0x4f1024=new Array(_0x463395);for(let _0x3905e0=0x0;_0x3905e0<_0x25879f;_0x3905e0++){_0x4f1024[_0x3905e0]=[];}for(let _0x3f55a5=0x0,_0x5f1df9=_0x237342['length'];_0x3f55a5<_0x5f1df9;_0x3f55a5++){let _0x4c12f4=_0x237342[_0x3f55a5],_0x17ae67=_0x4d210a['queryNumericAttribute'](_0x4c12f4,'level',undefined),_0x2d39ef=[];_0x4f1024[_0x17ae67]=_0x2d39ef;let _0xf53da0=_0x4d210a['queryChildNodes'](_0x4c12f4,'TileBounds',undefined);for(let _0x5e37d6=0x0,_0x53c17b=_0xf53da0['length'];_0x5e37d6<_0x53c17b;_0x5e37d6++){let _0x4262d1=_0xf53da0[_0x5e37d6],_0x2d5e82=_0x4d210a['queryNumericValue'](_0x4262d1,'StartCol',undefined),_0x18b63e=_0x4d210a['queryNumericValue'](_0x4262d1,'StartRow',undefined),_0x46b128=_0x4d210a['queryNumericValue'](_0x4262d1,'EndCol',undefined),_0x2a48cb=_0x4d210a['queryNumericValue'](_0x4262d1,'EndRow',undefined);_0x2d39ef['push']({'startX':_0x2d5e82,'startY':_0x18b63e,'endX':_0x46b128,'endY':_0x2a48cb});}}_0x4f1024[0x0]=[{'startX':0x0,'startY':0x0,'endX':0x1,'endY':0x1}];let _0x1d0910=new Cesium['TileAvailability'](_0x4992f4['_tilingScheme'],_0xba10f4);for(let _0x1f07e3=0x0;_0x1f07e3<_0x4f1024['length'];++_0x1f07e3){let _0x469db0=_0x4f1024[_0x1f07e3],_0x29fec8=_0x4992f4['_tilingScheme']['getNumberOfYTilesAtLevel'](_0x1f07e3);!Cesium['defined'](_0x5b4be4[_0x1f07e3])&&(_0x5b4be4[_0x1f07e3]=[]);if(Cesium['defined'](_0x469db0))for(let _0x43d5ff=0x0;_0x43d5ff<_0x469db0['length'];++_0x43d5ff){let _0x39c049=_0x469db0[_0x43d5ff],_0x403885=_0x29fec8-_0x39c049['endY']-0x1,_0x307564=_0x29fec8-_0x39c049['startY']-0x1;_0x5b4be4[_0x1f07e3]['push']([_0x39c049['startX'],_0x403885,_0x39c049['endX'],_0x307564]),_0x1d0910['addAvailableTileRange'](_0x1f07e3,_0x39c049['startX'],_0x403885,_0x39c049['endX'],_0x307564);}}_0x4992f4['_availability']=_0x1d0910;}_0x385e2d['push'](new _0x1ffd7b({'resource':_0x59bbba,'version':'1.0.0','isHeightmap':![],'tileUrlTemplates':_0x344b52,'availability':undefined,'hasVertexNormals':![],'hasWaterMask':![],'hasMetadata':![],'availabilityLevels':0x0,'availabilityTilesLoaded':![],'littleEndianExtensionSize':!![]}));let _0x1fdb88=_0x5b4be4['length'];if(_0x1fdb88>0x0){let _0xc629c2=_0x4992f4['_availability']=new Cesium['TileAvailability'](_0x4992f4['_tilingScheme'],_0x45e21c);for(let _0x2bfc1e=0x0;_0x2bfc1e<_0x1fdb88;++_0x2bfc1e){let _0x4b7b00=_0x5b4be4[_0x2bfc1e];for(let _0x4f3043=0x0;_0x4f3043<_0x4b7b00['length'];++_0x4f3043){let _0xa6508c=_0x4b7b00[_0x4f3043];_0xc629c2['addAvailableTileRange'](_0x2bfc1e,_0xa6508c[0x0],_0xa6508c[0x1],_0xa6508c[0x2],_0xa6508c[0x3]);}}}_0x4992f4['_ready']=!![],_0x4992f4['_readyPromise']['resolve'](!![]);}function _0x26deef(_0xd6797d){Cesium['defined'](_0xd6797d)&&_0xd6797d['statusCode']===0x194&&_0x588f30({'tilejson':'2.1.0','format':'quantized-mesh-1.0','version':'1.0.0','scheme':'tms','tiles':['data/path/{z}/{x}/{y}.terrainz?v={version}']});}}Object['defineProperties'](_0x3bde98['prototype'],{'errorEvent':{'get':function(){return this['_errorEvent'];}},'credit':{'get':function(){if(!this['_ready'])throw new Cesium['DeveloperError']('credit\x20must\x20not\x20be\x20called\x20before\x20the\x20terrain\x20provider\x20is\x20ready.');return this['_credit'];}},'tilingScheme':{'get':function(){if(!this['_ready'])throw new Cesium['DeveloperError']('tilingScheme\x20must\x20not\x20be\x20called\x20before\x20the\x20terrain\x20provider\x20is\x20ready.');return this['_tilingScheme'];}},'ready':{'get':function(){return this['_ready'];}},'readyPromise':{'get':function(){return this['_readyPromise']['promise'];}},'hasWaterMask':{'get':function(){if(!this['_ready'])throw new Cesium['DeveloperError']('hasWaterMask\x20must\x20not\x20be\x20called\x20before\x20the\x20terrain\x20provider\x20is\x20ready.');return this['_hasWaterMask']&&this['_requestWaterMask'];}},'hasVertexNormals':{'get':function(){if(!this['_ready'])throw new Cesium['DeveloperError']('hasVertexNormals\x20must\x20not\x20be\x20called\x20before\x20the\x20terrain\x20provider\x20is\x20ready.');return this['_hasVertexNormals']&&this['_requestVertexNormals'];}},'hasMetadata':{'get':function(){if(!this['_ready'])throw new Cesium['DeveloperError']('hasMetadata\x20must\x20not\x20be\x20called\x20before\x20the\x20terrain\x20provider\x20is\x20ready.');return this['_hasMetadata']&&this['_requestMetadata'];}},'requestVertexNormals':{'get':function(){return this['_requestVertexNormals'];}},'requestWaterMask':{'get':function(){return this['_requestWaterMask'];}},'requestMetadata':{'get':function(){return this['_requestMetadata'];}},'availability':{'get':function(){if(!this['_ready'])throw new Cesium['DeveloperError']('availability\x20must\x20not\x20be\x20called\x20before\x20the\x20terrain\x20provider\x20is\x20ready.');return this['_availability'];}},'blockCache':{'get':function(){return this['_blockCache'];}},'blockCacheQueue':{'get':function(){return this['_blockCacheQueue'];}},'blockCacheSize':{'get':function(){return this['_blockCacheSize'];}},'customRequestHeaders':{'get':function(){return this['_customRequestHeaders'];},'set':function(_0x5a733a){this['_customRequestHeaders']=_0x5a733a;}}});function _0x3cda7c(_0x4d40b2,_0x2b0b12,_0x3f736f,_0x46e756,_0x194941,_0x3c1bdd){let _0x6287fe=_0x3c1bdd['littleEndianExtensionSize'],_0x5c29a9=0x0,_0xf17a06=0x3,_0x4649b7=_0xf17a06+0x1,_0x2addf1=Float64Array['BYTES_PER_ELEMENT']*_0xf17a06,_0x40318c=Float64Array['BYTES_PER_ELEMENT']*_0x4649b7,_0x9f3476=0x3,_0x45b3e5=Uint16Array['BYTES_PER_ELEMENT']*_0x9f3476,_0xace733=0x3,_0x3d846b=Uint16Array['BYTES_PER_ELEMENT'],_0xdcc726=_0x3d846b*_0xace733,_0x257edc=new DataView(_0x2b0b12),_0x1325af=new Cesium['Cartesian3'](_0x257edc['getFloat64'](_0x5c29a9,!![]),_0x257edc['getFloat64'](_0x5c29a9+0x8,!![]),_0x257edc['getFloat64'](_0x5c29a9+0x10,!![]));_0x5c29a9+=_0x2addf1;let _0x2f06b8=_0x257edc['getFloat32'](_0x5c29a9,!![]);_0x5c29a9+=Float32Array['BYTES_PER_ELEMENT'];let _0x2347fb=_0x257edc['getFloat32'](_0x5c29a9,!![]);_0x5c29a9+=Float32Array['BYTES_PER_ELEMENT'];let _0x40ce0e=new Cesium['BoundingSphere'](new Cesium['Cartesian3'](_0x257edc['getFloat64'](_0x5c29a9,!![]),_0x257edc['getFloat64'](_0x5c29a9+0x8,!![]),_0x257edc['getFloat64'](_0x5c29a9+0x10,!![])),_0x257edc['getFloat64'](_0x5c29a9+_0x2addf1,!![]));_0x5c29a9+=_0x40318c;let _0x1561c7=new Cesium['Cartesian3'](_0x257edc['getFloat64'](_0x5c29a9,!![]),_0x257edc['getFloat64'](_0x5c29a9+0x8,!![]),_0x257edc['getFloat64'](_0x5c29a9+0x10,!![]));_0x5c29a9+=_0x2addf1;let _0x44e856=_0x257edc['getUint32'](_0x5c29a9,!![]);_0x5c29a9+=Uint32Array['BYTES_PER_ELEMENT'];let _0x8891d3=new Uint16Array(_0x2b0b12,_0x5c29a9,_0x44e856*0x3);_0x5c29a9+=_0x44e856*_0x45b3e5;_0x44e856>0x40*0x400&&(_0x3d846b=Uint32Array['BYTES_PER_ELEMENT'],_0xdcc726=_0x3d846b*_0xace733);let _0x462714=_0x8891d3['subarray'](0x0,_0x44e856),_0x1befdb=_0x8891d3['subarray'](_0x44e856,0x2*_0x44e856),_0x59254a=_0x8891d3['subarray'](_0x44e856*0x2,0x3*_0x44e856);Cesium['AttributeCompression']['zigZagDeltaDecode'](_0x462714,_0x1befdb,_0x59254a);_0x5c29a9%_0x3d846b!==0x0&&(_0x5c29a9+=_0x3d846b-_0x5c29a9%_0x3d846b);let _0x1c7e91=_0x257edc['getUint32'](_0x5c29a9,!![]);_0x5c29a9+=Uint32Array['BYTES_PER_ELEMENT'];let _0x242085=Cesium['IndexDatatype']['createTypedArrayFromArrayBuffer'](_0x44e856,_0x2b0b12,_0x5c29a9,_0x1c7e91*_0xace733);_0x5c29a9+=_0x1c7e91*_0xdcc726;let _0x43419=0x0,_0x233c72=_0x242085['length'];for(let _0x23e425=0x0;_0x23e425<_0x233c72;++_0x23e425){let _0x544abe=_0x242085[_0x23e425];_0x242085[_0x23e425]=_0x43419-_0x544abe,_0x544abe===0x0&&++_0x43419;}let _0x452c07=_0x257edc['getUint32'](_0x5c29a9,!![]);_0x5c29a9+=Uint32Array['BYTES_PER_ELEMENT'];let _0x24aa80=Cesium['IndexDatatype']['createTypedArrayFromArrayBuffer'](_0x44e856,_0x2b0b12,_0x5c29a9,_0x452c07);_0x5c29a9+=_0x452c07*_0x3d846b;let _0x340066=_0x257edc['getUint32'](_0x5c29a9,!![]);_0x5c29a9+=Uint32Array['BYTES_PER_ELEMENT'];let _0xad6240=Cesium['IndexDatatype']['createTypedArrayFromArrayBuffer'](_0x44e856,_0x2b0b12,_0x5c29a9,_0x340066);_0x5c29a9+=_0x340066*_0x3d846b;let _0x48663d=_0x257edc['getUint32'](_0x5c29a9,!![]);_0x5c29a9+=Uint32Array['BYTES_PER_ELEMENT'];let _0x247fbb=Cesium['IndexDatatype']['createTypedArrayFromArrayBuffer'](_0x44e856,_0x2b0b12,_0x5c29a9,_0x48663d);_0x5c29a9+=_0x48663d*_0x3d846b;let _0x3edf96=_0x257edc['getUint32'](_0x5c29a9,!![]);_0x5c29a9+=Uint32Array['BYTES_PER_ELEMENT'];let _0x4718f7=Cesium['IndexDatatype']['createTypedArrayFromArrayBuffer'](_0x44e856,_0x2b0b12,_0x5c29a9,_0x3edf96);_0x5c29a9+=_0x3edf96*_0x3d846b;let _0x11607b,_0xa82548;while(_0x5c29a9<_0x257edc['byteLength']){let _0x17b20e=_0x257edc['getUint8'](_0x5c29a9,!![]);_0x5c29a9+=Uint8Array['BYTES_PER_ELEMENT'];let _0x35da42=_0x257edc['getUint32'](_0x5c29a9,_0x6287fe);_0x5c29a9+=Uint32Array['BYTES_PER_ELEMENT'];if(_0x17b20e===_0x204128['OCT_VERTEX_NORMALS']&&_0x4d40b2['_requestVertexNormals'])_0x11607b=new Uint8Array(_0x2b0b12,_0x5c29a9,_0x44e856*0x2);else{if(_0x17b20e===_0x204128['WATER_MASK']&&_0x4d40b2['_requestWaterMask'])_0xa82548=new Uint8Array(_0x2b0b12,_0x5c29a9,_0x35da42);else{if(_0x17b20e===_0x204128['METADATA']&&_0x4d40b2['_requestMetadata']&&!_0x4d40b2['_isSct']){let _0x49703c=_0x257edc['getUint32'](_0x5c29a9,!![]);if(_0x49703c>0x0){let _0xf02b61=Cesium['getStringFromTypedArray'](new Uint8Array(_0x2b0b12),_0x5c29a9+Uint32Array['BYTES_PER_ELEMENT'],_0x49703c),_0x31bcf4=JSON['parse'](_0xf02b61),_0x5f169b=_0x31bcf4['available'];if(Cesium['defined'](_0x5f169b))for(let _0x54ee0d=0x0;_0x54ee0d<_0x5f169b['length'];++_0x54ee0d){let _0x524af6=_0x3f736f+_0x54ee0d+0x1,_0x4a0161=_0x5f169b[_0x54ee0d],_0x16dca3=_0x4d40b2['_tilingScheme']['getNumberOfYTilesAtLevel'](_0x524af6);for(let _0x52dcc5=0x0;_0x52dcc5<_0x4a0161['length'];++_0x52dcc5){let _0x43eb7f=_0x4a0161[_0x52dcc5],_0x892787=_0x16dca3-_0x43eb7f['endY']-0x1,_0x4ebd35=_0x16dca3-_0x43eb7f['startY']-0x1;_0x4d40b2['availability']['addAvailableTileRange'](_0x524af6,_0x43eb7f['startX'],_0x892787,_0x43eb7f['endX'],_0x4ebd35),_0x3c1bdd['availability']['addAvailableTileRange'](_0x524af6,_0x43eb7f['startX'],_0x892787,_0x43eb7f['endX'],_0x4ebd35);}}}_0x3c1bdd['availabilityTilesLoaded']['addAvailableTileRange'](_0x3f736f,_0x46e756,_0x194941,_0x46e756,_0x194941);}}}_0x5c29a9+=_0x35da42;}let _0x15bf12=_0x4d40b2['getLevelMaximumGeometricError'](_0x3f736f)*0x5,_0x401238=_0x4d40b2['_tilingScheme']['tileXYToRectangle'](_0x46e756,_0x194941,_0x3f736f),_0x12c75a=Cesium['OrientedBoundingBox']['fromRectangle'](_0x401238,_0x2f06b8,_0x2347fb,_0x4d40b2['_tilingScheme']['ellipsoid']);return new Cesium['QuantizedMeshTerrainData']({'center':_0x1325af,'minimumHeight':_0x2f06b8,'maximumHeight':_0x2347fb,'boundingSphere':_0x40ce0e,'orientedBoundingBox':_0x12c75a,'horizonOcclusionPoint':_0x1561c7,'quantizedVertices':_0x8891d3,'encodedNormals':_0x11607b,'indices':_0x242085,'westIndices':_0x24aa80,'southIndices':_0xad6240,'eastIndices':_0x247fbb,'northIndices':_0x4718f7,'westSkirtHeight':_0x15bf12,'southSkirtHeight':_0x15bf12,'eastSkirtHeight':_0x15bf12,'northSkirtHeight':_0x15bf12,'childTileMask':0xf,'waterMask':_0xa82548,'credits':_0x4d40b2['_tileCredits']});}function _0x3c6e76(_0x174b1b,_0xb4396,_0x19e2b7){var _0x4725a3='';for(var _0x2f550f=_0x19e2b7;_0x2f550f>=0x0;--_0x2f550f){var _0x213ef6=0x1<<_0x2f550f,_0x15502d=0x0;if(!Cesium['isBitSet'](_0xb4396,_0x213ef6))_0x15502d|=0x2,!Cesium['isBitSet'](_0x174b1b,_0x213ef6)&&(_0x15502d|=0x1);else Cesium['isBitSet'](_0x174b1b,_0x213ef6)&&(_0x15502d|=0x1);_0x4725a3+=_0x15502d;}return _0x4725a3;}function _0x3d5502(_0x1b60d9,_0x14f39c,_0xdd6fd6,_0x53304e){var _0x23e986=Math['min'](_0x1b60d9['_blockScale'],_0x53304e),_0x2256bd=Math['pow'](0x2,_0x23e986),_0x58e982=Math['floor'](_0x14f39c/_0x2256bd),_0x316264=_0x14f39c%_0x2256bd,_0x3a8279=Math['floor'](_0xdd6fd6/_0x2256bd),_0x55f28c=_0xdd6fd6%_0x2256bd;return{'x':_0x58e982,'y':_0x3a8279,'col':_0x316264,'row':_0x55f28c,'level':_0x53304e,'blockSize':_0x2256bd};}function _0x549cc1(_0x45c085,_0x24e544){var _0x4dc9fc=new DataView(_0x45c085),_0x26c458=0x0,_0x35e3ec=_0x4dc9fc['getUint32'](_0x26c458,!![]);_0x26c458+=0x4;var _0x35b843=_0x4dc9fc['getUint32'](_0x26c458,!![]);_0x26c458+=0x4;var _0x397ae3=_0x24e544['col'],_0x430b40=_0x24e544['row'],_0x3b2d35=_0x430b40*_0x24e544['blockSize']+_0x397ae3,_0x2b2e32=0x0,_0x256605=0x0;for(var _0x503c91=0x0;_0x503c91<_0x35b843;_0x503c91++){if(_0x503c91<_0x3b2d35)_0x2b2e32+=_0x4dc9fc['getUint32'](_0x26c458,!![]);else{if(_0x503c91===_0x3b2d35){_0x256605=_0x4dc9fc['getUint32'](_0x26c458,!![]),_0x26c458+=0x4;break;}}_0x26c458+=0x4;}_0x26c458=0x8+_0x35b843*0x4;if(_0x256605===0x0)return undefined;return _0x26c458+=_0x2b2e32,new Uint8Array(_0x45c085)['slice'](_0x26c458,_0x26c458+_0x256605)['buffer'];}function _0x325b53(_0x5e6864,_0x24fa9f,_0x14d677,_0x53a047,_0x368c8a,_0x303f11,_0x49150d,_0x2d3351){var _0x38428f=_0x2d3351['x'],_0x3f4568=_0x2d3351['y'];return _0x5e6864['getDerivedResource']({'url':_0x24fa9f,'templateValues':{'version':_0x14d677['version'],'z':_0x53a047,'x':_0x38428f,'y':_0x3f4568},'headers':_0x368c8a,'request':_0x303f11})['fetchArrayBuffer']();}function _0x26d881(_0xabaf89,_0x3006ab,_0x10e53d,_0x4861ad,_0x227498,_0x3a35f9,_0x4adcd9,_0x323ce4,_0x1a4bfb){function _0xcdc58a(_0x41b294){var _0x411ccc;if(!Cesium['defined'](_0x41b294))return undefined;var _0x20b181=_0x3006ab['blockCache'][_0x4adcd9['quadKey']];!Cesium['defined'](_0x20b181['data'])&&(_0x20b181['data']=_0x41b294);_0x3006ab['blockCacheQueue']['touch'](_0x20b181),_0x3006ab['blockCacheQueue']['trim'](_0x3006ab['blockCacheSize']),_0x411ccc=_0x549cc1(_0x41b294,_0x4adcd9['blockInfo']);if(!Cesium['defined'](_0x411ccc))return Promise['reject']();return _0x411ccc=_0xa5301e['inflate'](new Uint8Array(_0x411ccc))['buffer'],_0x3cda7c(_0x3006ab,_0x411ccc,_0x227498,_0x10e53d,_0x4861ad,_0x3a35f9);}var _0x4a246c,_0x46c7eb=_0x3a35f9['resource'];_0x4adcd9['type']=0x5,_0x4adcd9['providerName']=_0x3006ab['tablename'],_0x4a246c=_0x3d5502(_0x3006ab,_0x10e53d,_0x323ce4,_0x227498),_0x4adcd9['quadKey']=_0x3c6e76(_0x4a246c['x'],_0x4a246c['y'],_0x4a246c['level']),_0x4adcd9['blockInfo']=_0x4a246c;var _0x33b421=_0x3006ab['blockCache'][_0x4adcd9['quadKey']];if(Cesium['defined'](_0x33b421)&&Cesium['defined'](_0x33b421['data'])){_0x3006ab['blockCacheQueue']['touch'](_0x33b421);var _0x23777a=_0x549cc1(_0x33b421['data'],_0x4a246c);if(!Cesium['defined'](_0x23777a))return Promise['reject']();return _0x23777a=_0xa5301e['inflate'](new Uint8Array(_0x23777a))['buffer'],_0x3cda7c(_0x3006ab,_0x23777a,_0x227498,_0x10e53d,_0x4861ad,_0x3a35f9);}var _0x33b421=_0x3006ab['blockCache'][_0x4adcd9['quadKey']||_0x227498+''+_0x10e53d+''+_0x4861ad];if(Cesium['defined'](_0x33b421))return _0x33b421['promise']['then'](_0xcdc58a);var _0x2ec2be=_0x325b53(_0x46c7eb,_0xabaf89,_0x3a35f9,_0x227498,_0x1a4bfb,_0x4adcd9,_0x3006ab,_0x4a246c);if(!_0x2ec2be)return undefined;return _0x33b421=new _0x1533de(_0x3006ab,_0x4adcd9['quadKey']||_0x227498+''+_0x10e53d+''+_0x4861ad),_0x3006ab['blockCache'][_0x4adcd9['quadKey']]=_0x33b421,_0x33b421['promise']=_0x2ec2be,_0x2ec2be['then'](_0xcdc58a);}_0x3bde98['prototype']['requestTileGeometry']=function(_0x5edddf,_0x398fc1,_0x49b0e4,_0x126c01){if(!this['_ready'])throw new Cesium['DeveloperError']('requestTileGeometry\x20must\x20not\x20be\x20called\x20before\x20the\x20terrain\x20provider\x20is\x20ready.');if(_0x49b0e4===0x0){let _0x33d8b4=new Uint16Array(0x40*0x40*0x3);for(let _0x49b9b0=0x0;_0x49b9b0<0x40;_0x49b9b0++){for(let _0x49706c=0x0;_0x49706c<0x40;_0x49706c++){_0x33d8b4[_0x49b9b0*0x40+_0x49706c]=Math['floor'](_0x49b9b0*0x7fff/0x3f),_0x33d8b4[0x40*0x40+_0x49b9b0*0x40+_0x49706c]=Math['floor'](_0x49706c*0x7fff/0x3f),_0x33d8b4[0x2*0x40*0x40+_0x49b9b0*0x40+_0x49706c]=0x0;}}let _0x1cd78a=new Uint16Array(0x3f*0x3f*0x6);for(let _0x7dcba3=0x0;_0x7dcba3<0x3f;_0x7dcba3++){for(let _0xf96d98=0x0;_0xf96d98<0x3f;_0xf96d98++){_0x1cd78a[0x6*(_0x7dcba3*0x3f+_0xf96d98)]=_0x7dcba3*0x40+_0xf96d98,_0x1cd78a[0x6*(_0x7dcba3*0x3f+_0xf96d98)+0x1]=(_0x7dcba3+0x1)*0x40+_0xf96d98+0x1,_0x1cd78a[0x6*(_0x7dcba3*0x3f+_0xf96d98)+0x2]=_0x7dcba3*0x40+_0xf96d98+0x1,_0x1cd78a[0x6*(_0x7dcba3*0x3f+_0xf96d98)+0x3]=(_0x7dcba3+0x1)*0x40+_0xf96d98,_0x1cd78a[0x6*(_0x7dcba3*0x3f+_0xf96d98)+0x4]=(_0x7dcba3+0x1)*0x40+_0xf96d98+0x1,_0x1cd78a[0x6*(_0x7dcba3*0x3f+_0xf96d98)+0x5]=_0x7dcba3*0x40+_0xf96d98;}}let _0x116647=new Uint16Array(0x0),_0x232cfb=new Cesium['Cartesian3'](NaN,-Infinity,NaN),_0x510172=new Cesium['Cartesian3'](0x0,-3189068.5,0x0);return _0x5edddf===0x1&&(_0x510172['y']=3189068.5,_0x232cfb['y']=Infinity),Promise['resolve'](new Cesium['QuantizedMeshTerrainData']({'center':_0x510172,'minimumHeight':0x0,'maximumHeight':0x0,'boundingSphere':new Cesium['BoundingSphere'](_0x510172,9567205.5),'horizonOcclusionPoint':_0x232cfb,'quantizedVertices':_0x33d8b4,'indices':_0x1cd78a,'westIndices':_0x116647,'southIndices':_0x116647,'eastIndices':_0x116647,'northIndices':_0x116647,'westSkirtHeight':0x0,'southSkirtHeight':0x0,'eastSkirtHeight':0x0,'northSkirtHeight':0x0,'childTileMask':0xf,'invalid':![],'hasInvalid':![]}));}let _0x58a4eb=this['_layers'],_0x5cdd6e,_0x4d3f15=_0x58a4eb['length'];if(_0x4d3f15===0x1)_0x5cdd6e=_0x58a4eb[0x0];else for(let _0x561e50=0x0;_0x561e50<_0x4d3f15;++_0x561e50){let _0x2cb8c8=_0x58a4eb[_0x561e50];if(!Cesium['defined'](_0x2cb8c8['availability'])||_0x2cb8c8['availability']['isTileAvailable'](_0x49b0e4,_0x5edddf,_0x398fc1)){_0x5cdd6e=_0x2cb8c8;break;}}return!Cesium['defined'](_0x126c01)&&(_0x126c01=new Cesium['Request']({'throttle':![],'throttleByServer':![],'type':Cesium['RequestType']['TERRAIN']})),_0x3da88b(this,_0x5edddf,_0x398fc1,_0x49b0e4,_0x5cdd6e,_0x126c01);};function _0x3da88b(_0x44f897,_0x18a995,_0x30e1a6,_0x6c967e,_0x57e684,_0x435004){let _0x59a663=_0x44f897['_url']+_0x57e684['tileUrlTemplates'];_0x4de7e8(_0x35ad2f['CREDENTIAL'])&&(_0x4de7e8(_0x35ad2f['CREDENTIAL']['_keymap'][_0x59a663])?_0x59a663=_0x35ad2f['addTokenWithKey'](_0x59a663,_0x59a663):_0x59a663=_0x35ad2f['addToken'](_0x59a663));let _0x2dfe3c;if(!_0x44f897['_scheme']||_0x44f897['_scheme']==='tms'){let _0x14f69d=_0x44f897['_tilingScheme']['getNumberOfYTilesAtLevel'](_0x6c967e);_0x2dfe3c=_0x14f69d-_0x30e1a6-0x1;}else _0x2dfe3c=_0x30e1a6;let _0x22bc92=_0x59a663,_0x538b53=_0x57e684['resource'];_0x4de7e8(_0x35ad2f['CREDENTIAL'])&&(_0x4de7e8(_0x35ad2f['CREDENTIAL']['_keymap'][_0x538b53['url']])?_0x538b53['url']=_0x35ad2f['addTokenWithKey'](_0x538b53['url'],_0x538b53['url']):_0x538b53['url']=_0x35ad2f['addToken'](_0x538b53['url']));let _0x38a7a4={'Accept':'application/vnd.quantized-mesh,application/octet-stream;q=0.9,*/*;q=0.01'};_0x4de7e8(_0x44f897['_customRequestHeaders'])&&(_0x38a7a4=Cesium['combine'](_0x38a7a4,_0x44f897['_customRequestHeaders']));if(_0x44f897['_isBlock'])return _0x26d881(_0x22bc92,_0x44f897,_0x18a995,_0x30e1a6,_0x6c967e,_0x57e684,_0x435004,_0x2dfe3c,_0x38a7a4);let _0x1a7dad=_0x538b53['getDerivedResource']({'url':_0x22bc92,'templateValues':{'version':_0x57e684['version'],'z':_0x6c967e,'x':_0x18a995,'y':_0x2dfe3c},'headers':_0x38a7a4,'request':_0x435004})['fetchArrayBuffer']();if(!Cesium['defined'](_0x1a7dad))return undefined;return _0x1a7dad['then'](function(_0x34d2b5){return _0x34d2b5=_0xa5301e['inflate'](new Uint8Array(_0x34d2b5))['buffer'],_0x3cda7c(_0x44f897,_0x34d2b5,_0x6c967e,_0x18a995,_0x30e1a6,_0x57e684);});}_0x3bde98['prototype']['getLevelMaximumGeometricError']=function(_0x1a1cad){return this['_levelZeroMaximumGeometricError']/(0x1<<_0x1a1cad);};let _0x16692d=new Cesium['Rectangle']();_0x3bde98['prototype']['getTileDataAvailable']=function(_0x358e71,_0x11ce33,_0x522d2a){if(_0x522d2a!==0x0){if(this['_levels']['indexOf'](_0x522d2a)!==-0x1){let _0x5eb864=this['_tilingScheme']['tileXYToRectangle'](_0x358e71,_0x11ce33,_0x522d2a),_0x1b677b=Cesium['Rectangle']['intersection'](this['_rectangle'],_0x5eb864,_0x16692d);return Cesium['defined'](_0x1b677b);}return![];}if(!Cesium['defined'](this['_availability']))return undefined;if(_0x522d2a>this['_availability']['_maximumLevel'])return![];if(this['_availability']['isTileAvailable'](_0x522d2a,_0x358e71,_0x11ce33))return!![];if(!this['_hasMetadata'])return![];return![];},_0x3bde98['prototype']['loadTileDataAvailability']=function(_0xaab14d,_0x45bd2c,_0x569b2d){};export default _0x3bde98;