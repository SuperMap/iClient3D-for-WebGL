var _0x28505e=(function(){var _0x33ef99=!![];return function(_0x3add3d,_0x18a941){var _0x558d83=_0x33ef99?function(){if(_0x18a941){var _0x527143=_0x18a941['apply'](_0x3add3d,arguments);return _0x18a941=null,_0x527143;}}:function(){};return _0x33ef99=![],_0x558d83;};}()),_0x241ac5=_0x28505e(this,function(){return _0x241ac5['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x241ac5)['search']('(((.+)+)+)+$');});_0x241ac5();import _0x3fccc7 from'../ThirdParty/defer.js';let _0x382d6c=Cesium['loadImageFromTypedArray'],_0x4a29b0=Cesium['defined'],_0x592054=Cesium['RequestState'],_0x386500=Object['assign']({'PACK':0x4,'BLOCK':0x5,'BLOCKPACK':0x6},Cesium['RequestType']);var _0x45f9e4={'webp':'image/webp','png':'image/png'},_0x3614f4={'UNLOADED':0x0,'TRANSITIONING':0x1,'RECEIVED':0x2,'TEXTURE_LOADED':0x3,'READY':0x4,'FAILED':0x5,'INVALID':0x6,'PLACEHOLDER':0x7,'RENDERING':0x8,'RENDERED':0x9},_0x3823ac=/\.dxtz/i;function _0x315b5b(_0x53197d,_0x182d41,_0x1026fd){var _0x30c7ba=new DataView(_0x53197d,_0x182d41,_0x1026fd),_0x2fb8dc=0x0,_0x572efb=_0x30c7ba['getUint32'](_0x2fb8dc,!![]);_0x2fb8dc+=Uint32Array['BYTES_PER_ELEMENT'];var _0x30625b=_0x30c7ba['getUint32'](_0x2fb8dc,!![]);_0x2fb8dc+=Uint32Array['BYTES_PER_ELEMENT'];var _0x466ea4=_0x572efb===0x20?PixelFormat['RGBA_DXT5']:PixelFormat['RGB_DXT1'],_0x4d5f98=_0x30c7ba['getUint32'](_0x2fb8dc,!![]);_0x2fb8dc+=Uint32Array['BYTES_PER_ELEMENT'];var _0x44a07f=_0x30c7ba['getUint32'](_0x2fb8dc,!![]);_0x2fb8dc+=Uint32Array['BYTES_PER_ELEMENT'];var _0xe6f1cc=_0x30c7ba['getUint32'](_0x2fb8dc,!![]);_0x2fb8dc+=Uint32Array['BYTES_PER_ELEMENT'];var _0xe40abe=_0x30c7ba['getUint32'](_0x2fb8dc,!![]);_0x2fb8dc+=Uint32Array['BYTES_PER_ELEMENT'];var _0x5283c0=new Uint8Array(_0x53197d,_0x2fb8dc+_0x182d41,_0xe40abe),_0x196e13=pako['inflate'](_0x5283c0)['buffer'],_0x122cb9=new Uint8Array(_0x196e13);return new CompressedTextureBuffer(_0x466ea4,_0x4d5f98,_0x44a07f,_0x122cb9);}function _0xdf2f10(_0x1f2c8c,_0x2795ce,_0x339d40){var _0x3be764=new DataView(_0x1f2c8c),_0x5b5bee=0x0,_0x497ed0=_0x3be764['getUint32'](_0x5b5bee,!![]);_0x5b5bee+=0x4;var _0x5dcc6e=_0x3be764['getUint32'](_0x5b5bee,!![]);_0x5b5bee+=0x4;var _0xbf4590=_0x2795ce['col'],_0x47bc55=_0x2795ce['row'],_0x58fdfe=_0x47bc55*_0x2795ce['blockSize']+_0xbf4590,_0x1c820c=0x0,_0x2ecd76=0x0;for(var _0x4f6bcd=0x0;_0x4f6bcd<_0x5dcc6e;_0x4f6bcd++){if(_0x4f6bcd<_0x58fdfe)_0x1c820c+=_0x3be764['getUint32'](_0x5b5bee,!![]);else{if(_0x4f6bcd===_0x58fdfe){_0x2ecd76=_0x3be764['getUint32'](_0x5b5bee,!![]),_0x5b5bee+=0x4;break;}}_0x5b5bee+=0x4;}_0x5b5bee=0x8+_0x5dcc6e*0x4;if(_0x2ecd76===0x0)return undefined;_0x5b5bee+=_0x1c820c;var _0x5338f9=_0x3fccc7(),_0x5f36ad=_0x2795ce['url'];return _0x3823ac['test'](_0x5f36ad)?_0x5338f9['resolve'](_0x315b5b(_0x1f2c8c,_0x5b5bee,_0x2ecd76)):_0x382d6c({'uint8Array':new Uint8Array(_0x1f2c8c,_0x5b5bee,_0x2ecd76),'format':_0x339d40,'flipY':!![]});}function _0x5de120(_0x2c5440,_0x310a46){const _0x2d8edf=_0x310a46['_imageryProvider'],_0x50d66a=_0x310a46;function _0x3aeb16(_0x3893f5){if(!_0x4a29b0(_0x3893f5))return _0x465c6b();var _0x30bd74=_0x45f9e4[_0x2d8edf['_fileExtension']],_0x319c3e=_0x2d8edf['blockCache'][_0x2c5440['request']['quadKey']];!_0x4a29b0(_0x319c3e['data'])&&(_0x319c3e['data']=_0x3893f5);_0x2d8edf['blockCacheQueue']['touch'](_0x319c3e),_0x2d8edf['blockCacheQueue']['trim'](_0x2d8edf['blockCacheSize']);_0x4a29b0(_0x2d8edf['_cacheKey'])&&_0x2d8edf['_cacheKey']['length']>0x0&&(_0x3893f5=decodeArrayBuffer(_0x3893f5,_0x2d8edf['_cacheKey']));var _0x142c59=_0xdf2f10(_0x3893f5,_0x2c5440['request']['blockInfo'],_0x30bd74);!_0x4a29b0(_0x142c59)&&(_0x2c5440['state']=_0x3614f4['FAILED']);_0x142c59['then'](function(_0x27bc6b){_0x2c5440['image']=_0x27bc6b,_0x2c5440['state']=_0x3614f4['RECEIVED'];},_0x5575b5=>{_0x2c5440['state']=_0x3614f4['FAILED'];}),_0x2c5440['request']=undefined;if(_0x4a29b0(Cesium['TileProviderError']['handleSuccess']))Cesium['TileProviderError']['handleSuccess'](_0x50d66a['_requestImageError']);else _0x4a29b0(Cesium['TileProviderError']['reportSuccess'])&&Cesium['TileProviderError']['reportSuccess'](_0x50d66a['_requestImageError']);}function _0x465c6b(_0x256939){if(_0x2c5440['request']['state']===_0x592054['CANCELLED']){_0x2c5440['state']=_0x3614f4['UNLOADED'],_0x2c5440['request']=undefined;return;}_0x2c5440['state']=_0x3614f4['FAILED'],_0x2c5440['request']=undefined;const _0x2198ec='Failed\x20to\x20obtain\x20image\x20tile\x20X:\x20'+_0x2c5440['x']+'\x20Y:\x20'+_0x2c5440['y']+'\x20Level:\x20'+_0x2c5440['level']+'.';_0x50d66a['_requestImageError']=Cesium['TileProviderError']['handleError'](_0x50d66a['_requestImageError'],_0x2d8edf,_0x2d8edf['errorEvent'],_0x2198ec,_0x2c5440['x'],_0x2c5440['y'],_0x2c5440['level'],_0x1c9d65,_0x256939);}function _0x1c9d65(_0x1a3fea){var _0xe0ed68=new Cesium['Request']({'throttle':![],'throttleByServer':!![],'type':_0x386500['IMAGERY']});_0xe0ed68['cacheEnable']=_0x1a3fea,_0x2c5440['request']=_0xe0ed68,_0x2c5440['state']=_0x3614f4['TRANSITIONING'];var _0xc58785=_0x2d8edf['requestImage'](_0x2c5440['x'],_0x2c5440['y'],_0x2c5440['level'],_0xe0ed68,_0x2c5440['rectangle'],_0x2c5440);if(!_0x4a29b0(_0xc58785)){_0x2c5440['state']=_0x3614f4['UNLOADED'],_0x2c5440['request']=undefined;return;}_0x4a29b0(_0x2d8edf['getTileCredits'])&&(_0x2c5440['credits']=_0x2d8edf['getTileCredits'](_0x2c5440['x'],_0x2c5440['y'],_0x2c5440['level'])),!_0x4a29b0(_0xc58785['then'])&&(_0xc58785=Promise['resolve'](_0xc58785)),_0xc58785['then'](_0x3aeb16,_0x465c6b);}_0x1c9d65(!![]);}Cesium['ImageryLayer']['prototype']['hookRequestImageryFunc']=Cesium['ImageryLayer']['prototype']['_requestImagery'],Cesium['ImageryLayer']['prototype']['_requestImagery']=function(_0x9b610){_0x9b610['imageryLayer']['imageryProvider']['isBlock']?_0x5de120(_0x9b610,this):this['hookRequestImageryFunc'](_0x9b610);};export default{};