var _0x3bfec4=(function(){var _0xe4bb2f=!![];return function(_0x2ae275,_0x10a376){var _0x4a1c86=_0xe4bb2f?function(){if(_0x10a376){var _0x588728=_0x10a376['apply'](_0x2ae275,arguments);return _0x10a376=null,_0x588728;}}:function(){};return _0xe4bb2f=![],_0x4a1c86;};}()),_0x56a623=_0x3bfec4(this,function(){return _0x56a623['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x56a623)['search']('(((.+)+)+)+$');});_0x56a623();import _0x327237 from'../ThirdParty/defer.js';let _0x38ece2=Cesium['loadImageFromTypedArray'],_0x1d2fc0=Cesium['defined'],_0x471388=Cesium['RequestState'],_0x542176=Object['assign']({'PACK':0x4,'BLOCK':0x5,'BLOCKPACK':0x6},Cesium['RequestType']);var _0x1a50d9={'webp':'image/webp','png':'image/png'},_0x1cfb86={'UNLOADED':0x0,'TRANSITIONING':0x1,'RECEIVED':0x2,'TEXTURE_LOADED':0x3,'READY':0x4,'FAILED':0x5,'INVALID':0x6,'PLACEHOLDER':0x7,'RENDERING':0x8,'RENDERED':0x9},_0x274888=/\.dxtz/i;function _0x30c624(_0x3aa3ba,_0x458530,_0x176916){var _0x30e083=new DataView(_0x3aa3ba,_0x458530,_0x176916),_0x18ecce=0x0,_0xa89ba7=_0x30e083['getUint32'](_0x18ecce,!![]);_0x18ecce+=Uint32Array['BYTES_PER_ELEMENT'];var _0x5b3a3a=_0x30e083['getUint32'](_0x18ecce,!![]);_0x18ecce+=Uint32Array['BYTES_PER_ELEMENT'];var _0x18414e=_0xa89ba7===0x20?PixelFormat['RGBA_DXT5']:PixelFormat['RGB_DXT1'],_0x5e7ac0=_0x30e083['getUint32'](_0x18ecce,!![]);_0x18ecce+=Uint32Array['BYTES_PER_ELEMENT'];var _0x452fc2=_0x30e083['getUint32'](_0x18ecce,!![]);_0x18ecce+=Uint32Array['BYTES_PER_ELEMENT'];var _0x4d1ef8=_0x30e083['getUint32'](_0x18ecce,!![]);_0x18ecce+=Uint32Array['BYTES_PER_ELEMENT'];var _0x21fdc7=_0x30e083['getUint32'](_0x18ecce,!![]);_0x18ecce+=Uint32Array['BYTES_PER_ELEMENT'];var _0x13590a=new Uint8Array(_0x3aa3ba,_0x18ecce+_0x458530,_0x21fdc7),_0x25e625=pako['inflate'](_0x13590a)['buffer'],_0x1c93b5=new Uint8Array(_0x25e625);return new CompressedTextureBuffer(_0x18414e,_0x5e7ac0,_0x452fc2,_0x1c93b5);}function _0x10c781(_0x1033ea,_0x5eaec1,_0xc1d855){var _0x25bd48=new DataView(_0x1033ea),_0x53dedc=0x0,_0x1d1eb6=_0x25bd48['getUint32'](_0x53dedc,!![]);_0x53dedc+=0x4;var _0x495457=_0x25bd48['getUint32'](_0x53dedc,!![]);_0x53dedc+=0x4;var _0xb1ac0a=_0x5eaec1['col'],_0x2cb9a3=_0x5eaec1['row'],_0x5e5293=_0x2cb9a3*_0x5eaec1['blockSize']+_0xb1ac0a,_0x2ddb0d=0x0,_0x36b8f8=0x0;for(var _0x176ae4=0x0;_0x176ae4<_0x495457;_0x176ae4++){if(_0x176ae4<_0x5e5293)_0x2ddb0d+=_0x25bd48['getUint32'](_0x53dedc,!![]);else{if(_0x176ae4===_0x5e5293){_0x36b8f8=_0x25bd48['getUint32'](_0x53dedc,!![]),_0x53dedc+=0x4;break;}}_0x53dedc+=0x4;}_0x53dedc=0x8+_0x495457*0x4;if(_0x36b8f8===0x0)return undefined;_0x53dedc+=_0x2ddb0d;var _0x42c39e=_0x327237(),_0x2303a8=_0x5eaec1['url'];return _0x274888['test'](_0x2303a8)?_0x42c39e['resolve'](_0x30c624(_0x1033ea,_0x53dedc,_0x36b8f8)):_0x38ece2({'uint8Array':new Uint8Array(_0x1033ea,_0x53dedc,_0x36b8f8),'format':_0xc1d855,'flipY':!![]});}function _0x1fcbba(_0x5c0bdd,_0x265f1d){const _0x281f31=_0x265f1d['_imageryProvider'],_0x502028=_0x265f1d;function _0x569c2f(_0x5e1cd1){if(!_0x1d2fc0(_0x5e1cd1))return _0x47496f();var _0x405350=_0x1a50d9[_0x281f31['_fileExtension']],_0x5990b9=_0x281f31['blockCache'][_0x5c0bdd['request']['quadKey']];!_0x1d2fc0(_0x5990b9['data'])&&(_0x5990b9['data']=_0x5e1cd1);_0x281f31['blockCacheQueue']['touch'](_0x5990b9),_0x281f31['blockCacheQueue']['trim'](_0x281f31['blockCacheSize']);_0x1d2fc0(_0x281f31['_cacheKey'])&&_0x281f31['_cacheKey']['length']>0x0&&(_0x5e1cd1=decodeArrayBuffer(_0x5e1cd1,_0x281f31['_cacheKey']));var _0x1a2aec=_0x10c781(_0x5e1cd1,_0x5c0bdd['request']['blockInfo'],_0x405350);!_0x1d2fc0(_0x1a2aec)&&(_0x5c0bdd['state']=_0x1cfb86['FAILED']);_0x1a2aec['then'](function(_0x1d7c63){_0x5c0bdd['image']=_0x1d7c63,_0x5c0bdd['state']=_0x1cfb86['RECEIVED'];},_0x3be462=>{_0x5c0bdd['state']=_0x1cfb86['FAILED'];}),_0x5c0bdd['request']=undefined;if(_0x1d2fc0(Cesium['TileProviderError']['handleSuccess']))Cesium['TileProviderError']['handleSuccess'](_0x502028['_requestImageError']);else _0x1d2fc0(Cesium['TileProviderError']['reportSuccess'])&&Cesium['TileProviderError']['reportSuccess'](_0x502028['_requestImageError']);}function _0x47496f(_0x2981c7){if(_0x5c0bdd['request']['state']===_0x471388['CANCELLED']){_0x5c0bdd['state']=_0x1cfb86['UNLOADED'],_0x5c0bdd['request']=undefined;return;}_0x5c0bdd['state']=_0x1cfb86['FAILED'],_0x5c0bdd['request']=undefined;const _0x54e6d2='Failed\x20to\x20obtain\x20image\x20tile\x20X:\x20'+_0x5c0bdd['x']+'\x20Y:\x20'+_0x5c0bdd['y']+'\x20Level:\x20'+_0x5c0bdd['level']+'.';_0x502028['_requestImageError']=Cesium['TileProviderError']['handleError'](_0x502028['_requestImageError'],_0x281f31,_0x281f31['errorEvent'],_0x54e6d2,_0x5c0bdd['x'],_0x5c0bdd['y'],_0x5c0bdd['level'],_0x1338f9,_0x2981c7);}function _0x1338f9(_0x579cb9){var _0x46fbb2=new Cesium['Request']({'throttle':![],'throttleByServer':!![],'type':_0x542176['IMAGERY']});_0x46fbb2['cacheEnable']=_0x579cb9,_0x5c0bdd['request']=_0x46fbb2,_0x5c0bdd['state']=_0x1cfb86['TRANSITIONING'];var _0x6fe3c4=_0x281f31['requestImage'](_0x5c0bdd['x'],_0x5c0bdd['y'],_0x5c0bdd['level'],_0x46fbb2,_0x5c0bdd['rectangle'],_0x5c0bdd);if(!_0x1d2fc0(_0x6fe3c4)){_0x5c0bdd['state']=_0x1cfb86['UNLOADED'],_0x5c0bdd['request']=undefined;return;}_0x1d2fc0(_0x281f31['getTileCredits'])&&(_0x5c0bdd['credits']=_0x281f31['getTileCredits'](_0x5c0bdd['x'],_0x5c0bdd['y'],_0x5c0bdd['level'])),!_0x1d2fc0(_0x6fe3c4['then'])&&(_0x6fe3c4=Promise['resolve'](_0x6fe3c4)),_0x6fe3c4['then'](_0x569c2f,_0x47496f);}_0x1338f9(!![]);}Cesium['ImageryLayer']['prototype']['hookRequestImageryFunc']=Cesium['ImageryLayer']['prototype']['_requestImagery'],Cesium['ImageryLayer']['prototype']['_requestImagery']=function(_0x4f4365){_0x4f4365['imageryLayer']['imageryProvider']['isBlock']?_0x1fcbba(_0x4f4365,this):this['hookRequestImageryFunc'](_0x4f4365);};export default{};