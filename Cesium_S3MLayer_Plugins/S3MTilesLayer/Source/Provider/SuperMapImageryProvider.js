const _0x5565ae=(function(){let _0x155ea8=!![];return function(_0x56bed6,_0xa94d56){const _0x4e227a=_0x155ea8?function(){if(_0xa94d56){const _0x1c44e4=_0xa94d56['apply'](_0x56bed6,arguments);return _0xa94d56=null,_0x1c44e4;}}:function(){};return _0x155ea8=![],_0x4e227a;};}()),_0x42f533=_0x5565ae(this,function(){return _0x42f533['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x42f533)['search']('(((.+)+)+)+$');});_0x42f533();import _0x2c864f from'../Ext/XmlParser.js';import _0x4c4a93 from'./CustomTilingScheme.js';import _0x955995 from'../ThirdParty/defer.js';import _0x1c88b6 from'./BlockCacheList.js';import _0xb96332 from'./BlockCacheNode.js';import _0x456ca5 from'../Credential/Credential.js';const _0x11bb6e=Cesium['defined'],_0x32a312=Cesium['DeveloperError'];function _0x1e58b1(_0x146e0f,_0x560d0c){let _0x39afea='http://www.supermap.com/SuperMapCache/sci3d',_0xc87502=_0x560d0c['documentElement'];var _0x2fc3ed=_0x2c864f['queryFirstNode'](_0xc87502,'StoreType',_0x39afea),_0xc0b613=_0x2e7c08(_0x2fc3ed,'BlockScale',_0x39afea);typeof _0xc0b613==='number'&&(_0x146e0f['_isBlock']=!![],_0x146e0f['_blockScale']=_0xc0b613);let _0x68624b=_0x2c864f['queryFirstNode'](_0xc87502,'Bounds',_0x39afea),_0x240c37=_0x2c864f['queryNumericValue'](_0x68624b,'Left',_0x39afea),_0x48ef8e=_0x2c864f['queryNumericValue'](_0x68624b,'Right',_0x39afea),_0x40b9a5=_0x2c864f['queryNumericValue'](_0x68624b,'Top',_0x39afea),_0x253e19=_0x2c864f['queryNumericValue'](_0x68624b,'Bottom',_0x39afea),_0x2f0bb4=_0x2c864f['queryStringValue'](_0xc87502,'FileExtentName',_0x39afea),_0x1b0919=_0x2c864f['queryNumericValue'](_0xc87502,'CellWidth',_0x39afea),_0x4bb48b=_0x2c864f['queryNumericValue'](_0xc87502,'CellHeight',_0x39afea),_0x2809ee=_0x2c864f['queryFirstNode'](_0xc87502,'Levels',_0x39afea),_0x1f4aaf=_0x2c864f['queryNodes'](_0x2809ee,'Level',_0x39afea),_0x471fc3=[];for(let _0x48a61f=0x0,_0x5da363=_0x1f4aaf['length'];_0x48a61f<_0x5da363;_0x48a61f++){_0x471fc3['push'](parseInt(_0x1f4aaf[_0x48a61f]['textContent'],0xa));}_0x146e0f['_fileExtension']=Cesium['defaultValue'](_0x2f0bb4,'png'),_0x146e0f['_tileFormat']=Cesium['defaultValue'](_0x2f0bb4,'png'),_0x146e0f['_tileWidth']=Cesium['defaultValue'](_0x1b0919,0x100),_0x146e0f['_tileHeight']=Cesium['defaultValue'](_0x4bb48b,0x100);let _0x52caeb=_0x471fc3['length'];_0x146e0f['_minimumLevel']=Cesium['defaultValue'](_0x471fc3[0x0],0x0),_0x146e0f['_maximumLevel']=Cesium['defaultValue'](_0x146e0f['_maximumLevel'],_0x471fc3[_0x52caeb-0x1]);!_0x146e0f['_tilingScheme']&&(_0x146e0f['_tilingScheme']=new Cesium['GeographicTilingScheme']());let _0x1dfd94=_0x146e0f['_tilingScheme'];!_0x146e0f['_rectangle']&&_0x240c37&&_0x48ef8e&&_0x40b9a5&&_0x253e19&&(_0x146e0f['_rectangle']=new Cesium['Rectangle'](Cesium['Math']['toRadians'](_0x240c37),Cesium['Math']['toRadians'](_0x253e19),Cesium['Math']['toRadians'](_0x48ef8e),Cesium['Math']['toRadians'](_0x40b9a5)));_0x146e0f['_rectangle']['west']<_0x1dfd94['rectangle']['west']&&(_0x146e0f['_rectangle']['west']=_0x1dfd94['rectangle']['west']);_0x146e0f['_rectangle']['east']>_0x1dfd94['rectangle']['east']&&(_0x146e0f['_rectangle']['east']=_0x1dfd94['rectangle']['east']);_0x146e0f['_rectangle']['south']<_0x1dfd94['rectangle']['south']&&(_0x146e0f['_rectangle']['south']=_0x1dfd94['rectangle']['south']);_0x146e0f['_rectangle']['north']>_0x1dfd94['rectangle']['north']&&(_0x146e0f['_rectangle']['north']=_0x1dfd94['rectangle']['north']);let _0x390d6a=_0x1dfd94['positionToTileXY'](Cesium['Rectangle']['southwest'](_0x146e0f['_rectangle']),_0x146e0f['_minimumLevel']),_0x1bfaa2=_0x1dfd94['positionToTileXY'](Cesium['Rectangle']['northeast'](_0x146e0f['_rectangle']),_0x146e0f['_minimumLevel']),_0x444a32=(Math['abs'](_0x1bfaa2['x']-_0x390d6a['x'])+0x1)*(Math['abs'](_0x1bfaa2['y']-_0x390d6a['y'])+0x1);_0x444a32>0x4&&(_0x146e0f['_minimumLevel']=0x0),_0x146e0f['_urlTemplate']=_0x146e0f['_url']+'data/index/{y}/{x}.{fileExtension}?level={level}',_0x11bb6e(_0x456ca5['CREDENTIAL'])&&(_0x11bb6e(_0x456ca5['CREDENTIAL']['_keymap'][_0x146e0f['_urlTemplate']])?_0x146e0f['_urlTemplate']=_0x456ca5['addTokenWithKey'](_0x146e0f['_urlTemplate'],_0x146e0f['_urlTemplate']):_0x146e0f['_urlTemplate']=_0x456ca5['addToken'](_0x146e0f['_urlTemplate'])),_0x146e0f['_ready']=!![],_0x146e0f['_readyPromise']['resolve'](!![]);}function _0x36fd75(_0x133814,_0x4dd6ae){let _0x40fd4d=_0x4dd6ae['prjCoordSys']['coordUnit'],_0x14fc01=_0x4dd6ae['bounds'],_0x4eb1df=_0x4dd6ae['visibleScales'],_0x4f6af4=_0x4eb1df['length']===0x0;_0x133814['_coordUnit']=_0x40fd4d;if(_0x40fd4d==='DEGREE'){_0x133814['_tilingScheme']=new Cesium['GeographicTilingScheme'](),_0x14fc01['left']=Cesium['Math']['clamp'](_0x14fc01['left'],-0xb4,0xb4),_0x14fc01['bottom']=Cesium['Math']['clamp'](_0x14fc01['bottom'],-0x5a,0x5a),_0x14fc01['right']=Cesium['Math']['clamp'](_0x14fc01['right'],-0xb4,0xb4),_0x14fc01['top']=Cesium['Math']['clamp'](_0x14fc01['top'],-0x5a,0x5a);Cesium['Math']['equalsEpsilon'](_0x14fc01['left'],_0x14fc01['right'],Cesium['Math']['EPSILON7'])&&(_0x14fc01['right']+=Cesium['Math']['EPSILON5']);Cesium['Math']['equalsEpsilon'](_0x14fc01['top'],_0x14fc01['bottom'],Cesium['Math']['EPSILON7'])&&(_0x14fc01['top']+=Cesium['Math']['EPSILON5']);_0x133814['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x14fc01['left'],_0x14fc01['bottom'],_0x14fc01['right'],_0x14fc01['top']),_0x133814['_urlTemplate']=_0x133814['_url']+'tileImage.'+_0x133814['_tileFormat']+'?x={x}&y={y}&scale={scale}&origin={\x22x\x22:-180,\x22y\x22:90}',_0x133814['_maximumLevel']=Cesium['defaultValue'](_0x133814['_maximumLevel'],_0x133814['_scales']['length']),_0x133814['_ready']=!![];_0x11bb6e(_0x456ca5['CREDENTIAL'])&&(_0x11bb6e(_0x456ca5['CREDENTIAL']['_keymap'][_0x133814['_urlTemplate']])?_0x133814['_urlTemplate']=_0x456ca5['addTokenWithKey'](_0x133814['_urlTemplate'],_0x133814['_urlTemplate']):_0x133814['_urlTemplate']=_0x456ca5['addToken'](_0x133814['_urlTemplate']));_0x133814['_readyPromise']['resolve'](!![]);return;}let _0x460103=new Cesium['Cartesian3'](_0x14fc01['left'],_0x14fc01['bottom'],0x0),_0x11eb72=new Cesium['Cartesian3'](_0x14fc01['right'],_0x14fc01['top'],0x0);if(!Cesium['defined'](_0x133814['_tilingScheme'])){let _0x42bc19=Cesium['defined'](_0x4dd6ae['prjCoordSys'])&&Cesium['defined'](_0x4dd6ae['prjCoordSys']['projection'])&&(_0x4dd6ae['prjCoordSys']['projection']['type']==='PRJ_SPHERE_MERCATOR'||_0x4dd6ae['prjCoordSys']['projection']['type']==='PRJ_TRANSVERSE_MERCATOR'),_0xdf62f0=_0x42bc19?new Cesium['WebMercatorProjection']():new Cesium['GeographicProjection'](),_0x45c489=_0xdf62f0['unproject'](_0x460103),_0x369f7a=_0xdf62f0['unproject'](_0x11eb72),_0x496349=new Cesium['Rectangle'](_0x45c489['longitude'],_0x45c489['latitude'],_0x369f7a['longitude'],_0x369f7a['latitude']),_0x37a5cd,_0xab520f,_0x2d589a,_0x119bca;if(!_0x4f6af4){_0x2d589a=[],_0x119bca=new Cesium['Cartesian2'](_0x4dd6ae['dpi'],_0x4dd6ae['dpi']);for(let _0x213649=0x0;_0x213649<_0x4eb1df['length'];_0x213649++){_0x2d589a['push'](0x1/_0x4eb1df[_0x213649]);}let _0x2e57e6=_0x4eb1df[0x0],_0x25f5ab=0.0254/(_0x4dd6ae['dpi']*_0x2e57e6);_0x37a5cd=Math['ceil']((_0x11eb72['x']-_0x460103['x'])/_0x25f5ab/_0x4dd6ae['viewer']['width']),_0xab520f=Math['ceil']((_0x11eb72['y']-_0x460103['y'])/_0x25f5ab/_0x4dd6ae['viewer']['height']),_0x133814['_scales']=_0x4eb1df;}_0x133814['_tilingScheme']=_0x42bc19?new Cesium['WebMercatorTilingScheme']({'numberOfLevelZeroTilesX':_0x37a5cd,'numberOfLevelZeroTilesY':_0xab520f,'rectangleSouthwestInMeters':_0x4f6af4?undefined:_0x460103,'rectangleNortheastInMeters':_0x4f6af4?undefined:_0x11eb72}):new _0x4c4a93({'projection':_0xdf62f0,'rectangleSouthwestInMeters':_0x460103,'rectangleNortheastInMeters':_0x11eb72,'numberOfLevelZeroTilesX':_0x37a5cd,'numberOfLevelZeroTilesY':_0xab520f,'customDPI':_0x119bca,'scaleDenominators':_0x2d589a}),_0x133814['_rectangle']=_0x496349;}let _0x4b7f10=_0x4f6af4?-20037508.342789248:_0x14fc01['left'],_0x246f67=_0x4f6af4?20037508.342789095:_0x14fc01['top'];_0x133814['_urlTemplate']=_0x133814['_url']+'tileImage.'+_0x133814['_tileFormat']+'?x={x}&y={y}&scale={scale}&origin={\x22x\x22:'+_0x4b7f10+',\x22y\x22:'+_0x246f67+'}',_0x133814['_maximumLevel']=Cesium['defaultValue'](_0x133814['_maximumLevel'],_0x133814['_scales']['length']),_0x133814['_ready']=!![],_0x11bb6e(_0x456ca5['CREDENTIAL'])&&(_0x11bb6e(_0x456ca5['CREDENTIAL']['_keymap'][_0x133814['_urlTemplate']])?_0x133814['_urlTemplate']=_0x456ca5['addTokenWithKey'](_0x133814['_urlTemplate'],_0x133814['_urlTemplate']):_0x133814['_urlTemplate']=_0x456ca5['addToken'](_0x133814['_urlTemplate'])),_0x133814['_readyPromise']['resolve'](!![]);}function _0x3a24d5(_0x2ab10e,_0x4f478e,_0x1e9476,_0x482b26,_0x58c764){var _0x527887;if(_0x2ab10e['isTileMap']){var _0x1860bb,_0x543ef8=_0x2ab10e['_tileversion']===''?'':'&tileversion='+_0x2ab10e['_tileversion'];if(_0x2ab10e['_coordUnit']==='DEGREE')_0x2ab10e['packingRequest']===0x1?_0x527887=_0x2ab10e['_urlTemplate']['replace']('&x={x}&y={y}&scale={scale}','')['replace']('{tileversion}',_0x543ef8)['replace']('tileImage','tileImages')['replace']('&_cache=true',''):(_0x1860bb=_0x2ab10e['_scales'][_0x482b26+_0x2ab10e['resolution']]||_0x53d3b5[_0x482b26],_0x527887=_0x2ab10e['_urlTemplate']['replace']('{x}',_0x4f478e)['replace']('{y}',_0x1e9476)['replace']('{scale}',_0x1860bb['toString']())['replace']('{tileversion}',_0x543ef8));else _0x2ab10e['_coordUnit']==='METER'&&(_0x2ab10e['packingRequest']===0x1?_0x527887=_0x2ab10e['_urlTemplate']['replace']('&x={x}&y={y}&scale={scale}','')['replace']('{tileversion}',_0x543ef8)['replace']('tileImage','tileImages')['replace']('&_cache=true',''):(_0x1860bb=_0x2ab10e['_scales'][_0x482b26],_0x527887=_0x2ab10e['_urlTemplate']['replace']('{x}',_0x4f478e)['replace']('{y}',_0x1e9476)['replace']('{scale}',_0x1860bb['toString']())['replace']('{tileversion}',_0x543ef8)));}else _0x527887=_0x2ab10e['_urlTemplate']['replace']('{x}',_0x4f478e)['replace']('{y}',_0x1e9476)['replace']('{level}',_0x482b26)['replace']('{fileExtension}',_0x2ab10e['_fileExtension']);if(Cesium['defined'](_0x2ab10e['_subdomains'])){var _0x94037d=_0x2ab10e['_subdomains'],_0x12f8dc=_0x94037d[(_0x4f478e+_0x1e9476+_0x482b26)%_0x94037d['length']];_0x527887=_0x527887['replace'](domainReg,function(_0x2cf313,_0x47b14c){if(_0x47b14c==='{s}')return _0x12f8dc;return _0x2cf313;});}return _0x527887;}function _0x2e7c08(_0x38236c,_0x169f05){if(!Cesium['defined'](_0x38236c))return undefined;var _0x470071=_0x38236c['getAttribute'](_0x169f05);if(_0x470071!==null){var _0x2deb01=parseFloat(_0x470071);return!isNaN(_0x2deb01)?_0x2deb01:undefined;}return undefined;}function _0x485dee(_0x2995a0,_0x203c4a,_0x20f1e7){var _0x3c2ded='';for(var _0xac27e6=_0x20f1e7;_0xac27e6>=0x0;--_0xac27e6){var _0xfae4f0=0x1<<_0xac27e6,_0x1c0a92=0x0;if(!Cesium['isBitSet'](_0x203c4a,_0xfae4f0))_0x1c0a92|=0x2,!Cesium['isBitSet'](_0x2995a0,_0xfae4f0)&&(_0x1c0a92|=0x1);else Cesium['isBitSet'](_0x2995a0,_0xfae4f0)&&(_0x1c0a92|=0x1);_0x3c2ded+=_0x1c0a92;}return _0x3c2ded;}function _0x58c744(_0x7e3d62,_0x4e4784,_0x32d98b,_0x3a3e63){var _0x4c67a9=_0x7e3d62['_blockScale'],_0x55d44f=Math['pow'](0x2,_0x4c67a9),_0x1ea225=Math['floor'](_0x4e4784/_0x55d44f),_0x2fef99=_0x4e4784%_0x55d44f,_0x1c2bce=Math['floor'](_0x32d98b/_0x55d44f),_0x142271=_0x32d98b%_0x55d44f,_0x146731=_0x3a24d5(_0x7e3d62,_0x1ea225,_0x1c2bce,_0x3a3e63,!![]);return{'x':_0x1ea225,'y':_0x1c2bce,'url':_0x146731,'col':_0x2fef99,'row':_0x142271,'level':_0x3a3e63,'blockSize':_0x55d44f};}const _0x53d3b5=[1.690163571602655e-9,3.3803271432053056e-9,6.760654286410611e-9,1.3521308572821242e-8,2.7042617145642484e-8,5.408523429128511e-8,1.0817046858256998e-7,2.1634093716513974e-7,4.3268187433028044e-7,8.653637486605571e-7,0.0000017307274973211203,0.0000034614549946422405,0.0000069229099892844565,0.000013845819978568952,0.000027691639957137904,0.0000553832799142758,0.0001107665598285516,0.0002215331196571032,0.0004430662393142064,0.0008861324786284128,0.001772264957256826,0.003544529914513652];function _0x35e711(_0x1dbd0c){_0x1dbd0c=Cesium['defaultValue'](_0x1dbd0c,{});if(!_0x1dbd0c['url'])throw new Cesium['DeveloperError']('options.url\x20is\x20required.');this['_url']=Cesium['appendForwardSlash'](_0x1dbd0c['url']),this['_resource']=Cesium['Resource']['createIfNeeded'](this['_url']),this['_isTileMap']=_0x1dbd0c['url']['indexOf']('rest/maps')>-0x1,this['_isSci3D']=_0x1dbd0c['url']['indexOf']('rest/realspace')>-0x1;if(!this['_isTileMap']&&!this['_isSci3D'])throw new Cesium['DeveloperError']('options.url\x20is\x20error');this['_urlTemplate']=undefined,this['_errorEvent']=new Cesium['Event'](),this['_fileExtension']='png',this['_tileWidth']=0x100,this['_tileHeight']=0x100,this['_tileFormat']=Cesium['defaultValue'](_0x1dbd0c['tileFormat'],'png'),this['_minimumLevel']=Cesium['defaultValue'](_0x1dbd0c['minimumLevel'],0x0),this['_maximumLevel']=_0x1dbd0c['maximumLevel'],this['_rectangle']=undefined,this['_tilingScheme']=_0x1dbd0c['tilingScheme'],this['_coordUnit']=undefined,this['_scales']=_0x53d3b5,this['_tileDiscardPolicy']=_0x1dbd0c['tileDiscardPolicy'];let _0x3154ee=Cesium['defaultValue'](_0x1dbd0c['credit'],'');typeof _0x3154ee==='string'&&(_0x3154ee=new Cesium['Credit'](_0x3154ee));this['_credit']=_0x3154ee,this['_ready']=![],this['_readyPromise']=_0x955995(),this['_isBlock']=![],this['_blockCache']={},this['_blockCacheQueue']=new _0x1c88b6(),this['_blockCacheSize']=0x64,this['_blockScale']=0x0,this['_customRequestHeaders']=_0x1dbd0c['customRequestHeaders'];let _0x1d14f3=this;function _0x4b5eba(_0x268dfb){if(_0x1d14f3['_isSci3D'])_0x1e58b1(_0x1d14f3,_0x268dfb);else _0x1d14f3['_isTileMap']&&_0x36fd75(_0x1d14f3,_0x268dfb);}function _0x54fc99(_0x2105ec){let _0x9d5228='An\x20error\x20occurred\x20while\x20accessing\x20'+_0x1d14f3['_url']+'.';_0x1d14f3['_readyPromise']['reject'](new Cesium['RuntimeError'](_0x9d5228));}let _0x2124d2,_0x32f432;this['_isSci3D']?(_0x2124d2=this['_resource']['getDerivedResource']({'url':'config'}),_0x11bb6e(_0x456ca5['CREDENTIAL'])&&(_0x11bb6e(_0x456ca5['CREDENTIAL']['_keymap'][_0x2124d2['url']])?_0x2124d2['url']=_0x456ca5['addTokenWithKey'](_0x2124d2['url'],_0x2124d2['url']):_0x2124d2['url']=_0x456ca5['addToken'](_0x2124d2['url'])),this['_customRequestHeaders']&&(_0x2124d2['headers']=Cesium['combine'](_0x2124d2['headers'],this['_customRequestHeaders'])),_0x32f432=_0x2124d2['fetchXML']()):(_0x2124d2=Cesium['Resource']['createIfNeeded'](_0x1dbd0c['url']+'.json'),_0x11bb6e(_0x456ca5['CREDENTIAL'])&&(_0x11bb6e(_0x456ca5['CREDENTIAL']['_keymap'][_0x2124d2['url']])?_0x2124d2['url']=_0x456ca5['addTokenWithKey'](_0x2124d2['url'],_0x2124d2['url']):_0x2124d2['url']=_0x456ca5['addToken'](_0x2124d2['url'])),this['_customRequestHeaders']&&(_0x2124d2['headers']=Cesium['combine'](_0x2124d2['headers'],this['_customRequestHeaders'])),_0x32f432=_0x2124d2['fetchJson']()),_0x32f432['then'](_0x4b5eba,_0x54fc99);}Object['defineProperties'](_0x35e711['prototype'],{'url':{'get':function(){return this['_url'];}},'tileWidth':{'get':function(){if(!this['_ready'])throw new _0x32a312('tileWidth\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this['_tileWidth'];}},'tileHeight':{'get':function(){if(!this['_ready'])throw new _0x32a312('tileHeight\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this['_tileHeight'];}},'tileFormat':{'get':function(){return this['_tileFormat'];}},'maximumLevel':{'get':function(){if(!this['_ready'])throw new _0x32a312('maximumLevel\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this['resolution']===0x1?this['_maximumLevel']:this['_maximumLevel']-0x1;}},'minimumLevel':{'get':function(){if(!this['_ready'])throw new _0x32a312('minimumLevel\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this['_minimumLevel'];}},'tilingScheme':{'get':function(){if(!this['_ready'])throw new _0x32a312('tilingScheme\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this['_tilingScheme'];}},'rectangle':{'get':function(){if(!this['_ready'])throw new _0x32a312('rectangle\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this['_rectangle'];}},'errorEvent':{'get':function(){return this['_errorEvent'];}},'ready':{'get':function(){return this['_ready'];}},'credit':{'get':function(){return this['_credit'];}},'hasAlphaChannel':{'get':function(){return!![];}},'readyPromise':{'get':function(){return this['_readyPromise']['promise'];}},'tileDiscardPolicy':{'get':function(){return this['_tileDiscardPolicy'];}},'isBlock':{'get':function(){return this['_isBlock'];}},'blockCache':{'get':function(){return this['_blockCache'];}},'blockCacheQueue':{'get':function(){return this['_blockCacheQueue'];}},'blockCacheSize':{'get':function(){return this['_blockCacheSize'];}},'customRequestHeaders':{'get':function(){return this['_customRequestHeaders'];},'set':function(_0x3706ce){this['_customRequestHeaders']=_0x3706ce;}}}),_0x35e711['prototype']['getTileCredits']=function(_0x2a3818,_0x42bb36,_0x4d6ab3){return undefined;};var _0x5dc40f=/\.dxtz/i;function _0x495193(_0x2d03e9,_0x19fcec){let _0x26d021=Cesium['Resource']['createIfNeeded'](_0x19fcec);_0x11bb6e(_0x2d03e9['_customRequestHeaders'])&&(_0x26d021['headers']=Cesium['combine'](_0x26d021['headers'],_0x2d03e9['_customRequestHeaders']));if(_0x2d03e9['tileDiscardPolicy'])return _0x26d021['fetchImage']({'preferBlob':!![],'preferImageBitmap':!![],'flipY':!![]});if(_0x2d03e9['isBlock'])return _0x5dc40f['test'](_0x26d021['url'])&&(_0x2d03e9['flipY']=!![]),_0x26d021['fetchArrayBuffer']();return _0x26d021['fetchImage']();}_0x35e711['prototype']['requestImage']=function(_0x30268f,_0x2bc3cd,_0x2a730c,_0x4850f2){if(!this['_ready'])throw new Cesium['DeveloperError']('requestImage\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');let _0x33cff2;var _0x485116={};if(this['_isBlock']){_0x33cff2=this['_resource']['getDerivedResource']({'url':this['_urlTemplate'],'request':_0x4850f2,'templateValues':_0x485116}),_0x4850f2['type']=0x5;var _0x50f27f=_0x58c744(this,_0x30268f,_0x2bc3cd,_0x2a730c);_0x33cff2['url']=_0x50f27f['url'],_0x4850f2['blockInfo']=_0x50f27f,_0x4850f2['quadKey']=_0x485dee(_0x50f27f['x'],_0x50f27f['y'],_0x50f27f['level']),_0x4850f2['providerName']=this['_url'];var _0x550b09=this['blockCache'][_0x4850f2['quadKey']];if(Cesium['defined'](_0x550b09)&&Cesium['defined'](_0x550b09['data']))return this['blockCacheQueue']['touch'](_0x550b09),_0x550b09['data'];}else{if(this['_isSci3D'])_0x33cff2=this['_resource']['getDerivedResource']({'url':this['_urlTemplate'],'request':_0x4850f2,'templateValues':{'x':_0x30268f,'y':_0x2bc3cd,'level':_0x2a730c,'fileExtension':this['_tileFormat']}});else{let _0x57d68d=this['_coordUnit']==='DEGREE'?this['_scales'][_0x2a730c+0x1]:this['_scales'][_0x2a730c];_0x33cff2=this['_resource']['getDerivedResource']({'url':this['_urlTemplate'],'request':_0x4850f2,'templateValues':{'x':_0x30268f,'y':_0x2bc3cd,'scale':_0x57d68d},'queryParameters':{'transparent':!![],'cacheEnabled':!![],'_cache':!![],'width':0x100,'height':0x100,'redirect':![],'overlapDisplayed':![]}});}}function _0x5aa78d(_0x69c9dc,_0x1a2aca){if(_0x69c9dc['_isBlock']){var _0x163456=_0x69c9dc['blockCache'][_0x4850f2['quadKey']];if(!Cesium['defined'](_0x163456)){var _0x40fe00=_0x495193(_0x69c9dc,_0x1a2aca);if(!Cesium['defined'](_0x40fe00))return undefined;return _0x163456=new _0xb96332(_0x69c9dc,_0x4850f2['quadKey']),_0x69c9dc['blockCache'][_0x4850f2['quadKey']]=_0x163456,_0x163456['promise']=_0x40fe00,_0x163456['promise'];}else return _0x163456['promise'];}else return _0x495193(_0x69c9dc,_0x1a2aca);}return _0x5aa78d(this,_0x33cff2);},_0x35e711['prototype']['pickFeatures']=function(){return undefined;};export default _0x35e711;