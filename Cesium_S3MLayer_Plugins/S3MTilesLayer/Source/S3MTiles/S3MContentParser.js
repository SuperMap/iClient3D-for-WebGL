const _0x5959e8=(function(){let _0x2d6426=!![];return function(_0x48c42f,_0x27cd34){const _0xe25292=_0x2d6426?function(){if(_0x27cd34){const _0xd5a3c=_0x27cd34['apply'](_0x48c42f,arguments);return _0x27cd34=null,_0xd5a3c;}}:function(){};return _0x2d6426=![],_0xe25292;};}()),_0x3629de=_0x5959e8(this,function(){return _0x3629de['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x3629de)['search']('(((.+)+)+)+$');});_0x3629de();import _0x380601 from'./DDSTexture.js';import _0x1973f8 from'./MaterialPass.js';import _0xa5f75a from'./Factory/S3MContentFactory.js';import _0x1bce44 from'./Enum/VertexCompressOption.js';import _0x19aea2 from'../Core/CRNTranscoder.js';import _0x26113f from'./Enum/S3MPixelFormat.js';function _0x3c8053(){}function _0x949bbf(_0x4405c6,_0x2aff09,_0x23d5f1){let _0x1bfa1c={},_0x1d882d=_0x2aff09['materials']['material'];for(let _0x39c92a=0x0,_0x271ecb=_0x1d882d['length'];_0x39c92a<_0x271ecb;_0x39c92a++){let _0x38fbfc=_0x1d882d[_0x39c92a]['material'],_0x522077=_0x38fbfc['id'],_0x3b6a43=new _0x1973f8();_0x1bfa1c[_0x522077]=_0x3b6a43;let _0x4cf63f=Cesium['defaultValue'](_0x38fbfc['ambient'],Cesium['Color']['WHITE']);_0x3b6a43['ambientColor']=new Cesium['Color'](_0x4cf63f['r'],_0x4cf63f['g'],_0x4cf63f['b'],_0x4cf63f['a']);let _0x49fbaa=Cesium['defaultValue'](_0x38fbfc['diffuse'],Cesium['Color']['WHITE']);_0x3b6a43['diffuseColor']=new Cesium['Color'](_0x49fbaa['r'],_0x49fbaa['g'],_0x49fbaa['b'],_0x49fbaa['a']);let _0x5d4b43=Cesium['defaultValue'](_0x38fbfc['specular'],Cesium['Color']['WHITE']);_0x3b6a43['specularColor']=new Cesium['Color'](_0x5d4b43['r'],_0x5d4b43['g'],_0x5d4b43['b'],_0x5d4b43['a']),_0x3b6a43['shininess']=_0x38fbfc['shininess'],_0x3b6a43['bTransparentSorting']=_0x38fbfc['transparentsorting'],_0x3b6a43['alphaMode']=_0x38fbfc['alphaMode'];let _0xc14d8b=_0x38fbfc['textureunitstates'],_0x17eaab=_0xc14d8b['length'];for(let _0x34714c=0x0;_0x34714c<_0x17eaab;_0x34714c++){let _0x52a3ff=_0xc14d8b[_0x34714c]['textureunitstate'],_0x48eb8b=_0x52a3ff['id'],_0x53a8f0=_0x52a3ff['addressmode']['u']===0x0?Cesium['TextureWrap']['REPEAT']:Cesium['TextureWrap']['CLAMP_TO_EDGE'],_0x2415d0=_0x52a3ff['addressmode']['v']===0x0?Cesium['TextureWrap']['REPEAT']:Cesium['TextureWrap']['CLAMP_TO_EDGE'];_0x3b6a43['texMatrix']=Cesium['Matrix4']['unpack'](_0x52a3ff['texmodmatrix']);let _0x4fd28e=_0x2aff09['texturePackage'][_0x48eb8b];if(Cesium['defined'](_0x4fd28e)&&Cesium['defined'](_0x4fd28e['arrayBufferView'])&&_0x4fd28e['arrayBufferView']['byteLength']>0x0){_0x4fd28e['wrapS']=_0x53a8f0,_0x4fd28e['wrapT']=_0x2415d0;let _0xedb1aa=_0x23d5f1['fileName']+_0x48eb8b,_0x597e2b=_0x4405c6['textureCache']['getTexture'](_0xedb1aa);if(!Cesium['defined'](_0x597e2b)){_0x4fd28e['isTexBlock']=![];switch(_0x4fd28e['compressType']){case _0x26113f['CRN_DXT5']:const _0x1aeb65=_0x19aea2['transcode']({'data':_0x4fd28e['arrayBufferView'],'bMipMap':!![]});_0x4fd28e['arrayBufferView']=_0x1aeb65['bufferView'],_0x597e2b=new _0x380601(_0x4405c6,_0x48eb8b,_0x4fd28e),_0x4405c6['textureCache']['addTexture'](_0xedb1aa,_0x597e2b);break;default:_0x597e2b=new _0x380601(_0x4405c6,_0x48eb8b,_0x4fd28e),_0x4405c6['textureCache']['addTexture'](_0xedb1aa,_0x597e2b);break;}}_0x3b6a43['textures']['push'](_0x597e2b);}}}return _0x1bfa1c;}function _0x4900cf(_0xaa379b,_0x3e5ce8){let _0x1e747d=new Cesium['BoundingSphere'](),_0x4745d0=new Cesium['Cartesian3'](),_0x16f876=_0xaa379b['vertexAttributes'][0x0],_0x5b0130=_0x16f876['componentsPerAttribute'],_0x21220c=Cesium['defined'](_0xaa379b['compressOptions'])&&(_0xaa379b['compressOptions']&_0x1bce44['SVC_Vertex'])===_0x1bce44['SVC_Vertex'],_0x7dd41f=0x1,_0x590507,_0x236819;_0x21220c?(_0x7dd41f=_0xaa379b['vertCompressConstant'],_0x590507=new Cesium['Cartesian3'](_0xaa379b['minVerticesValue']['x'],_0xaa379b['minVerticesValue']['y'],_0xaa379b['minVerticesValue']['z']),_0x236819=new Uint16Array(_0x16f876['typedArray']['buffer'],_0x16f876['typedArray']['byteOffset'],_0x16f876['typedArray']['byteLength']/0x2)):_0x236819=new Float32Array(_0x16f876['typedArray']['buffer'],_0x16f876['typedArray']['byteOffset'],_0x16f876['typedArray']['byteLength']/0x4);let _0x521936=[];for(let _0x4d14f3=0x0;_0x4d14f3<_0xaa379b['verticesCount'];_0x4d14f3++){Cesium['Cartesian3']['fromArray'](_0x236819,_0x5b0130*_0x4d14f3,_0x4745d0),_0x21220c&&(_0x4745d0=Cesium['Cartesian3']['multiplyByScalar'](_0x4745d0,_0x7dd41f,_0x4745d0),_0x4745d0=Cesium['Cartesian3']['add'](_0x4745d0,_0x590507,_0x4745d0)),_0x521936['push'](Cesium['Cartesian3']['clone'](_0x4745d0));}return Cesium['BoundingSphere']['fromPoints'](_0x521936,_0x1e747d),Cesium['BoundingSphere']['transform'](_0x1e747d,_0x3e5ce8,_0x1e747d),_0x521936['length']=0x0,_0x1e747d;}let _0x4562a7=new Cesium['Cartesian3']();function _0x24c1ee(_0x33c762,_0x4c075e){let _0x2f29fe=new Cesium['BoundingSphere'](),_0x521c6c=_0x33c762['instanceBounds'];if(!Cesium['defined'](_0x521c6c))return _0x2f29fe;let _0x1239f5=new Cesium['Cartesian3'](_0x521c6c[0x0],_0x521c6c[0x1],_0x521c6c[0x2]),_0x7911=new Cesium['Cartesian3'](_0x521c6c[0x3],_0x521c6c[0x4],_0x521c6c[0x5]),_0x5ee66b=Cesium['Cartesian3']['lerp'](_0x1239f5,_0x7911,0.5,_0x4562a7),_0x3227ee=Cesium['Cartesian3']['distance'](_0x5ee66b,_0x1239f5);return _0x2f29fe['center']=_0x5ee66b,_0x2f29fe['radius']=_0x3227ee,Cesium['BoundingSphere']['transform'](_0x2f29fe,_0x4c075e,_0x2f29fe),_0x2f29fe;}function _0x3ed63(_0x51cf0a,_0x44147a){if(_0x51cf0a['instanceIndex']>-0x1)return _0x24c1ee(_0x51cf0a,_0x44147a);return _0x4900cf(_0x51cf0a,_0x44147a);}function _0x4117f3(_0x40b881,_0x5868c3){if(_0x40b881['center']){const _0x4dfa54=new Cesium['Matrix3'](),_0x381544=new Cesium['Cartesian3'](_0x40b881['center']['x'],_0x40b881['center']['y'],_0x40b881['center']['z']);Cesium['Matrix4']['multiplyByPoint'](_0x5868c3,_0x381544,_0x381544);const _0x72484=new Cesium['Cartesian4'](_0x40b881['xExtent']['x'],_0x40b881['xExtent']['y'],_0x40b881['xExtent']['z'],0x0),_0x5bd8fe=new Cesium['Cartesian4'](_0x40b881['yExtent']['x'],_0x40b881['yExtent']['y'],_0x40b881['yExtent']['z'],0x0),_0x444df4=new Cesium['Cartesian4'](_0x40b881['zExtent']['x'],_0x40b881['zExtent']['y'],_0x40b881['zExtent']['z'],0x0);return Cesium['Matrix4']['multiplyByVector'](_0x5868c3,_0x72484,_0x72484),Cesium['Matrix4']['multiplyByVector'](_0x5868c3,_0x5bd8fe,_0x5bd8fe),Cesium['Matrix4']['multiplyByVector'](_0x5868c3,_0x444df4,_0x444df4),Cesium['Matrix3']['setColumn'](_0x4dfa54,0x0,_0x72484,_0x4dfa54),Cesium['Matrix3']['setColumn'](_0x4dfa54,0x1,_0x5bd8fe,_0x4dfa54),Cesium['Matrix3']['setColumn'](_0x4dfa54,0x2,_0x444df4,_0x4dfa54),new Cesium['OrientedBoundingBox'](_0x381544,_0x4dfa54);}const _0x5d7130=[];_0x5d7130['push'](new Cesium['Cartesian3'](_0x40b881['min']['x'],_0x40b881['min']['y'],_0x40b881['min']['z'])),_0x5d7130['push'](new Cesium['Cartesian3'](_0x40b881['min']['x'],_0x40b881['min']['y'],_0x40b881['max']['z'])),_0x5d7130['push'](new Cesium['Cartesian3'](_0x40b881['min']['x'],_0x40b881['max']['y'],_0x40b881['min']['z'])),_0x5d7130['push'](new Cesium['Cartesian3'](_0x40b881['min']['x'],_0x40b881['max']['y'],_0x40b881['max']['z'])),_0x5d7130['push'](new Cesium['Cartesian3'](_0x40b881['max']['x'],_0x40b881['min']['y'],_0x40b881['min']['z'])),_0x5d7130['push'](new Cesium['Cartesian3'](_0x40b881['max']['x'],_0x40b881['min']['y'],_0x40b881['max']['z'])),_0x5d7130['push'](new Cesium['Cartesian3'](_0x40b881['max']['x'],_0x40b881['max']['y'],_0x40b881['min']['z'])),_0x5d7130['push'](new Cesium['Cartesian3'](_0x40b881['max']['x'],_0x40b881['max']['y'],_0x40b881['max']['z']));for(let _0x4baa95=0x0;_0x4baa95<0x8;_0x4baa95++){_0x5d7130[_0x4baa95]=Cesium['Matrix4']['multiplyByPoint'](_0x5868c3,_0x5d7130[_0x4baa95],_0x5d7130[_0x4baa95]);}return Cesium['OrientedBoundingBox']['fromPoints'](_0x5d7130);}function _0x454307(_0x2fec7d,_0x5b9bd0,_0x409f12,_0x4e9fad,_0x938607){let _0x2b7bfe=_0x4e9fad['geodes'];for(let _0x422614=0x0,_0x430a7a=_0x2b7bfe['length'];_0x422614<_0x430a7a;_0x422614++){let _0x44ea5a=_0x2b7bfe[_0x422614],_0x433ded=_0x44ea5a['matrix'],_0x52dd59=Cesium['Matrix4']['multiply'](_0x2fec7d['modelMatrix'],_0x433ded,new Cesium['Matrix4']()),_0x19dda3;if(Cesium['defined'](_0x938607['boundingVolume'])){if(Cesium['defined'](_0x938607['boundingVolume']['obb']))_0x19dda3=_0x4117f3(_0x938607['boundingVolume']['obb'],_0x2fec7d['modelMatrix']);else Cesium['defined'](_0x938607['boundingVolume']['sphere'])&&(_0x19dda3=new Cesium['BoundingSphere'](_0x938607['boundingVolume']['sphere']['center'],_0x938607['boundingVolume']['sphere']['radius']),Cesium['BoundingSphere']['transform'](_0x19dda3,_0x2fec7d['modelMatrix'],_0x19dda3));}let _0x3cdad1=_0x44ea5a['skeletonNames'];for(let _0x42e6c4=0x0,_0x208354=_0x3cdad1['length'];_0x42e6c4<_0x208354;_0x42e6c4++){let _0x35275b=_0x3cdad1[_0x42e6c4],_0x30743f=_0x5b9bd0['geoPackage'][_0x35275b],_0x272daa=_0x30743f['vertexPackage'],_0x38dacd=_0x30743f['arrIndexPackage'],_0x409870=_0x30743f['pickInfo'],_0x3493b1;_0x38dacd['length']>0x0&&(_0x3493b1=_0x409f12[_0x38dacd[0x0]['materialCode']]);let _0x4268d5=Cesium['defined'](_0x19dda3)?_0x19dda3:_0x3ed63(_0x272daa,_0x52dd59);const _0x35925d=_0xa5f75a[_0x2fec7d['fileType']]({'layer':_0x2fec7d,'vertexPackage':_0x272daa,'arrIndexPackage':_0x38dacd,'pickInfo':_0x409870,'modelMatrix':_0x52dd59,'geoMatrix':_0x433ded,'boundingVolume':_0x4268d5,'material':_0x3493b1,'edgeGeometry':_0x30743f['edgeGeometry'],'geoName':_0x35275b});_0x938607['renderEntities']['push'](_0x35925d);}}if(!Cesium['defined'](_0x938607['boundingVolume'])&&_0x938607['renderEntities']['length']>0x0){let _0x183fdd=[];for(let _0x21ecaa=0x0,_0x4ad4ac=_0x938607['renderEntities']['length'];_0x21ecaa<_0x4ad4ac;_0x21ecaa++){_0x183fdd['push'](_0x938607['renderEntities'][_0x21ecaa]['boundingVolume']);}_0x938607['boundingVolume']={'sphere':Cesium['BoundingSphere']['fromBoundingSpheres'](_0x183fdd),'isCalc':!![]};}}function _0x57a125(_0x7bc516,_0x5961b6,_0x392189){let _0x4b97f8=_0x5961b6['groupNode'],_0xfe19ca=[];for(let _0x267d5d=0x0,_0x4c9d28=_0x4b97f8['pageLods']['length'];_0x267d5d<_0x4c9d28;_0x267d5d++){let _0x366213={},_0x92463=_0x4b97f8['pageLods'][_0x267d5d];_0x366213['rangeMode']=_0x92463['rangeMode'],_0x366213['childTile']=_0x92463['childTile'],_0x366213['rangeList']=_0x92463['rangeList'],_0x366213['isLeafTile']=_0x366213['childTile']==='',_0x366213['renderEntities']=[];if(_0x92463['boundingSphere']&&(!_0x366213['isLeafTile']||_0x7bc516['dataVersion']>0x2)){let _0x4544ca=_0x92463['boundingSphere']['center'],_0x4ecdc9=_0x92463['boundingSphere']['radius'];_0x366213['boundingVolume']={'sphere':{'center':new Cesium['Cartesian3'](_0x4544ca['x'],_0x4544ca['y'],_0x4544ca['z']),'radius':_0x4ecdc9},'isCalc':![]};}_0x92463['obb']&&(_0x366213['boundingVolume']=_0x366213['boundingVolume']||{},_0x366213['boundingVolume']['obb']=_0x92463['obb']),_0x454307(_0x7bc516,_0x5961b6,_0x392189,_0x92463,_0x366213),_0xfe19ca['push'](_0x366213);}return _0xfe19ca;}_0x3c8053['parse']=function(_0x422d64,_0x54ff89,_0x41384c){if(!Cesium['defined'](_0x54ff89))return;_0x422d64['dataVersion']=_0x54ff89['version'];let _0x1ac2bd=_0x949bbf(_0x422d64['context'],_0x54ff89,_0x41384c),_0x42ad30=_0x57a125(_0x422d64,_0x54ff89,_0x1ac2bd);return _0x42ad30;};export default _0x3c8053;