const _0x42a01e=(function(){let _0x15a56e=!![];return function(_0x1be1c6,_0x29622c){const _0x24b9ed=_0x15a56e?function(){if(_0x29622c){const _0x54b464=_0x29622c['apply'](_0x1be1c6,arguments);return _0x29622c=null,_0x54b464;}}:function(){};return _0x15a56e=![],_0x24b9ed;};}()),_0x4217dc=_0x42a01e(this,function(){return _0x4217dc['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x4217dc)['search']('(((.+)+)+)+$');});_0x4217dc();import _0x26b509 from'../ThirdParty/pako_inflate.js';import _0x1f67ff from'../ThirdParty/defer.js';import _0x42d713 from'../Core/CRNTranscoder.js';function _0xbf1e3c(){this['state']={},this['cache']={},this['list']=new Cesium['DoublyLinkedList'](),this['pendingRequests']=[],this['promisePack']={},this['quadKeyPack']={},this['quadKeyIndexPack']={},this['requestHeapPack']={};}const _0x116542={'UnLoad':0x0,'Loading':0x1,'Loaded':0x2,'Parsing':0x3,'Ready':0x4,'Failed':0x5};let _0x3cfaed=0x0;const _0x834ea5=0xc8*0x400*0x400,_0x3013b3=0x14;_0xbf1e3c['prototype']['prepareRequest']=function(_0x350c85,_0x7f6b16,_0x46d328,_0x4102e2,_0x567449){let _0x48949e=_0x350c85+'_'+_0x46d328,_0x345e62=_0x7f6b16+_0x46d328+'.texblock',_0x5e3022=new Cesium['Request']({'url':_0x345e62,'throttle':!![],'throttleByServer':!![],'priorityFunction':function(){return _0x4102e2['distanceToCamera'];}});_0x5e3022['quadKey']=_0x46d328,_0x5e3022['providerName']=_0x567449['tile']['layer']['name'],_0x5e3022['keyWord']=_0x48949e,this['pendingRequests']['push'](_0x5e3022);};let _0x23ffeb=function(_0x1ee866,_0x25812b){return _0x1ee866['priority']-_0x25812b['priority'];};_0xbf1e3c['prototype']['processRequests']=function(){if(this['pendingRequests']['length']<0x1)return;this['pendingRequests']['sort'](_0x23ffeb),this['startPackRequest']();for(let _0x3ec3ea=0x0,_0x318d58=this['pendingRequests']['length'];_0x3ec3ea<_0x318d58;_0x3ec3ea++){let _0x348d99=this['pendingRequests'][_0x3ec3ea];this['request'](_0x348d99);}this['pendingRequests']['length']=0x0;};function _0x55162c(_0x425d95){let _0x263aa1=[],_0x4e5fdd={},_0x43c712=0x0;for(let _0x4153d9=0x0,_0x362632=_0x425d95['length'];_0x4153d9<_0x362632;_0x4153d9++){let _0x3eeef7=_0x425d95[_0x4153d9];if(_0x3eeef7['cancelled'])continue;let _0x580c5d=_0x3eeef7['quadKey'];if(_0x4e5fdd[_0x580c5d])continue;_0x4e5fdd[_0x580c5d]=!![],_0x263aa1['push'](_0x580c5d),_0x3eeef7['quadKeyIndex']=_0x43c712++;}return _0x263aa1;}_0xbf1e3c['prototype']['startPackRequest']=function(){let _0xf68b31=_0x55162c(this['pendingRequests']),_0x47cc7b=_0xf68b31['join'](';'),_0x1a5727=this['pendingRequests'][0x0]['url'],_0x54abc2=new Cesium['Resource']({'url':_0x1a5727,'queryParameters':{'extratiles':_0x47cc7b}}),_0xda3359=_0x1f67ff(),_0xe8b3f9=_0x54abc2['fetchArrayBuffer']();if(!_0xe8b3f9)return;for(let _0x25979e=0x0,_0x28743a=this['pendingRequests']['length'];_0x25979e<_0x28743a;_0x25979e++){let _0x135f73=this['pendingRequests'][_0x25979e];_0x135f73['deferred']=_0xda3359;}_0xe8b3f9['then'](function(_0x207f6c){_0xda3359['resolve'](_0x207f6c);},_0x1b0634=>{_0xda3359['reject'](error);});};function _0xaeb27d(_0x4f5ccf,_0x1de12d){let _0x2b0cda=new DataView(_0x4f5ccf),_0x25db3c=0x0,_0x3ba2a3=_0x2b0cda['getUint32'](_0x25db3c,!![]);if(_0x1de12d>_0x3ba2a3-0x1||_0x3ba2a3>0x100)return undefined;_0x25db3c+=0x4;let _0x77feee=[],_0x36929c,_0x204e20;for(_0x36929c=0x0;_0x36929c<_0x3ba2a3;_0x36929c++){_0x204e20=_0x2b0cda['getUint32'](_0x25db3c,!![]),_0x77feee['push'](_0x204e20),_0x25db3c+=0x4;}for(_0x36929c=0x0;_0x36929c<_0x3ba2a3;_0x36929c++){_0x204e20=_0x77feee[_0x36929c];if(_0x36929c===_0x1de12d){if(_0x204e20===0x0)return;return new Uint8Array(_0x4f5ccf)['slice'](_0x25db3c,_0x25db3c+_0x204e20)['buffer'];}_0x25db3c+=_0x204e20;}return undefined;}_0xbf1e3c['prototype']['request']=function(_0x246c07){let _0x3f4513=_0x246c07['keyWord'],_0xe82158=_0x246c07['deferred']['promise'];this['state'][_0x3f4513]=_0x116542['Loading'];let _0x41dcce=this;_0xe82158['then'](function(_0x37f0cc){if(!Cesium['defined'](_0x41dcce['state'][_0x3f4513]))return;_0x41dcce['state'][_0x3f4513]=_0x116542['Loaded'];let _0x12b161=_0xaeb27d(_0x37f0cc,_0x246c07['quadKeyIndex']);if(!_0x12b161){_0x41dcce['state'][_0x3f4513]=_0x116542['Failed'];return;}let _0x42c596=new Uint8Array(_0x12b161),_0x4a1f86=new DataView(_0x12b161),_0x103ff7=0x0,_0x43ae7c=_0x4a1f86['getUint32'](_0x103ff7,!![]);_0x103ff7+=Uint32Array['BYTES_PER_ELEMENT'];let _0x513389={};for(let _0x4897d4=0x0;_0x4897d4<_0x43ae7c;_0x4897d4++){let _0x1e254c=_0x4a1f86['getUint32'](_0x103ff7,!![]);_0x103ff7+=Uint32Array['BYTES_PER_ELEMENT'];let _0x216173=Cesium['getStringFromTypedArray'](_0x42c596,_0x103ff7,_0x1e254c);_0x103ff7+=_0x1e254c;let _0x21d7e4=_0x4a1f86['getUint32'](_0x103ff7,!![]);_0x103ff7+=Uint32Array['BYTES_PER_ELEMENT'];let _0x2868a0=_0x4a1f86['getUint32'](_0x103ff7,!![]);_0x103ff7+=Uint32Array['BYTES_PER_ELEMENT'];let _0x52548a,_0x567488,_0x505bc8=_0x42c596;try{let _0x33f120=new Uint8Array(_0x12b161,_0x103ff7,_0x2868a0);_0x505bc8=_0x26b509['inflate'](_0x33f120)['buffer'],_0x52548a=new DataView(_0x505bc8),_0x567488=0x0;}catch(_0x19e180){if(_0x21d7e4===_0x2868a0)_0x52548a=_0x4a1f86,_0x567488=_0x103ff7;else continue;}let _0x2f61aa=_0x52548a['getUint32'](_0x567488,!![]);_0x567488+=Uint32Array['BYTES_PER_ELEMENT'];let _0x3e9b99=_0x52548a['getUint32'](_0x567488,!![]);_0x567488+=Uint32Array['BYTES_PER_ELEMENT'];let _0x3229c6=_0x52548a['getUint32'](_0x567488,!![]);_0x567488+=Uint32Array['BYTES_PER_ELEMENT'];let _0x3dae71=_0x52548a['getUint32'](_0x567488,!![]);_0x567488+=Uint32Array['BYTES_PER_ELEMENT'];let _0x3d54f0=_0x52548a['getUint32'](_0x567488,!![]);_0x567488+=Uint32Array['BYTES_PER_ELEMENT'];let _0x842567=new Uint8Array(_0x505bc8,_0x567488,_0x3d54f0);if(_0x2f61aa===0x1a){_0x842567=_0x505bc8['slice'](_0x567488,_0x567488+_0x3d54f0);const _0x35f25a=_0x42d713['transcode']({'data':_0x842567,'bMipMap':!![]});_0x842567=_0x35f25a['bufferView'];}_0x513389[_0x216173]={'width':_0x3e9b99,'height':_0x3229c6,'arrayBufferView':_0x842567},_0x103ff7+=_0x2868a0;}let _0x85d8df={'keyWord':_0x3f4513,'result':_0x513389,'byteLength':_0x12b161['byteLength']},_0x43be16=_0x41dcce['list']['add'](_0x85d8df);_0x41dcce['cache'][_0x3f4513]=_0x43be16,_0x41dcce['state'][_0x3f4513]=_0x116542['Ready'],delete _0x41dcce['state'][_0x3f4513],_0x3cfaed+=_0x12b161['byteLength'];let _0x161963=_0x41dcce['list']['head'];while(_0x3cfaed>_0x834ea5){let _0x557c1a=_0x161963['item'],_0x1ebbc0=_0x161963,_0x587af9=_0x557c1a['keyWord'],_0x3c206a=_0x41dcce['cache'][_0x587af9],_0x134258=_0x3c206a['item'];_0x3cfaed-=_0x134258['byteLength'],delete _0x41dcce['cache'][_0x587af9],_0x161963=_0x161963['next'],_0x41dcce['list']['remove'](_0x1ebbc0);}},function(_0x21ac23){_0x41dcce['state'][_0x3f4513]=_0x21ac23?_0x116542['Failed']:_0x116542['UnLoad'];});},_0xbf1e3c['prototype']['get']=function(_0x527262,_0x1ffae0,_0x107bdc,_0x272109){let _0x1efb32=_0x527262+'_'+_0x107bdc,_0x360456=this['cache'][_0x1efb32];if(_0x360456)return this['list']['splice'](this['list']['tail'],_0x360456),_0x360456['item'];let _0x22da13=this['state'][_0x1efb32];return!Cesium['defined'](_0x22da13)&&(_0x22da13=this['state'][_0x1efb32]=_0x116542['UnLoad']),_0x22da13===_0x116542['UnLoad']&&this['prepareRequest'](_0x527262,_0x1ffae0,_0x107bdc,_0x272109['tile'],_0x272109),undefined;},_0xbf1e3c['prototype']['del']=function(_0x15edad,_0x3d7e0f){let _0x5c53ba=_0x15edad+'_'+_0x3d7e0f;delete this['state'][_0x5c53ba];},_0xbf1e3c['_singleInstance']=undefined,_0xbf1e3c['getSingleInstance']=function(){return!_0xbf1e3c['_singleInstance']&&(_0xbf1e3c['_singleInstance']=new _0xbf1e3c()),_0xbf1e3c['_singleInstance'];};export default _0xbf1e3c;