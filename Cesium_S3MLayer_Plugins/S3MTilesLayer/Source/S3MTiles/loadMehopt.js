var _0x4aad70=(function(){var _0x329ee3=!![];return function(_0x166118,_0x40bf51){var _0x2c97fc=_0x329ee3?function(){if(_0x40bf51){var _0x2ce468=_0x40bf51['apply'](_0x166118,arguments);return _0x40bf51=null,_0x2ce468;}}:function(){};return _0x329ee3=![],_0x2c97fc;};}()),_0xc41a58=_0x4aad70(this,function(){return _0xc41a58['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0xc41a58)['search']('(((.+)+)+)+$');});_0xc41a58();import _0x1959b6 from'../S3MTiles/Enum/MeshOpt.js';import _0x122e62 from'../ThirdParty/meshopt_decoder.module.js';function _0x5a2335(_0x831a64,_0x4d3ff2,_0xd3d3fd,_0x34a74c,_0x33ca7e,_0x487274,_0x5201b7,_0x5eb83f,_0xbb1c08,_0x33ff8a){var _0x54bcd8=0x0,_0x3222c9,_0x597c9b=_0x33ca7e['vertexAttributes'],_0x2b2719=_0x33ca7e['attrLocation'];switch(_0x4d3ff2){case _0x1959b6['AttributeType_Normal']:case _0x1959b6['AttributeType_FirstTexcoord']:case _0x1959b6['AttributeType_SecondTexcoord']:_0x54bcd8=Uint16Array['BYTES_PER_ELEMENT']*0x2;(_0x487274&0x10)===0x0&&(_0x4d3ff2===_0x1959b6['AttributeType_FirstTexcoord']||_0x4d3ff2===_0x1959b6['AttributeType_SecondTexcoord'])&&(_0x54bcd8=Float32Array['BYTES_PER_ELEMENT']*0x2);_0x3222c9=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x831a64*_0x54bcd8);break;case _0x1959b6['AttributeType_Color']:case _0x1959b6['AttributeType_SecondColor']:_0x54bcd8=Uint8Array['BYTES_PER_ELEMENT']*0x4,_0x3222c9=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x831a64*0x4);break;case _0x1959b6['AttributeType_Custom0']:_0x54bcd8=Float32Array['BYTES_PER_ELEMENT']*_0xd3d3fd,_0x3222c9=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x831a64*_0xd3d3fd*0x4);break;case _0x1959b6['AttributeType_Custom1']:_0x54bcd8=Float32Array['BYTES_PER_ELEMENT']*_0xd3d3fd,_0x3222c9=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x831a64*_0xd3d3fd*0x4);break;default:_0x54bcd8=Uint16Array['BYTES_PER_ELEMENT']*0x4,_0x3222c9=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x831a64*_0x54bcd8);break;}_0x122e62['decodeVertexBuffer'](_0x3222c9,_0x831a64,_0x54bcd8,_0x34a74c,_0x34a74c['length']);switch(_0x4d3ff2){case _0x1959b6['AttributeType_Position']:var _0x1c5cfc=new Uint16Array(_0x3222c9['buffer'],0x0,_0x3222c9['length']/0x2),_0x12216f=Cesium['ComponentDatatype']['SHORT'];if(Cesium['defined'](_0x5201b7)){var _0x4e40db=Cartesian3['unpackArray'](_0x1c5cfc);for(let _0xe19814=0x0,_0x5e271b=_0x4e40db['length'];_0xe19814<_0x5e271b;_0xe19814++){let _0x202e3e=_0x4e40db[_0xe19814];Cartesian3['multiplyByScalar'](_0x202e3e,_0x33ca7e['vertCompressConstant'],_0x202e3e),Cartesian3['add'](_0x202e3e,_0x33ca7e['minVerticesValue'],_0x202e3e);}var _0x30d6b6=Matrix4['multiply'](_0x5201b7['sphereMatrix'],_0x5201b7['geoMatrix'],matModelScratch),_0x678c74=Matrix4['multiply'](_0x5201b7['ellipsoidMatrix'],_0x5201b7['geoMatrix'],invMatModelScratch);Matrix4['inverse'](_0x678c74,_0x678c74);var _0x3d8168=new Ellipsoid(0x615299,0x615299,0x615299);for(let _0x1a7991=0x0,_0x1edc47=_0x4e40db['length'];_0x1a7991<_0x1edc47;_0x1a7991++){let _0x5d634e=_0x4e40db[_0x1a7991];Matrix4['multiplyByPoint'](_0x30d6b6,_0x5d634e,scratchCartesian3);let _0x113226=_0x3d8168['cartesianToCartographic'](scratchCartesian3,geoPosScratch),_0xee3928=radiansToCartesian3ForWGS84(_0x113226['longitude'],_0x113226['latitude'],_0x113226['height'],scratchCartesian3);Matrix4['multiplyByPoint'](_0x678c74,_0xee3928,_0x5d634e);}var _0x427b72=new Array(_0x4e40db['length']*0x3);Cartesian3['packArray'](_0x4e40db,_0x427b72),_0x1c5cfc=new Float32Array(_0x427b72),_0x12216f=Cesium['ComponentDatatype']['FLOAT'];}var _0x507e97=_0x2b2719['aPosition'];_0x507e97!==undefined?(combineTypedArray(_0x597c9b[_0x507e97],_0x1c5cfc,Uint16Array),_0x33ca7e['preVertexCount']=_0x33ca7e['verticesCount'],_0x33ca7e['verticesCount']+=_0x831a64):(_0x2b2719['aPosition']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['aPosition'],'typedArray':_0x1c5cfc,'componentsPerAttribute':0x4,'componentDatatype':_0x12216f,'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}),_0x33ca7e['verticesCount']=_0x831a64);if(!Cesium['defined'](_0x5201b7)&&_0x5eb83f){var _0x5e3d81=new Cesium['Cartographic'](),_0x57e63f=new Cesium['Cartographic'](),_0x52a2c4=0x2,_0x34092c=new Float32Array(_0x831a64*_0x52a2c4),_0x5de86f=new Float64Array(_0x831a64*_0x52a2c4),_0x345189=new Cesium['Cartesian3'](),_0x3d1829=new Cesium['Cartesian3'](),_0x45024d=new Cesium['Cartographic'](),_0x3d8168;ellipsoid?_0x3d8168=new Cesium['Ellipsoid'](0x615299,0x615299,6356752.314245179):_0x3d8168=new Cesium['Ellipsoid'](0x615299,0x615299,0x615299);for(var _0x1b1268=0x0;_0x1b1268<_0x831a64;_0x1b1268++){Matrix4['multiplyByPoint'](_0x33ff8a,Cartesian3['fromElements'](_0x1c5cfc[0x4*_0x1b1268]*_0x33ca7e['vertCompressConstant']+_0x33ca7e['minVerticesValue']['x'],_0x1c5cfc[0x4*_0x1b1268+0x1]*_0x33ca7e['vertCompressConstant']+_0x33ca7e['minVerticesValue']['y'],_0x1c5cfc[0x4*_0x1b1268+0x2]*_0x33ca7e['vertCompressConstant']+_0x33ca7e['minVerticesValue']['z'],_0x345189),_0x3d1829),_0x45024d=_0x3d8168['cartesianToCartographic'](_0x3d1829,geoPosScratch),_0x5de86f[0x2*_0x1b1268]=_0x45024d['longitude'],_0x5de86f[0x2*_0x1b1268+0x1]=_0x45024d['latitude'],_0x1b1268===0x0?(_0x5e3d81['longitude']=_0x45024d['longitude'],_0x5e3d81['latitude']=_0x45024d['latitude'],_0x57e63f['longitude']=_0x45024d['longitude'],_0x57e63f['latitude']=_0x45024d['latitude']):(_0x5e3d81['longitude']=Math['max'](_0x45024d['longitude'],_0x5e3d81['longitude']),_0x5e3d81['latitude']=Math['max'](_0x45024d['latitude'],_0x5e3d81['latitude']),_0x57e63f['longitude']=Math['min'](_0x45024d['longitude'],_0x57e63f['longitude']),_0x57e63f['latitude']=Math['min'](_0x45024d['latitude'],_0x57e63f['latitude']));}for(var _0x1b1268=0x0;_0x1b1268<_0x831a64;_0x1b1268++){_0x34092c[0x2*_0x1b1268]=_0x5de86f[0x2*_0x1b1268]-_0x57e63f['longitude'],_0x34092c[0x2*_0x1b1268+0x1]=_0x5de86f[0x2*_0x1b1268+0x1]-_0x57e63f['latitude'];}_0x2b2719['img']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['img'],'typedArray':_0x34092c,'componentsPerAttribute':_0x52a2c4,'componentDatatype':ComponentDatatype['FLOAT'],'offsetInBytes':0x0,'strideInBytes':_0x52a2c4*Float32Array['BYTES_PER_ELEMENT'],'normalize':![]}),_0xbb1c08['max']=_0x5e3d81,_0xbb1c08['min']=_0x57e63f;}break;case _0x1959b6['AttributeType_Normal']:var _0x131e7e=0x2,_0x507e97=_0x2b2719['aNormal'],_0x166e10=new Int16Array(_0x3222c9['buffer'],0x0,_0x3222c9['length']/0x2);_0x507e97!==undefined?combineTypedArray(_0x597c9b[_0x507e97],_0x166e10,Uint16Array):(_0x2b2719['aNormal']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['aNormal'],'typedArray':_0x166e10,'componentsPerAttribute':_0x131e7e,'componentDatatype':Cesium['ComponentDatatype']['SHORT'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x1959b6['AttributeType_FirstTexcoord']:var _0x4c6b88=new Uint16Array(_0x3222c9['buffer'],0x0,_0x3222c9['length']/0x2),_0x507e97=_0x2b2719['aTexCoord0'],_0x12216f=Cesium['ComponentDatatype']['SHORT'],_0x22300c=Uint16Array;(_0x487274&0x10)===0x0&&(_0x12216f=Cesium['ComponentDatatype']['FLOAT'],_0x22300c=Float32Array,_0x4c6b88=new Float32Array(_0x3222c9['buffer'],0x0,_0x3222c9['length']/0x4));_0x507e97!==undefined?combineTypedArray(_0x597c9b[_0x507e97],_0x4c6b88,_0x22300c):(_0x2b2719['aTexCoord0']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['aTexCoord0'],'typedArray':_0x4c6b88,'componentsPerAttribute':0x2,'componentDatatype':_0x12216f,'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x1959b6['AttributeType_SecondTexcoord']:var _0x4c6b88=new Uint16Array(_0x3222c9['buffer'],0x0,_0x3222c9['length']/0x2),_0x507e97=_0x2b2719['aTexCoord1'],_0x12216f=Cesium['ComponentDatatype']['SHORT'],_0x22300c=Uint16Array;(_0x487274&0x10)===0x0&&(_0x12216f=Cesium['ComponentDatatype']['FLOAT'],_0x22300c=Float32Array,_0x4c6b88=new Float32Array(_0x3222c9['buffer'],0x0,_0x3222c9['length']/0x4));_0x507e97!==undefined?combineTypedArray(_0x597c9b[_0x507e97],_0x4c6b88,_0x22300c):(_0x2b2719['aTexCoord1']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['aTexCoord1'],'typedArray':_0x4c6b88,'componentsPerAttribute':0x2,'componentDatatype':_0x12216f,'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x1959b6['AttributeType_Color']:var _0x507e97=_0x2b2719['aColor'];_0x507e97!==undefined?combineTypedArray(_0x597c9b[_0x507e97],_0x3222c9,Uint8Array):(_0x2b2719['aColor']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['aColor'],'typedArray':_0x3222c9,'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype']['UNSIGNED_BYTE'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':!![]}));break;case _0x1959b6['AttributeType_SecondColor']:var _0x507e97=_0x2b2719['aSecondColor'];_0x507e97!==undefined?combineTypedArray(_0x597c9b[_0x507e97],_0x3222c9,Uint8Array):(_0x2b2719['aSecondColor']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['aSecondColor'],'typedArray':_0x3222c9,'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype']['BYTE'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x1959b6['AttributeType_Custom0']:var _0x4c6b88=new Float32Array(_0x3222c9['buffer'],0x0,_0x3222c9['length']/0x4),_0x507e97=_0x2b2719['aCustom0']||_0x2b2719['aVertexWeight'];_0x507e97!==undefined?combineTypedArray(_0x597c9b[_0x507e97],_0x4c6b88,Float32Array):(_0x2b2719['aCustom0']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['aCustom0'],'typedArray':_0x4c6b88,'componentsPerAttribute':_0xd3d3fd,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x1959b6['AttributeType_Custom1']:var _0x5d92b1=new Float32Array(_0x3222c9['buffer'],0x0,_0x3222c9['length']/0x4),_0x507e97=_0x2b2719['aCustom1']||_0x2b2719['aTextureCoordMatrix'];_0x507e97!==undefined?combineTypedArray(_0x597c9b[_0x507e97],_0x5d92b1,Float32Array):(_0x2b2719['aCustom1']=_0x597c9b['length'],_0x597c9b['push']({'index':_0x2b2719['aCustom1'],'typedArray':_0x5d92b1,'componentsPerAttribute':_0xd3d3fd,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;default:break;}}export default _0x5a2335;