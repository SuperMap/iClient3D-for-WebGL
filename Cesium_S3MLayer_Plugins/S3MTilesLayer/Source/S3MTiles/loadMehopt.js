var _0xad1920=(function(){var _0xb8d479=!![];return function(_0xe91b74,_0x49ca1e){var _0x263809=_0xb8d479?function(){if(_0x49ca1e){var _0x2a9fef=_0x49ca1e['apply'](_0xe91b74,arguments);return _0x49ca1e=null,_0x2a9fef;}}:function(){};return _0xb8d479=![],_0x263809;};}()),_0x336946=_0xad1920(this,function(){return _0x336946['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x336946)['search']('(((.+)+)+)+$');});_0x336946();import _0x37cdad from'../S3MTiles/Enum/MeshOpt.js';import _0x45e7f6 from'../ThirdParty/meshopt_decoder.module.js';function _0x365573(_0x29d52d,_0xcc9374,_0x376268,_0x3838c7,_0x5b4218,_0x2968d9,_0x329def,_0xd0faff,_0x331b80,_0x590231){var _0x1862ad=0x0,_0x3d6de4,_0x403ceb=_0x5b4218['vertexAttributes'],_0x53d4f0=_0x5b4218['attrLocation'];switch(_0xcc9374){case _0x37cdad['AttributeType_Normal']:case _0x37cdad['AttributeType_FirstTexcoord']:case _0x37cdad['AttributeType_SecondTexcoord']:_0x1862ad=Uint16Array['BYTES_PER_ELEMENT']*0x2;(_0x2968d9&0x10)===0x0&&(_0xcc9374===_0x37cdad['AttributeType_FirstTexcoord']||_0xcc9374===_0x37cdad['AttributeType_SecondTexcoord'])&&(_0x1862ad=Float32Array['BYTES_PER_ELEMENT']*0x2);_0x3d6de4=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x29d52d*_0x1862ad);break;case _0x37cdad['AttributeType_Color']:case _0x37cdad['AttributeType_SecondColor']:_0x1862ad=Uint8Array['BYTES_PER_ELEMENT']*0x4,_0x3d6de4=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x29d52d*0x4);break;case _0x37cdad['AttributeType_Custom0']:_0x1862ad=Float32Array['BYTES_PER_ELEMENT']*_0x376268,_0x3d6de4=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x29d52d*_0x376268*0x4);break;case _0x37cdad['AttributeType_Custom1']:_0x1862ad=Float32Array['BYTES_PER_ELEMENT']*_0x376268,_0x3d6de4=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x29d52d*_0x376268*0x4);break;default:_0x1862ad=Uint16Array['BYTES_PER_ELEMENT']*0x4,_0x3d6de4=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_BYTE'],_0x29d52d*_0x1862ad);break;}_0x45e7f6['decodeVertexBuffer'](_0x3d6de4,_0x29d52d,_0x1862ad,_0x3838c7,_0x3838c7['length']);switch(_0xcc9374){case _0x37cdad['AttributeType_Position']:var _0x4d140f=new Uint16Array(_0x3d6de4['buffer'],0x0,_0x3d6de4['length']/0x2),_0x3c1796=Cesium['ComponentDatatype']['SHORT'];if(Cesium['defined'](_0x329def)){var _0x3a1361=Cartesian3['unpackArray'](_0x4d140f);for(let _0x37d7c8=0x0,_0x2a7da1=_0x3a1361['length'];_0x37d7c8<_0x2a7da1;_0x37d7c8++){let _0x373d52=_0x3a1361[_0x37d7c8];Cartesian3['multiplyByScalar'](_0x373d52,_0x5b4218['vertCompressConstant'],_0x373d52),Cartesian3['add'](_0x373d52,_0x5b4218['minVerticesValue'],_0x373d52);}var _0x418049=Matrix4['multiply'](_0x329def['sphereMatrix'],_0x329def['geoMatrix'],matModelScratch),_0x392c5b=Matrix4['multiply'](_0x329def['ellipsoidMatrix'],_0x329def['geoMatrix'],invMatModelScratch);Matrix4['inverse'](_0x392c5b,_0x392c5b);var _0x30e963=new Ellipsoid(0x615299,0x615299,0x615299);for(let _0x4eb0c3=0x0,_0x2d9ac9=_0x3a1361['length'];_0x4eb0c3<_0x2d9ac9;_0x4eb0c3++){let _0x3ac420=_0x3a1361[_0x4eb0c3];Matrix4['multiplyByPoint'](_0x418049,_0x3ac420,scratchCartesian3);let _0x5ddf22=_0x30e963['cartesianToCartographic'](scratchCartesian3,geoPosScratch),_0x23b61b=radiansToCartesian3ForWGS84(_0x5ddf22['longitude'],_0x5ddf22['latitude'],_0x5ddf22['height'],scratchCartesian3);Matrix4['multiplyByPoint'](_0x392c5b,_0x23b61b,_0x3ac420);}var _0x43b4e7=new Array(_0x3a1361['length']*0x3);Cartesian3['packArray'](_0x3a1361,_0x43b4e7),_0x4d140f=new Float32Array(_0x43b4e7),_0x3c1796=Cesium['ComponentDatatype']['FLOAT'];}var _0x1dfe1a=_0x53d4f0['aPosition'];_0x1dfe1a!==undefined?(combineTypedArray(_0x403ceb[_0x1dfe1a],_0x4d140f,Uint16Array),_0x5b4218['preVertexCount']=_0x5b4218['verticesCount'],_0x5b4218['verticesCount']+=_0x29d52d):(_0x53d4f0['aPosition']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['aPosition'],'typedArray':_0x4d140f,'componentsPerAttribute':0x4,'componentDatatype':_0x3c1796,'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}),_0x5b4218['verticesCount']=_0x29d52d);if(!Cesium['defined'](_0x329def)&&_0xd0faff){var _0x3b0d91=new Cesium['Cartographic'](),_0x414c6d=new Cesium['Cartographic'](),_0xdc5b4c=0x2,_0x59ecad=new Float32Array(_0x29d52d*_0xdc5b4c),_0x124252=new Float64Array(_0x29d52d*_0xdc5b4c),_0x4bea0d=new Cesium['Cartesian3'](),_0x25e5e0=new Cesium['Cartesian3'](),_0xefad10=new Cesium['Cartographic'](),_0x30e963;ellipsoid?_0x30e963=new Cesium['Ellipsoid'](0x615299,0x615299,6356752.314245179):_0x30e963=new Cesium['Ellipsoid'](0x615299,0x615299,0x615299);for(var _0x4c1d06=0x0;_0x4c1d06<_0x29d52d;_0x4c1d06++){Matrix4['multiplyByPoint'](_0x590231,Cartesian3['fromElements'](_0x4d140f[0x4*_0x4c1d06]*_0x5b4218['vertCompressConstant']+_0x5b4218['minVerticesValue']['x'],_0x4d140f[0x4*_0x4c1d06+0x1]*_0x5b4218['vertCompressConstant']+_0x5b4218['minVerticesValue']['y'],_0x4d140f[0x4*_0x4c1d06+0x2]*_0x5b4218['vertCompressConstant']+_0x5b4218['minVerticesValue']['z'],_0x4bea0d),_0x25e5e0),_0xefad10=_0x30e963['cartesianToCartographic'](_0x25e5e0,geoPosScratch),_0x124252[0x2*_0x4c1d06]=_0xefad10['longitude'],_0x124252[0x2*_0x4c1d06+0x1]=_0xefad10['latitude'],_0x4c1d06===0x0?(_0x3b0d91['longitude']=_0xefad10['longitude'],_0x3b0d91['latitude']=_0xefad10['latitude'],_0x414c6d['longitude']=_0xefad10['longitude'],_0x414c6d['latitude']=_0xefad10['latitude']):(_0x3b0d91['longitude']=Math['max'](_0xefad10['longitude'],_0x3b0d91['longitude']),_0x3b0d91['latitude']=Math['max'](_0xefad10['latitude'],_0x3b0d91['latitude']),_0x414c6d['longitude']=Math['min'](_0xefad10['longitude'],_0x414c6d['longitude']),_0x414c6d['latitude']=Math['min'](_0xefad10['latitude'],_0x414c6d['latitude']));}for(var _0x4c1d06=0x0;_0x4c1d06<_0x29d52d;_0x4c1d06++){_0x59ecad[0x2*_0x4c1d06]=_0x124252[0x2*_0x4c1d06]-_0x414c6d['longitude'],_0x59ecad[0x2*_0x4c1d06+0x1]=_0x124252[0x2*_0x4c1d06+0x1]-_0x414c6d['latitude'];}_0x53d4f0['img']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['img'],'typedArray':_0x59ecad,'componentsPerAttribute':_0xdc5b4c,'componentDatatype':ComponentDatatype['FLOAT'],'offsetInBytes':0x0,'strideInBytes':_0xdc5b4c*Float32Array['BYTES_PER_ELEMENT'],'normalize':![]}),_0x331b80['max']=_0x3b0d91,_0x331b80['min']=_0x414c6d;}break;case _0x37cdad['AttributeType_Normal']:var _0x4bdbab=0x2,_0x1dfe1a=_0x53d4f0['aNormal'],_0x2ae167=new Int16Array(_0x3d6de4['buffer'],0x0,_0x3d6de4['length']/0x2);_0x1dfe1a!==undefined?combineTypedArray(_0x403ceb[_0x1dfe1a],_0x2ae167,Uint16Array):(_0x53d4f0['aNormal']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['aNormal'],'typedArray':_0x2ae167,'componentsPerAttribute':_0x4bdbab,'componentDatatype':Cesium['ComponentDatatype']['SHORT'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x37cdad['AttributeType_FirstTexcoord']:var _0x44dc6c=new Uint16Array(_0x3d6de4['buffer'],0x0,_0x3d6de4['length']/0x2),_0x1dfe1a=_0x53d4f0['aTexCoord0'],_0x3c1796=Cesium['ComponentDatatype']['SHORT'],_0x4a6b6f=Uint16Array;(_0x2968d9&0x10)===0x0&&(_0x3c1796=Cesium['ComponentDatatype']['FLOAT'],_0x4a6b6f=Float32Array,_0x44dc6c=new Float32Array(_0x3d6de4['buffer'],0x0,_0x3d6de4['length']/0x4));_0x1dfe1a!==undefined?combineTypedArray(_0x403ceb[_0x1dfe1a],_0x44dc6c,_0x4a6b6f):(_0x53d4f0['aTexCoord0']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['aTexCoord0'],'typedArray':_0x44dc6c,'componentsPerAttribute':0x2,'componentDatatype':_0x3c1796,'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x37cdad['AttributeType_SecondTexcoord']:var _0x44dc6c=new Uint16Array(_0x3d6de4['buffer'],0x0,_0x3d6de4['length']/0x2),_0x1dfe1a=_0x53d4f0['aTexCoord1'],_0x3c1796=Cesium['ComponentDatatype']['SHORT'],_0x4a6b6f=Uint16Array;(_0x2968d9&0x10)===0x0&&(_0x3c1796=Cesium['ComponentDatatype']['FLOAT'],_0x4a6b6f=Float32Array,_0x44dc6c=new Float32Array(_0x3d6de4['buffer'],0x0,_0x3d6de4['length']/0x4));_0x1dfe1a!==undefined?combineTypedArray(_0x403ceb[_0x1dfe1a],_0x44dc6c,_0x4a6b6f):(_0x53d4f0['aTexCoord1']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['aTexCoord1'],'typedArray':_0x44dc6c,'componentsPerAttribute':0x2,'componentDatatype':_0x3c1796,'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x37cdad['AttributeType_Color']:var _0x1dfe1a=_0x53d4f0['aColor'];_0x1dfe1a!==undefined?combineTypedArray(_0x403ceb[_0x1dfe1a],_0x3d6de4,Uint8Array):(_0x53d4f0['aColor']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['aColor'],'typedArray':_0x3d6de4,'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype']['UNSIGNED_BYTE'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':!![]}));break;case _0x37cdad['AttributeType_SecondColor']:var _0x1dfe1a=_0x53d4f0['aSecondColor'];_0x1dfe1a!==undefined?combineTypedArray(_0x403ceb[_0x1dfe1a],_0x3d6de4,Uint8Array):(_0x53d4f0['aSecondColor']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['aSecondColor'],'typedArray':_0x3d6de4,'componentsPerAttribute':0x4,'componentDatatype':Cesium['ComponentDatatype']['BYTE'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x37cdad['AttributeType_Custom0']:var _0x44dc6c=new Float32Array(_0x3d6de4['buffer'],0x0,_0x3d6de4['length']/0x4),_0x1dfe1a=_0x53d4f0['aCustom0']||_0x53d4f0['aVertexWeight'];_0x1dfe1a!==undefined?combineTypedArray(_0x403ceb[_0x1dfe1a],_0x44dc6c,Float32Array):(_0x53d4f0['aCustom0']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['aCustom0'],'typedArray':_0x44dc6c,'componentsPerAttribute':_0x376268,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;case _0x37cdad['AttributeType_Custom1']:var _0x5d87c1=new Float32Array(_0x3d6de4['buffer'],0x0,_0x3d6de4['length']/0x4),_0x1dfe1a=_0x53d4f0['aCustom1']||_0x53d4f0['aTextureCoordMatrix'];_0x1dfe1a!==undefined?combineTypedArray(_0x403ceb[_0x1dfe1a],_0x5d87c1,Float32Array):(_0x53d4f0['aCustom1']=_0x403ceb['length'],_0x403ceb['push']({'index':_0x53d4f0['aCustom1'],'typedArray':_0x5d87c1,'componentsPerAttribute':_0x376268,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x0,'normalize':![]}));break;default:break;}}export default _0x365573;