const _0xb41419=(function(){let _0x3fd871=!![];return function(_0x3b6a22,_0x26a806){const _0x377b2e=_0x3fd871?function(){if(_0x26a806){const _0x5b8ec7=_0x26a806['apply'](_0x3b6a22,arguments);return _0x26a806=null,_0x5b8ec7;}}:function(){};return _0x3fd871=![],_0x377b2e;};}()),_0x3cf610=_0xb41419(this,function(){return _0x3cf610['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x3cf610)['search']('(((.+)+)+)+$');});_0x3cf610();import _0x14a833 from'./Enum/ProgramDefines.js';import _0x789f66 from'./Enum/VertexCompressOption.js';import _0x2fe512 from'./Enum/InstanceMode.js';import _0x5627ad from'../ShaderChunk/ShaderChunk.js';const _0x72c4cb=Cesium['defined'];function _0x1921b2(){this['model']=undefined,this['context']=undefined;}_0x1921b2['prototype']['set']=function(_0x58b7c4,_0x19ccb0){this['model']=_0x19ccb0,this['context']=_0x58b7c4;};function _0x241043(_0xe6fe0f,_0x3f6a93){let _0x10d10a=_0x3f6a93['length'];for(let _0x53031b=0x0;_0x53031b<_0x10d10a;++_0x53031b){let _0x1d3a8a=_0xe6fe0f['getExtension'](_0x3f6a93[_0x53031b]);if(_0x1d3a8a)return _0x1d3a8a;}return undefined;}function _0x4c62f6(_0x5be911){return _0x5be911['_brightness']!==0x1||_0x5be911['_contrast']!==0x1||_0x5be911['_hue']!==0x0||_0x5be911['_saturation']!==0x1||_0x5be911['_gamma']!==0x1;}function _0xe1ab03(_0x293b7a){var _0x1d7d6a=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0x2b68ad(_0x4c76ca,_0x7a5269){var _0x155f5c=_0x5627ad[_0x7a5269];if(_0x155f5c===undefined)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0x7a5269+'>');return _0xe1ab03(_0x155f5c);}return _0x293b7a['replace'](_0x1d7d6a,_0x2b68ad);}_0x1921b2['prototype']['execute']=function(){const _0x385704=this['context'],_0x50c380=this['model'],_0x19ccb1=_0x50c380['layer'];let _0x584de9=_0x50c380['vs'],_0x5ff4e4=_0xe1ab03(_0x50c380['fs']);if(_0x385704['webgl2']&&Cesium['VERSION']['length']>0x4){const _0x144fe3=['precision\x20mediump\x20sampler2DArray;','#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a',_0x424274=['#define\x20varying\x20in','#define\x20gl_FragColor\x20out_FragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a';_0x584de9=_0x144fe3+_0x584de9,_0x5ff4e4=_0x424274+_0x5ff4e4;}const _0x1ef302=_0x50c380['attributeLocations'],_0x22246c=_0x50c380['material'],_0x3deea4=_0x50c380['vertexPackage'];let _0x9ea3f4=_0x50c380['batchTable']?_0x50c380['batchTable']['getVertexShaderCallback']()(_0x584de9):_0x584de9;_0x385704['texturelod']===undefined&&(_0x385704['texturelod']=Cesium['defaultValue'](_0x241043(_0x385704['_gl'],['EXT_shader_texture_lod']),![]));let _0x335202=new Cesium['ShaderSource']({'sources':[_0x9ea3f4]}),_0x2a3c5b=new Cesium['ShaderSource']({'sources':[_0x5ff4e4]});Cesium['defined'](_0x1ef302['aNormal'])&&(_0x335202['defines']['push'](_0x14a833['VertexNormal']),_0x2a3c5b['defines']['push'](_0x14a833['VertexNormal']));Cesium['defined'](_0x1ef302['aColor'])&&_0x335202['defines']['push'](_0x14a833['VertexColor']);_0x22246c&&_0x22246c['textures']['length']===0x2&&(_0x335202['defines']['push']('TexCoord2'),_0x2a3c5b['defines']['push']('TexCoord2'));_0x335202['defines']['push']('TexCoord'),_0x2a3c5b['defines']['push']('TexCoord');_0x22246c&&_0x22246c['textures']['length']>0x0&&(_0x335202['defines']['push'](_0x14a833['COMPUTE_TEXCOORD']),_0x2a3c5b['defines']['push'](_0x14a833['COMPUTE_TEXCOORD']));_0x3deea4['instanceIndex']>-0x1&&_0x335202['defines']['push'](_0x14a833['Instance']);(_0x3deea4['instanceMode']===_0x2fe512['BIM']||_0x3deea4['instanceMode']===_0x2fe512['BIM2'])&&_0x335202['defines']['push'](_0x14a833['InstanceBim']);_0x3deea4['instanceMode']===_0x2fe512['PIPELINE']&&_0x335202['defines']['push'](_0x14a833['InstancePipe']);if(Cesium['defined'](_0x3deea4['compressOptions'])){let _0x2cc29a=_0x3deea4['compressOptions'];(_0x2cc29a&_0x789f66['SVC_Vertex'])===_0x789f66['SVC_Vertex']&&_0x335202['defines']['push'](_0x14a833['COMPRESS_VERTEX']),(_0x2cc29a&_0x789f66['SVC_Normal'])===_0x789f66['SVC_Normal']&&_0x335202['defines']['push'](_0x14a833['COMPRESS_NORMAL']),(_0x2cc29a&_0x789f66['SVC_VertexColor'])===_0x789f66['SVC_VertexColor']&&_0x335202['defines']['push'](_0x14a833['COMPRESS_COLOR']),(_0x2cc29a&_0x789f66['SVC_TexutreCoord'])===_0x789f66['SVC_TexutreCoord']&&_0x335202['defines']['push'](_0x14a833['COMPRESS_TEXCOORD']);}_0x3deea4['textureCoordIsW']&&_0x1ef302['TexCoord']&&_0x335202['defines']['push'](_0x14a833['TEXTURE_COORD_ONE_IS_W']);Cesium['defined'](_0x3deea4['customVertexAttribute'])&&Cesium['defined'](_0x3deea4['customVertexAttribute']['TextureCoordMatrix'])&&_0x335202['defines']['push']('USE_TextureCoordMatrix');_0x19ccb1['_enableClip']&&_0x2a3c5b['defines']['push'](_0x14a833['CLIP']);_0x19ccb1['_enableClipPlane']&&_0x2a3c5b['defines']['push'](_0x14a833['CLIPPLANE']);_0x19ccb1['_hasExcavation']&&(_0x335202['defines']['push'](_0x14a833['EXCAVATION']),_0x2a3c5b['defines']['push'](_0x14a833['EXCAVATION']));_0x19ccb1['_hypsometric']['isUseHypColorTable']&&(_0x335202['defines']['push'](_0x14a833['HYPSOMETRIC']),_0x2a3c5b['defines']['push'](_0x14a833['HYPSOMETRIC']));_0x19ccb1['_flattenPar']['flattening']&&_0x335202['defines']['push'](_0x14a833['FLATTEN']);_0x19ccb1['swipeEnabled']&&_0x2a3c5b['defines']['push'](_0x14a833['APPLY_SWIPE']);_0x19ccb1['_vertexCompressionType']==='MESHOPT'&&_0x335202['defines']['push']('MeshOPT_Compress');_0x3deea4['textureCoordIsW']&&_0x1ef302['aTexCoord0']&&_0x335202['defines']['push'](_0x14a833['TEXTURE_COORD_ONE_IS_W']);_0x22246c['batchTable']&&(_0x335202['defines']['push'](_0x14a833['TextureAtlas']),_0x2a3c5b['defines']['push'](_0x14a833['TextureAtlas']));_0x22246c['batchTableBake']&&(_0x335202['defines']['push'](_0x14a833['TextureAtlasSec']),_0x2a3c5b['defines']['push'](_0x14a833['TextureAtlasSec']));Cesium['defined'](_0x50c380['arrIndexPackage'])&&_0x50c380['arrIndexPackage']['length']>0x0&&_0x50c380['arrIndexPackage'][0x0]['primitiveType']===0x2&&_0x2a3c5b['defines']['push'](_0x14a833['UseLineColor']);_0x4c62f6(_0x19ccb1)&&_0x2a3c5b['defines']['push'](_0x14a833['ADJUST_COLOR']);if(_0x22246c['_usePBR']||Cesium['defined'](_0x19ccb1['_PBRMaterialParams']['loadingTexture'])&&!_0x19ccb1['_PBRMaterialParams']['loadingTexture']){var _0x576079=Cesium['defined'](_0x1ef302['aTexCoord0']);_0x576079&&_0x2a3c5b['defines']['push'](_0x14a833['BRDF']),(_0x22246c['_baseColorTextureIndex']>-0x1&&_0x72c4cb(_0x22246c['baseColorTexture'])||_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['baseColorTexture']))&&(_0x576079&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_BASE_TEXTURE'])),(_0x22246c['_metallicRoughnessTextureIndex']>-0x1&&_0x72c4cb(_0x22246c['metallicRoughnessTexture'])||_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['metallicRoughnessTexture']))&&(_0x576079&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_MetallicRoughness_TEXTURE'])),(_0x22246c['_normalTextureIndex']>-0x1&&_0x72c4cb(_0x22246c['normalTexture'])||_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['normalTexture']))&&(_0x576079&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_NORMAL_TEXTURE'])),(_0x22246c['_emissiveTextureIndex']>-0x1&&_0x72c4cb(_0x22246c['emissiveTexture'])||_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['emissiveTexture']))&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_EMISSIVE_TEXTURE']),(_0x22246c['_occlusionTextureIndex']>-0x1||_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['occlusionTexture'])&&_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['occlusionTexture']instanceof Texture)&&(_0x576079&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_OCCLUSION_TEXTURE'])),(_0x72c4cb(_0x22246c['_anisotropy'])||_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['anisotropy']))&&(_0x576079&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_ANISOTROPY'])),(_0x72c4cb(_0x22246c['_clearcoat'])||_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['clearcoat']))&&(_0x576079&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_CLEARCOAT'])),(_0x22246c['_indexOfRefraction']>-0x1||_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['indexOfRefraction'])&&_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['indexOfRefraction']>0x0)&&_0x2a3c5b['defines']['push'](_0x14a833['REFRACTION']),_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect'])&&_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect']['snowMaskTexture']&&_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect']['snowMaskTexture']instanceof Texture&&_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect']['snowNormalTexture'])&&_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect']['snowNormalTexture']instanceof Texture&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_SNOW']),_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect'])&&_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect']['wetnessFactor']&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_WETNESS']),_0x72c4cb(_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect'])&&_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect']['rippleTexture']&&_0x19ccb1['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect']['rippleTexture']instanceof Texture&&_0x2a3c5b['defines']['push'](_0x14a833['HAS_RAIN']);}_0x385704['webgl2']&&(_0x335202['defines']['push']('WEBGL2'),_0x2a3c5b['defines']['push']('WEBGL2')),_0x50c380['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0x385704,'vertexShaderSource':_0x335202,'fragmentShaderSource':_0x2a3c5b,'attributeLocations':_0x1ef302});};export default _0x1921b2;