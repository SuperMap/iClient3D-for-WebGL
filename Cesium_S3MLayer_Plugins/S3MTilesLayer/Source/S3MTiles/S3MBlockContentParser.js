const _0x35ab46=(function(){let _0x55140b=!![];return function(_0x47ec9b,_0x2d180c){const _0x5e720c=_0x55140b?function(){if(_0x2d180c){const _0x5453f2=_0x2d180c['apply'](_0x47ec9b,arguments);return _0x2d180c=null,_0x5453f2;}}:function(){};return _0x55140b=![],_0x5e720c;};}()),_0x5d1037=_0x35ab46(this,function(){return _0x5d1037['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x5d1037)['search']('(((.+)+)+)+$');});_0x5d1037();import _0x349724 from'./Factory/S3MContentFactory.js';import _0x78f039 from'./Enum/VertexCompressOption.js';import _0x3a2f37 from'./MaterialManager.js';import _0x52be69 from'./SubTextureManager.js';import _0x364989 from'./Enum/S3MPixelFormat.js';import _0xfd0cba from'../Core/CRNTranscoder.js';function _0x419212(){}function _0x37c693(_0x35600f,_0x1a7270,_0x48b489){let _0x127a39=_0x35600f['context'],_0x441e26=_0x35600f['_materialManager'];!_0x441e26&&(_0x441e26=_0x35600f['_materialManager']=new _0x3a2f37());let _0x1696a7=_0x35600f['_subTextureManager'];!_0x35600f['_subTextureManager']&&(_0x35600f['_subTextureManager']=_0x52be69['getSingleInstance']());let _0x4b9806=_0x1a7270['materials']['material'];for(let _0x72b254=0x0,_0x2f0670=_0x4b9806['length'];_0x72b254<_0x2f0670;_0x72b254++){let _0x551da0=_0x4b9806[_0x72b254]['material'],_0x8820a7=_0x551da0['id'],_0x2dff7d=_0x441e26['create'](_0x8820a7);_0x2dff7d['layerId']=_0x35600f['id'],_0x2dff7d['tile']=_0x48b489;let _0x5a1dde=_0x551da0['ambient'];_0x2dff7d['ambientColor']=new Cesium['Color'](_0x5a1dde['r'],_0x5a1dde['g'],_0x5a1dde['b'],_0x5a1dde['a']);let _0x14e24b=_0x551da0['diffuse'];_0x2dff7d['diffuseColor']=new Cesium['Color'](_0x14e24b['r'],_0x14e24b['g'],_0x14e24b['b'],_0x14e24b['a']);let _0x56c592=_0x551da0['specular'];_0x2dff7d['specularColor']=new Cesium['Color'](_0x56c592['r'],_0x56c592['g'],_0x56c592['b'],_0x56c592['a']),_0x2dff7d['shininess']=_0x551da0['shininess'],_0x2dff7d['bTransparentSorting']=_0x551da0['transparentsorting'],_0x2dff7d['id']=_0x8820a7;let _0x2d1094=_0x551da0['textureunitstates'],_0x2bee49=_0x2d1094['length'];for(let _0x474880=0x0;_0x474880<0x1;_0x474880++){let _0x22475b=_0x2d1094[_0x474880]['textureunitstate'],_0x380b5b=_0x22475b['id'],_0x2edf9d=_0x22475b['addressmode']['u']===0x0?Cesium['TextureWrap']['REPEAT']:Cesium['TextureWrap']['CLAMP_TO_EDGE'],_0x3b874c=_0x22475b['addressmode']['v']===0x0?Cesium['TextureWrap']['REPEAT']:Cesium['TextureWrap']['CLAMP_TO_EDGE'];_0x2dff7d['texMatrix']=Cesium['Matrix4']['unpack'](_0x22475b['texmodmatrix']);let _0x525f0a=_0x1a7270['texturePackage'][_0x380b5b];if(_0x525f0a){_0x525f0a['wrapS']=_0x2edf9d,_0x525f0a['wrapT']=_0x3b874c;if(_0x525f0a['compressType']===_0x364989['CRN_DXT5']&&_0x525f0a['textureData']){const _0x483c51=_0xfd0cba['transcode']({'data':_0x525f0a['textureData'],'bMipMap':!![]});_0x525f0a['textureData']=_0x483c51['bufferView'];}_0x2dff7d['createTexture'](_0x35600f,_0x48b489,_0x525f0a,_0x474880,_0x1a7270);}}}return _0x4b9806;}function _0x1870a7(_0x14e86d,_0x457fff){let _0x222e86=new Cesium['BoundingSphere'](),_0x1a3e89=new Cesium['Cartesian3'](),_0x43636a=_0x14e86d['vertexAttributes'][0x0],_0x3b9dad=_0x43636a['componentsPerAttribute'],_0xd88ed6=Cesium['defined'](_0x14e86d['compressOptions'])&&(_0x14e86d['compressOptions']&_0x78f039['SVC_Vertex'])===_0x78f039['SVC_Vertex'],_0x128856=0x1,_0x380ee1,_0x27dfac;_0xd88ed6?(_0x128856=_0x14e86d['vertCompressConstant'],_0x380ee1=new Cesium['Cartesian3'](_0x14e86d['minVerticesValue']['x'],_0x14e86d['minVerticesValue']['y'],_0x14e86d['minVerticesValue']['z']),_0x27dfac=new Uint16Array(_0x43636a['typedArray']['buffer'],_0x43636a['typedArray']['byteOffset'],_0x43636a['typedArray']['byteLength']/0x2)):_0x27dfac=new Float32Array(_0x43636a['typedArray']['buffer'],_0x43636a['typedArray']['byteOffset'],_0x43636a['typedArray']['byteLength']/0x4);let _0x5094f5=[];for(let _0x5176e8=0x0;_0x5176e8<_0x14e86d['verticesCount'];_0x5176e8++){Cesium['Cartesian3']['fromArray'](_0x27dfac,_0x3b9dad*_0x5176e8,_0x1a3e89),_0xd88ed6&&(_0x1a3e89=Cesium['Cartesian3']['multiplyByScalar'](_0x1a3e89,_0x128856,_0x1a3e89),_0x1a3e89=Cesium['Cartesian3']['add'](_0x1a3e89,_0x380ee1,_0x1a3e89)),_0x5094f5['push'](Cesium['Cartesian3']['clone'](_0x1a3e89));}return Cesium['BoundingSphere']['fromPoints'](_0x5094f5,_0x222e86),Cesium['BoundingSphere']['transform'](_0x222e86,_0x457fff,_0x222e86),_0x5094f5['length']=0x0,_0x222e86;}let _0x591e17=new Cesium['Cartesian3']();function _0x766f0b(_0xc5b2ad){let _0x510deb=new Cesium['BoundingSphere'](),_0x3c04fe=_0xc5b2ad['instanceBounds'];if(!Cesium['defined'](_0x3c04fe))return _0x510deb;let _0x27597b=new Cesium['Cartesian3'](_0x3c04fe[0x0],_0x3c04fe[0x1],_0x3c04fe[0x2]),_0x9d92c7=new Cesium['Carteisan3'](_0x3c04fe[0x3],_0x3c04fe[0x4],_0x3c04fe[0x5]),_0x200220=new Cesium['Cartesian3']['lerp'](_0x27597b,_0x9d92c7,0.5,_0x591e17),_0x2e252a=new Cesium['Cartesian3']['distance'](_0x200220,_0x27597b);return _0x510deb['center']=_0x200220,_0x510deb['radius']=_0x2e252a,_0x510deb;}function _0xda6c6d(_0x4ebcca,_0x2dcc9d){if(_0x4ebcca['instanceIndex']>-0x1)return _0x766f0b(_0x4ebcca);return _0x1870a7(_0x4ebcca,_0x2dcc9d);}function _0x5c344e(_0x1fdecb,_0x12c0cb,_0x4bb530,_0x378d4b){let _0x25e79f=_0x4bb530['geodes'];for(let _0x56155f=0x0,_0x5efe7e=_0x25e79f['length'];_0x56155f<_0x5efe7e;_0x56155f++){let _0x48e5a9=_0x25e79f[_0x56155f],_0x4c6f10=_0x48e5a9['matrix'],_0x55ba1a=Cesium['Matrix4']['multiply'](_0x1fdecb['modelMatrix'],_0x4c6f10,new Cesium['Matrix4']()),_0x117094;Cesium['defined'](_0x378d4b['boundingVolume'])&&(_0x117094=new Cesium['BoundingSphere'](_0x378d4b['boundingVolume']['sphere']['center'],_0x378d4b['boundingVolume']['sphere']['radius']),Cesium['BoundingSphere']['transform'](_0x117094,_0x1fdecb['modelMatrix'],_0x117094));let _0x39e73d=_0x48e5a9['skeletonNames'];for(let _0x25643c=0x0,_0x19b879=_0x39e73d['length'];_0x25643c<_0x19b879;_0x25643c++){let _0x2cfd2f=_0x39e73d[_0x25643c],_0x1473be=_0x12c0cb['geoPackage'][_0x2cfd2f],_0x4ded5c=_0x1473be['vertexPackage'],_0xc109ca=_0x1473be['arrIndexPackage'],_0x275b45=_0x1473be['pickInfo'],_0x225284;_0xc109ca['length']>0x0&&(_0x225284=_0x1fdecb['_materialManager']['create'](_0xc109ca[0x0]['materialCode']));let _0x255a51=Cesium['defined'](_0x117094)?_0x117094:_0xda6c6d(_0x4ded5c,_0x55ba1a);const _0x4af8c2=_0x349724[_0x1fdecb['fileType']]({'layer':_0x1fdecb,'vertexPackage':_0x4ded5c,'arrIndexPackage':_0xc109ca,'pickInfo':_0x275b45,'modelMatrix':_0x55ba1a,'geoMatrix':_0x4c6f10,'boundingVolume':_0x255a51,'material':_0x225284,'edgeGeometry':_0x1473be['edgeGeometry'],'geoName':_0x2cfd2f});_0x378d4b['renderEntities']['push'](_0x4af8c2);}}if(!Cesium['defined'](_0x378d4b['boundingVolume'])&&_0x378d4b['renderEntities']['length']>0x0){let _0x3b0f15=[];for(let _0x2e1896=0x0,_0x177164=_0x378d4b['renderEntities']['length'];_0x2e1896<_0x177164;_0x2e1896++){_0x3b0f15['push'](_0x378d4b['renderEntities'][_0x2e1896]['boundingVolume']);}_0x378d4b['boundingVolume']={'sphere':Cesium['BoundingSphere']['fromBoundingSpheres'](_0x3b0f15),'isCalc':!![]};}}function _0x38c7b1(_0x25f08e,_0x451d59){let _0x415528=_0x451d59['groupNode'],_0x1159c3=[];for(let _0x5aa737=0x0,_0x4a35d8=_0x415528['pageLods']['length'];_0x5aa737<_0x4a35d8;_0x5aa737++){let _0x49bc50={},_0x1b0278=_0x415528['pageLods'][_0x5aa737];_0x49bc50['rangeMode']=_0x1b0278['rangeMode'],_0x49bc50['childTile']=_0x1b0278['childTile'],_0x49bc50['rangeList']=_0x1b0278['rangeList'],_0x49bc50['isLeafTile']=_0x49bc50['childTile']==='',_0x49bc50['renderEntities']=[];if(_0x1b0278['boundingSphere']&&!_0x49bc50['isLeafTile']){let _0x10353c=_0x1b0278['boundingSphere']['center'],_0x3438e7=_0x1b0278['boundingSphere']['radius'];_0x49bc50['boundingVolume']={'sphere':{'center':new Cesium['Cartesian3'](_0x10353c['x'],_0x10353c['y'],_0x10353c['z']),'radius':_0x3438e7},'isCalc':![]};}_0x1b0278['obb']&&(_0x49bc50['boundingVolume']=_0x49bc50['boundingVolume']||{},_0x49bc50['boundingVolume']['obb']=_0x1b0278['obb']),_0x5c344e(_0x25f08e,_0x451d59,_0x1b0278,_0x49bc50),_0x1159c3['push'](_0x49bc50);}return _0x1159c3;}_0x419212['parse']=function(_0x53538d,_0x4dd95b,_0x9a2923){if(!Cesium['defined'](_0x9a2923))return;_0x53538d['dataVersion']=_0x9a2923['version'],_0x37c693(_0x53538d,_0x9a2923,_0x4dd95b);let _0x51ffb1=_0x38c7b1(_0x53538d,_0x9a2923);return _0x51ffb1;};export default _0x419212;