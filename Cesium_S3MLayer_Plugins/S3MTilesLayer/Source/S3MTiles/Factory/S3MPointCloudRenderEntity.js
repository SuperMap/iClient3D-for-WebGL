const _0x21bcd8=(function(){let _0x550403=!![];return function(_0x56e340,_0x25836c){const _0x5f40c6=_0x550403?function(){if(_0x25836c){const _0xfa8407=_0x25836c['apply'](_0x56e340,arguments);return _0x25836c=null,_0xfa8407;}}:function(){};return _0x550403=![],_0x5f40c6;};}()),_0x500ada=_0x21bcd8(this,function(){return _0x500ada['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x500ada)['search']('(((.+)+)+)+$');});_0x500ada();import _0x4f3ac7 from'../Shaders/S3MPointCloudVS.js';import _0x2ba85e from'../Shaders/S3MPointCloudFS.js';import _0xb9d189 from'./RenderEntity.js';import _0x3a6655 from'../Enum/VertexCompressOption.js';import _0x30a595 from'../getComUniformMap.js';function _0x16fd9a(_0x7f3cb){_0xb9d189['call'](this,_0x7f3cb),this['vs']=_0x4f3ac7,this['fs']=_0x2ba85e;}_0x16fd9a['prototype']=Object['create'](_0xb9d189['prototype']),_0x16fd9a['prototype']['constructor']=_0xb9d189;function _0x3631d8(){return Cesium['RenderState']['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![],'func':Cesium['DepthFunction']['LESS_OR_EQUAL']}});}function _0x400fa0(_0x5868e1,_0x452625){let _0x30b1d5=_0x452625['vertexPackage'],_0x24ea29={'uGeoMatrix':function(){return _0x452625['geoMatrix'];},'uInverseGeoMatrix':function(){return _0x452625['invGeoMatrix'];},'uUseWValue':function(){return _0x452625['useWValue'];},'uBottom':function(){return _0x5868e1['style3D']['bottomAltitude'];},'uFillForeColor':function(){return _0x5868e1['style3D']['fillForeColor'];},'uPointCloudSize':function(){return _0x5868e1['style3D']['pointSize'];}};Object['assign'](_0x24ea29,_0x30a595(_0x5868e1));let _0x5046b3=_0x30b1d5['compressOptions'];return(_0x5046b3&_0x3a6655['SVC_Vertex'])===_0x3a6655['SVC_Vertex']&&(_0x24ea29['decode_position_min']=function(){return _0x30b1d5['minVerticesValue'];},_0x24ea29['decode_position_normConstant']=function(){return _0x30b1d5['vertCompressConstant'];}),(_0x5046b3&_0x3a6655['SVC_Normal'])===_0x3a6655['SVC_Normal']&&(_0x24ea29['normal_rangeConstant']=function(){return _0x30b1d5['normalRangeConstant'];}),(_0x5046b3&_0x3a6655['SVC_TexutreCoord'])===_0x3a6655['SVC_TexutreCoord']&&(_0x30b1d5['texCoordCompressConstant']['length']>0x0&&(_0x24ea29['decode_texCoord0_min']=function(){return _0x30b1d5['minTexCoordValue'][0x0];},_0x24ea29['decode_texCoord0_normConstant']=function(){return _0x30b1d5['texCoordCompressConstant'][0x0];}),_0x30b1d5['texCoordCompressConstant']['length']>0x1&&(_0x24ea29['decode_texCoord1_min']=function(){return _0x30b1d5['minTexCoordValue'][0x1];},_0x24ea29['decode_texCoord1_normConstant']=function(){return _0x30b1d5['texCoordCompressConstant'][0x1];}),_0x30b1d5['texCoordCompressConstant']['length']>0x2&&(_0x24ea29['decode_texCoord2_min']=function(){return _0x30b1d5['minTexCoordValue'][0x2];},_0x24ea29['decode_texCoord2_normConstant']=function(){return _0x30b1d5['texCoordCompressConstant'][0x2];}),_0x30b1d5['texCoordCompressConstant']['length']>0x3&&(_0x24ea29['decode_texCoord3_min']=function(){return _0x30b1d5['minTexCoordValue'][0x3];},_0x24ea29['decode_texCoord3_normConstant']=function(){return _0x30b1d5['texCoordCompressConstant'][0x3];}),_0x30b1d5['texCoordCompressConstant']['length']>0x4&&(_0x24ea29['decode_texCoord4_min']=function(){return _0x30b1d5['minTexCoordValue'][0x4];},_0x24ea29['decode_texCoord4_normConstant']=function(){return _0x30b1d5['texCoordCompressConstant'][0x4];}),_0x30b1d5['texCoordCompressConstant']['length']>0x5&&(_0x24ea29['decode_texCoord5_min']=function(){return _0x30b1d5['minTexCoordValue'][0x5];},_0x24ea29['decode_texCoord5_normConstant']=function(){return _0x30b1d5['texCoordCompressConstant'][0x5];}),_0x30b1d5['texCoordCompressConstant']['length']>0x6&&(_0x24ea29['decode_texCoord6_min']=function(){return _0x30b1d5['minTexCoordValue'][0x6];},_0x24ea29['decode_texCoord6_normConstant']=function(){return _0x30b1d5['texCoordCompressConstant'][0x6];}),_0x30b1d5['texCoordCompressConstant']['length']>0x7&&(_0x24ea29['decode_texCoord7_min']=function(){return _0x30b1d5['minTexCoordValue'][0x7];},_0x24ea29['decode_texCoord7_normConstant']=function(){return _0x30b1d5['texCoordCompressConstant'][0x7];})),_0x24ea29;}_0x16fd9a['prototype']['createCommand']=function(){if(Cesium['defined'](this['colorCommand'])||this['vertexBufferToCreate']['length']!==0x0||this['indexBufferToCreate']['length']!==0x0||this['shaderProgramToCreate']['length']!==0x0)return;let _0x451b96=this['layer'],_0xb3d8c6=_0x451b96['context'],_0x2f50a6=this['vertexPackage'],_0x36f061=this['arrIndexPackage'],_0x1d09a0=_0x2f50a6['vertexAttributes'];this['vertexArray']=new Cesium['VertexArray']({'context':_0xb3d8c6,'attributes':_0x1d09a0}),this['colorCommand']=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['POINTS'],'modelMatrix':this['modelMatrix'],'boundingVolume':this['boundingVolume'],'vertexArray':this['vertexArray'],'shaderProgram':this['shaderProgram'],'pass':Cesium['Pass']['CESIUM_3D_TILE'],'renderState':_0x3631d8(),'count':_0x2f50a6['verticesCount']}),this['colorCommand']['uniformMap']=_0x400fa0(_0x451b96,this),this['vertexPackage']=undefined,this['arrIndexPackage']=undefined,this['vs']=undefined,this['fs']=undefined,this['ready']=!![];},_0x16fd9a['prototype']['transformResource']=function(_0x2d6d9f,_0x2501ef){if(this['ready'])return;this['createBuffers'](_0x2d6d9f),this['createShaderProgram'](_0x2d6d9f),this['createCommand'](_0x2d6d9f);},_0x16fd9a['prototype']['update']=function(_0x49fa5d,_0x55e1c4){_0x49fa5d['commandList']['push'](this['colorCommand']);},_0x16fd9a['prototype']['isDestroyed']=function(){return![];},_0x16fd9a['prototype']['destroy']=function(){return this['shaderProgram']=this['shaderProgram']&&!this['shaderProgram']['isDestroyed']()&&this['shaderProgram']['destroy'](),this['vertexArray']=this['vertexArray']&&!this['vertexArray']['isDestroyed']()&&this['vertexArray']['destroy'](),this['material']=this['material']&&!this['material']['isDestroyed']()&&this['material']['destroy'](),this['colorCommand']=undefined,this['vertexPackage']=null,this['arrIndexPackage']=null,this['modelMatrix']=undefined,this['vs']=undefined,this['fs']=undefined,Cesium['destroyObject'](this);};export default _0x16fd9a;