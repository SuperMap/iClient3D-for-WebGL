const _0x47f5b5=(function(){let _0x1dc313=!![];return function(_0x4516eb,_0xf6ed3b){const _0x3bbd90=_0x1dc313?function(){if(_0xf6ed3b){const _0x5c75ad=_0xf6ed3b['apply'](_0x4516eb,arguments);return _0xf6ed3b=null,_0x5c75ad;}}:function(){};return _0x1dc313=![],_0x3bbd90;};}()),_0xdf1ac=_0x47f5b5(this,function(){return _0xdf1ac['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0xdf1ac)['search']('(((.+)+)+)+$');});_0xdf1ac();import _0x3338c8 from'../S3MCreateVertexJob.js';import _0x561059 from'../S3MCreateIndexJob.js';import _0x4497eb from'../S3MCreateShaderProgramJob.js';import _0x1ef2fd from'../Enum/OperationType.js';import _0x22c909 from'../Enum/ProgramDefines.js';import _0x4d64c1 from'../MaterialPass.js';import _0x222c91 from'../Enum/PBRMaterialType.js';import _0x1fb033 from'../Enum/SelectColorType.js';import _0x390e2e from'../Enum/MixColorType.js';function _0xfcc86e(_0x266488){this['layer']=_0x266488['layer'],this['vertexPackage']=_0x266488['vertexPackage'],this['arrIndexPackage']=_0x266488['arrIndexPackage'],this['vertexBufferToCreate']=new Cesium['Queue'](),this['indexBufferToCreate']=new Cesium['Queue'](),this['shaderProgramToCreate']=new Cesium['Queue']();let _0x269bd1,_0x5419da;for(_0x269bd1=0x0,_0x5419da=this['vertexPackage']['vertexAttributes']['length'];_0x269bd1<_0x5419da;_0x269bd1++){this['vertexBufferToCreate']['enqueue'](_0x269bd1);}for(_0x269bd1=0x0,_0x5419da=this['arrIndexPackage']['length'];_0x269bd1<_0x5419da;_0x269bd1++){this['arrIndexPackage'][_0x269bd1]['primitiveType']!==0xd&&this['arrIndexPackage'][_0x269bd1]['indicesCount']>0x0&&this['indexBufferToCreate']['enqueue'](_0x269bd1);}this['shaderProgramToCreate']['enqueue'](0x0),this['boundingVolume']=_0x266488['boundingVolume'],this['material']=Cesium['defaultValue'](_0x266488['material'],new _0x4d64c1()),this['geoName']=_0x266488['geoName'],this['modelMatrix']=_0x266488['modelMatrix'],this['geoMatrix']=_0x266488['geoMatrix'],this['invGeoMatrix']=Cesium['Matrix4']['inverse'](this['geoMatrix'],new Cesium['Matrix4']()),this['instanceCount']=_0x266488['vertexPackage']['instanceCount'],this['attributeLocations']=_0x266488['vertexPackage']['attrLocation'],this['shaderProgram']=undefined,this['vertexArray']=undefined,this['colorCommand']=undefined,this['pickInfo']=Cesium['defaultValue'](_0x266488['pickInfo'],{}),this['selectionInfoMap']=new Cesium['AssociativeArray'](),this['batchTable']=undefined,this['batchTableDirty']=![],this['pickColorIdentifier']='vSecondColor',this['idsOperationMap']=new Cesium['AssociativeArray'](),this['idsColorMap']=new Cesium['AssociativeArray'](),this['useWValue']=_0x266488['vertexPackage']['vertexAttributes'][0x0]['componentsPerAttribute']===0x4,this['edgeGeometry']=_0x266488['edgeGeometry'],this['createBoundingBoxForInstance'](),this['ready']=![];}const _0x5949df=new _0x3338c8(),_0x57e119=new _0x561059(),_0x4f828f=new _0x4497eb();function _0x247990(_0x31987b,_0x18d844){let _0x474ecb=_0x31987b['layer']['context'],_0x47a2d2=_0x31987b['vertexBufferToCreate'];while(_0x47a2d2['length']){let _0x27b81a=_0x47a2d2['peek']();_0x5949df['set'](_0x474ecb,_0x31987b,_0x27b81a);if(!_0x18d844['jobScheduler']['execute'](_0x5949df,Cesium['JobType']['BUFFER']))break;_0x47a2d2['dequeue']();}}function _0x119d48(_0x26bd21,_0x4a2cc3){let _0x1caf0a=_0x26bd21['layer']['context'],_0x54479d=_0x26bd21['indexBufferToCreate'];while(_0x54479d['length']){let _0xe99fe1=_0x54479d['peek']();_0x57e119['set'](_0x1caf0a,_0x26bd21,_0xe99fe1);if(!_0x4a2cc3['jobScheduler']['execute'](_0x57e119,Cesium['JobType']['BUFFER']))break;_0x54479d['dequeue']();}}function _0x4b4dc3(_0x31125b,_0x15d58){let _0x3df14b=_0x31125b['layer']['context'],_0x5c7e63=_0x31125b['shaderProgramToCreate'];while(_0x5c7e63['length']){let _0x2cb821=_0x5c7e63['peek']();_0x4f828f['set'](_0x3df14b,_0x31125b);if(!_0x15d58['jobScheduler']['execute'](_0x4f828f,Cesium['JobType']['PROGRAM']))break;_0x5c7e63['dequeue']();}}function _0x23a217(_0x65ad6d,_0x286c0b){if(Cesium['defined'](_0x65ad6d['batchTable'])||!_0x65ad6d['pickInfo'])return;const _0x5a694a=_0x65ad6d['layer']['context'];let _0x560441=[];_0x560441['push']({'functionName':'s3m_batchTable_color','componentDatatype':Cesium['ComponentDatatype']['UNSIGNED_BYTE'],'componentsPerAttribute':0x4,'normalize':!![]},{'functionName':'s3m_batchTable_operation','componentDatatype':Cesium['ComponentDatatype']['UNSIGNED_BYTE'],'componentsPerAttribute':0x4},{'functionName':'s3m_batchTable_pickColor','componentDatatype':Cesium['ComponentDatatype']['UNSIGNED_BYTE'],'componentsPerAttribute':0x4,'normalize':!![]});let _0x102666=_0x65ad6d['pickInfo'],_0x5dbc8b=Object['keys'](_0x102666),_0x5a68c8=_0x65ad6d['instanceCount']>0x0?_0x65ad6d['instanceCount']:_0x5dbc8b['length'];_0x65ad6d['batchTable']=new Cesium['BatchTable'](_0x5a694a,_0x560441,_0x5a68c8);}_0xfcc86e['prototype']['createBuffers']=function(_0xef8978){_0x247990(this,_0xef8978),_0x119d48(this,_0xef8978);},_0xfcc86e['prototype']['createShaderProgram']=function(_0x2271ed){_0x4b4dc3(this,_0x2271ed);},_0xfcc86e['prototype']['createBatchTable']=function(_0x32d283){_0x23a217(this,_0x32d283);};let _0x29c6a1=new Cesium['Cartesian3']();_0xfcc86e['prototype']['createBoundingBoxForInstance']=function(){const _0x58d2a1=this['vertexPackage'];if(!Cesium['defined'](_0x58d2a1)||_0x58d2a1['instanceIndex']===-0x1||!Cesium['defined'](_0x58d2a1['instanceBounds']))return;let _0x24f75f=_0x58d2a1['instanceBounds'],_0x1fa07d=new Cesium['Cartesian3'](_0x24f75f[0x0],_0x24f75f[0x1],_0x24f75f[0x2]),_0xd96bfb=new Cesium['Cartesian3'](_0x24f75f[0x3],_0x24f75f[0x4],_0x24f75f[0x5]),_0x3efc4e=Cesium['Cartesian3']['lerp'](_0x1fa07d,_0xd96bfb,0.5,_0x29c6a1),_0x2803af=Cesium['Cartesian3']['distance'](_0x3efc4e,_0x1fa07d),_0x56f67b=new Cesium['Cartesian3']();Cesium['Matrix4']['multiplyByPoint'](this['modelMatrix'],_0x3efc4e,_0x56f67b),this['boundingVolume']['center']=_0x56f67b,this['boundingVolume']['radius']=_0x2803af,_0x58d2a1['instanceBounds']=undefined;};let _0x55464d=new Cesium['Cartesian4']();_0xfcc86e['prototype']['createPickIds']=function(){const _0x2120f9=this['layer'],_0x17990b=_0x2120f9['context'],_0x2dc425=this['pickInfo'];if(!Cesium['defined'](_0x2dc425))return;for(let _0x17a37b in _0x2dc425){if(!_0x2dc425['hasOwnProperty'](_0x17a37b))continue;this['selectionInfoMap']['set'](_0x17a37b,_0x2dc425[_0x17a37b]);}let _0xa7352e=this['batchTable'],_0x15ddba=this['selectionInfoMap'],_0x58b3de=_0x15ddba['_hash'];for(let _0x28c7bd in _0x58b3de){if(_0x58b3de['hasOwnProperty'](_0x28c7bd)){let _0x910197=_0x15ddba['get'](_0x28c7bd),_0x3b128d;!Cesium['defined'](_0x3b128d)&&(_0x3b128d=_0x17990b['createPickId']({'primitive':_0x2120f9,'id':_0x28c7bd}));let _0x4db2b5=_0x3b128d['color'];_0x55464d['x']=Cesium['Color']['floatToByte'](_0x4db2b5['red']),_0x55464d['y']=Cesium['Color']['floatToByte'](_0x4db2b5['green']),_0x55464d['z']=Cesium['Color']['floatToByte'](_0x4db2b5['blue']),_0x55464d['w']=Cesium['Color']['floatToByte'](_0x4db2b5['alpha']);let _0x4c66e6=_0x910197['instanceIds'];if(this['instanceCount']>0x0)_0x4c66e6['map'](function(_0x519a78){_0xa7352e['setBatchedAttribute'](_0x519a78,0x2,_0x55464d);});else{let _0x48a52c=_0x910197['batchId'];_0xa7352e['setBatchedAttribute'](_0x48a52c,0x2,_0x55464d);}}}this['pickInfo']=undefined;},_0xfcc86e['prototype']['initLayerSetting']=function(_0x17d85e){_0x17d85e['_allObjsHide']&&this['updateAllObjsVisible'](!_0x17d85e['_allObjsHide']),Object['keys'](_0x17d85e['_objsColorList'])['length']>0x0&&this['updateObjsColor'](_0x17d85e['_objsColorList']),_0x17d85e['_objsOperationList']['length']>0x0&&this['updateObjsOperation'](_0x17d85e['_objsOperationList']);},_0xfcc86e['prototype']['updateBatchTableAttributes']=function(){let _0x3536ce=this,_0x280e68=this['idsColorMap'],_0x2e3110=[];for(let _0x526164=0x0,_0x1d4732=_0x280e68['length'];_0x526164<_0x1d4732;_0x526164++){let _0x3df11a=_0x280e68['values'][_0x526164];if(!_0x3df11a['dirty'])continue;_0x3df11a['dirty']=![],_0x2e3110=_0x3df11a['color']['toBytes'](),_0x55464d['x']=_0x2e3110[0x0],_0x55464d['y']=_0x2e3110[0x1],_0x55464d['z']=_0x2e3110[0x2],_0x55464d['w']=_0x2e3110[0x3];if(Cesium['defined'](_0x3df11a['batchId']))this['batchTable']['setBatchedAttribute'](_0x3df11a['batchId'],0x0,_0x55464d);else Array['isArray'](_0x3df11a['instanceIds'])&&_0x3df11a['instanceIds']['map'](function(_0x2b5c1c){_0x3536ce['batchTable']['setBatchedAttribute'](_0x2b5c1c,0x0,_0x55464d);});}let _0x4c94a5=this['idsOperationMap'];for(let _0x5abd22=0x0,_0x589981=_0x4c94a5['length'];_0x5abd22<_0x589981;_0x5abd22++){let _0x2ec9a4=_0x4c94a5['values'][_0x5abd22];if(!_0x2ec9a4['dirty'])continue;_0x2ec9a4['dirty']=![],this['instanceCount']>0x0?Array['isArray'](_0x2ec9a4['instanceIds'])&&_0x2ec9a4['instanceIds']['map'](function(_0x123d38){_0x3536ce['batchTable']['setBatchedAttribute'](_0x123d38,0x1,_0x2ec9a4['operationValue']);}):Cesium['defined'](_0x2ec9a4['batchId'])&&this['batchTable']['setBatchedAttribute'](_0x2ec9a4['batchId'],0x1,_0x2ec9a4['operationValue']);}},_0xfcc86e['prototype']['updateObjsColor']=function(_0x2f7ace){if(!this['ready']||this['selectionInfoMap']['length']<0x1)return;let _0x5bbf8e=this['selectionInfoMap']['_hash'];for(let _0x1862ad in _0x5bbf8e){if(!_0x5bbf8e['hasOwnProperty'](_0x1862ad))continue;let _0x44dd2d=_0x2f7ace[_0x1862ad];if(!Cesium['defined'](_0x44dd2d))continue;let _0x15ca42=_0x5bbf8e[_0x1862ad];const _0x551a30=_0x15ca42['batchId'],_0x322a17=_0x15ca42['instanceIds'];this['idsColorMap']['set'](_0x1862ad,{'batchId':_0x551a30,'instanceIds':_0x322a17,'color':_0x44dd2d,'dirty':!![]});let _0x4a2884=this['idsOperationMap']['get'](_0x1862ad);!Cesium['defined'](_0x4a2884)&&(_0x4a2884={'batchId':_0x551a30,'instanceIds':_0x322a17,'operationValue':new Cesium['Cartesian4'](),'dirty':!![]}),_0x4a2884['dirty']=!![],_0x4a2884['operationValue']['x']=_0x44dd2d===Cesium['Color']['TRANSPARENT']?_0x4a2884['operationValue']['x']&0xfe:_0x4a2884['operationValue']['x']|0x1,this['idsOperationMap']['set'](_0x1862ad,_0x4a2884),this['batchTableDirty']=!![];}},_0xfcc86e['prototype']['updateObjsOperation']=function(_0x22f6b8){if(!this['ready']||this['selectionInfoMap']['length']<0x1)return;let _0x268636=this['selectionInfoMap']['_hash'];for(let _0x77c23d in _0x268636){if(!_0x268636['hasOwnProperty'](_0x77c23d))continue;if(!_0x22f6b8['contains'](_0x77c23d))continue;let _0x6b2da=_0x268636[_0x77c23d],_0x4517cd=_0x6b2da['batchId'],_0x2fa394=_0x6b2da['instanceIds'],_0x265b45=_0x22f6b8['get'](_0x77c23d),_0x3f734c=this['idsOperationMap']['get'](_0x77c23d);!Cesium['defined'](_0x3f734c)&&(_0x3f734c={'batchId':_0x4517cd,'instanceIds':_0x2fa394,'operationValue':new Cesium['Cartesian4'](),'dirty':!![]}),_0x3f734c['dirty']=!![],_0x3f734c['operationValue']['x']=_0x3f734c['operationValue']['x']&0x1|_0x265b45,this['idsOperationMap']['set'](_0x77c23d,_0x3f734c),this['batchTableDirty']=!![];}},_0xfcc86e['prototype']['updateAllObjsVisible']=function(_0x4f0174){if(!this['ready']||this['selectionInfoMap']['length']<0x1)return;let _0x53830e=this['layer'],_0x27bf10=this['selectionInfoMap']['_hash'];for(let _0x39332b in _0x27bf10){if(!_0x27bf10['hasOwnProperty'](_0x39332b))continue;if(_0x53830e['_objsVisibleList']['contains'](_0x39332b))continue;let _0x3497b9=_0x27bf10[_0x39332b],_0x4a70a9=_0x3497b9['batchId'],_0x47e28c=_0x3497b9['instanceIds'],_0x41e033=this['idsOperationMap']['get'](_0x39332b);!Cesium['defined'](_0x41e033)&&(_0x41e033={'batchId':_0x4a70a9,'instanceIds':_0x47e28c,'operationValue':new Cesium['Cartesian4'](),'dirty':!![]}),_0x41e033['dirty']=!![],_0x4f0174?_0x41e033['operationValue']['x']=_0x41e033['operationValue']['x']&(_0x1ef2fd['ALL']^_0x1ef2fd['HIDE']):_0x41e033['operationValue']['x']=_0x41e033['operationValue']['x']|_0x1ef2fd['HIDE'],this['idsOperationMap']['set'](_0x39332b,_0x41e033),_0x41e033['operationValue']['x']===_0x1ef2fd['RESET']?_0x53830e['_objsOperationList']['remove'](_0x39332b):(_0x53830e['_objsOperationList']['set'](_0x39332b,_0x41e033['operationValue']['x']),_0x53830e['_objsHideList']['set'](_0x39332b,!![])),this['batchTableDirty']=!![];}};function _0x2b808f(_0x25fe01,_0x1aae6b){let _0x315818=_0x25fe01['defines']['indexOf'](_0x1aae6b);_0x315818>=0x0&&_0x25fe01['defines']['splice'](_0x315818,0x1);}function _0x51dcbc(_0x3b693d,_0x5e5290){let _0x162a68=_0x3b693d['defines']['indexOf'](_0x5e5290);_0x162a68===-0x1&&_0x3b693d['defines']['push'](_0x5e5290);}_0xfcc86e['prototype']['clip']=function(_0x40fc6a){if(!this['ready'])return;let _0x3021b1=this['shaderProgram']['vertexShaderSource']['clone'](),_0x3f7023=this['shaderProgram']['fragmentShaderSource']['clone'](),_0x7077f2=this['attributeLocations'];_0x40fc6a['enable']?_0x3f7023['defines']['indexOf'](_0x22c909['CLIP'])===-0x1&&_0x3f7023['defines']['push'](_0x22c909['CLIP']):_0x2b808f(_0x3f7023,_0x22c909['CLIP']),this['layer']['_enableClipPlane']?_0x3f7023['defines']['indexOf'](_0x22c909['CLIPPLANE'])===-0x1&&_0x3f7023['defines']['push'](_0x22c909['CLIPPLANE']):_0x2b808f(_0x3f7023,_0x22c909['CLIPPLANE']),this['shaderProgram']['destroy'](),this['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':this['layer']['context'],'vertexShaderSource':_0x3021b1,'fragmentShaderSource':_0x3f7023,'attributeLocations':_0x7077f2}),this['colorCommand']['shaderProgram']=this['shaderProgram'];},_0xfcc86e['prototype']['hypsometric']=function(_0x2c9579){if(!this['ready'])return;let _0x2cacb0=this['shaderProgram']['vertexShaderSource']['clone'](),_0x2897e5=this['shaderProgram']['fragmentShaderSource']['clone'](),_0xa7441=this['attributeLocations'];_0x2c9579['enable']?(_0x2cacb0['defines']['indexOf'](_0x22c909['HYPSOMETRIC'])===-0x1&&_0x2cacb0['defines']['push'](_0x22c909['HYPSOMETRIC']),_0x2897e5['defines']['indexOf'](_0x22c909['HYPSOMETRIC'])===-0x1&&_0x2897e5['defines']['push'](_0x22c909['HYPSOMETRIC'])):_0x2b808f(_0x2897e5,_0x22c909['HYPSOMETRIC']),this['shaderProgram']['destroy'](),this['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':this['layer']['context'],'vertexShaderSource':_0x2cacb0,'fragmentShaderSource':_0x2897e5,'attributeLocations':_0xa7441}),this['colorCommand']['shaderProgram']=this['shaderProgram'];},_0xfcc86e['prototype']['swipe']=function(_0x4a751d){if(!this['ready'])return;let _0x42bb70=this['shaderProgram']['vertexShaderSource']['clone'](),_0x47db13=this['shaderProgram']['fragmentShaderSource']['clone'](),_0x104f44=this['attributeLocations'];_0x4a751d['enable']?_0x47db13['defines']['indexOf'](_0x22c909['APPLY_SWIPE'])===-0x1&&_0x47db13['defines']['push'](_0x22c909['APPLY_SWIPE']):_0x2b808f(_0x47db13,_0x22c909['APPLY_SWIPE']),this['shaderProgram']['destroy'](),this['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':this['layer']['context'],'vertexShaderSource':_0x42bb70,'fragmentShaderSource':_0x47db13,'attributeLocations':_0x104f44}),this['colorCommand']['shaderProgram']=this['shaderProgram'];},_0xfcc86e['prototype']['flatten']=function(_0xfe2051){if(!this['ready'])return;let _0xbb8c20=this['shaderProgram']['vertexShaderSource']['clone'](),_0xd4c1f0=this['shaderProgram']['fragmentShaderSource']['clone'](),_0x6a3cec=this['attributeLocations'];_0xfe2051['enable']?_0xbb8c20['defines']['indexOf'](_0x22c909['FLATTEN'])===-0x1&&_0xbb8c20['defines']['push'](_0x22c909['FLATTEN']):_0x2b808f(_0xbb8c20,_0x22c909['FLATTEN']),this['shaderProgram']['destroy'](),this['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':this['layer']['context'],'vertexShaderSource':_0xbb8c20,'fragmentShaderSource':_0xd4c1f0,'attributeLocations':_0x6a3cec}),this['colorCommand']['shaderProgram']=this['shaderProgram'];},_0xfcc86e['prototype']['enableExcavation']=function(_0x43d832){if(!this['ready'])return;let _0x18be34=this['shaderProgram']['vertexShaderSource']['clone'](),_0x122cd2=this['shaderProgram']['fragmentShaderSource']['clone'](),_0x50701d=this['attributeLocations'];_0x43d832['enable']?(_0x18be34['defines']['indexOf'](_0x22c909['EXCAVATION'])===-0x1&&_0x18be34['defines']['push'](_0x22c909['EXCAVATION']),_0x122cd2['defines']['indexOf'](_0x22c909['EXCAVATION'])===-0x1&&_0x122cd2['defines']['push'](_0x22c909['EXCAVATION'])):(_0x2b808f(_0x18be34,_0x22c909['EXCAVATION']),_0x2b808f(_0x122cd2,_0x22c909['EXCAVATION'])),this['shaderProgram']['destroy'](),this['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':this['layer']['context'],'vertexShaderSource':_0x18be34,'fragmentShaderSource':_0x122cd2,'attributeLocations':_0x50701d}),this['colorCommand']['shaderProgram']=this['shaderProgram'];},_0xfcc86e['prototype']['pbrParameterChange']=function(_0x201423){let _0x57d2fc=this['shaderProgram']['vertexShaderSource']['clone'](),_0x543a93=this['shaderProgram']['fragmentShaderSource']['clone'](),_0x3366a1=this['attributeLocations'];if(_0x201423['enable']){var _0xb83614=_0x201423['layer'],_0x57bd81=_0xb83614['_pbrParameter'],_0x5e4a5d=(_0x57bd81&_0x222c91['ROUGHNESS'])>0x0||_0xb83614['_PBRMaterialParams']['loadingTexture'],_0xe2807f=Cesium['defined'](_0xb83614['themeStyle'])&&Cesium['defined'](_0xb83614['themeStyle']['pbrMaterialIndex']),_0x55908c=[],_0x2036a5=Cesium['defined'](this['attributeLocations']['aTexCoord0']);_0x5e4a5d||_0xe2807f?(_0x2036a5&&_0x55908c['push'](_0x22c909['BRDF']),_0xe2807f&&(_0x55908c['push'](_0x22c909['PBR_THEME']),_0x55908c['push']('NUM_PBR_MATERIALS\x20'+_0xb83614['_frameState']['pbrMaterialsArr']['length'])),Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['baseColorTexture'])&&_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['baseColorTexture']instanceof Cesium['Texture']&&(_0x2036a5&&_0x55908c['push'](_0x22c909['HAS_BASE_TEXTURE'])),_0x2036a5&&Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect'])&&(Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect']['wetnessFactor'])&&(_0x55908c['push'](_0x22c909['HAS_WETNESS']),Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect']['rippleTexture'])&&_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect']['rippleTexture']instanceof Cesium['Texture']&&_0x55908c['push'](_0x22c909['HAS_RAIN']))),_0x2036a5&&Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect'])&&(Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect']['snowMaskTexture'])&&_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect']['snowMaskTexture']instanceof Cesium['Texture']&&Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect']['snowNormalTexture'])&&_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect']['snowNormalTexture']instanceof Cesium['Texture']&&_0x55908c['push'](_0x22c909['HAS_SNOW'])),(Cesium['defined'](this['materialPass'])&&this['materialPass']['_metallicRoughnessTextureIndex']>-0x1||Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['metallicRoughnessTexture'])&&_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['metallicRoughnessTexture']instanceof Cesium['Texture'])&&(_0x2036a5&&_0x55908c['push'](_0x22c909['HAS_MetallicRoughness_TEXTURE'])),(Cesium['defined'](this['materialPass'])&&this['materialPass']['_normalTextureIndex']>-0x1||Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['normalTexture'])&&_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['normalTexture']instanceof Cesium['Texture'])&&(_0x2036a5&&_0x55908c['push'](_0x22c909['HAS_NORMAL_TEXTURE'])),(Cesium['defined'](this['materialPass'])&&this['materialPass']['_occlusionTextureIndex']>-0x1||Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['occlusionTexture'])&&_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['occlusionTexture']instanceof Cesium['Texture'])&&(_0x2036a5&&_0x55908c['push'](_0x22c909['HAS_OCCLUSION_TEXTURE'])),(Cesium['defined'](this['materialPass'])&&Cesium['defined'](this['materialPass']['_anisotropy'])||Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['anisotropy']))&&_0x55908c['push'](_0x22c909['HAS_ANISOTROPY']),(Cesium['defined'](this['materialPass'])&&Cesium['defined'](this['materialPass']['_volume'])||Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['volume']))&&(_0x55908c['push'](_0x22c909['HAS_VOLUME']),_0x55908c['push'](_0x22c909['HAS_TRANSMISSION'])),(Cesium['defined'](this['materialPass'])&&Cesium['defined'](this['materialPass']['_clearcoat'])||Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['clearcoat']))&&_0x55908c['push'](_0x22c909['HAS_CLEARCOAT']),(Cesium['defined'](this['materialPass'])&&this['materialPass']['_indexOfRefraction']>-0x1||Cesium['defined'](_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['indexOfRefraction'])&&_0xb83614['_PBRMaterialParams']['pbrMetallicRoughness']['indexOfRefraction']>0x0)&&_0x55908c['push'](_0x22c909['REFRACTION']),Cesium['defined'](this['materialPass'])&&this['materialPass']['_emissiveTextureIndex']>-0x1&&_0x55908c['push'](_0x22c909['HAS_EMISSIVE_TEXTURE']),Cesium['defined'](_0xb83614['_frameState']['specularEnvironmentMaps'])&&_0x55908c['push'](_0x22c909['IBL']),_0x55908c['forEach'](_0x242cc3=>{_0x51dcbc(_0x543a93,_0x242cc3);})):(_0x55908c=[_0x22c909['BRDF'],'NUM_PBR_MATERIALS\x20'+_0xb83614['_frameState']['pbrMaterialsArr']['length'],_0x22c909['HAS_BASE_TEXTURE'],_0x22c909['HAS_NORMAL_TEXTURE'],_0x22c909['HAS_EMISSIVE_TEXTURE'],_0x22c909['IBL'],_0x22c909['HAS_MetallicRoughness_TEXTURE'],_0x22c909['HAS_SNOW'],_0x22c909['HAS_RAIN']],_0x55908c['forEach'](_0x1e32b1=>{_0x2b808f(_0x543a93,_0x1e32b1);})),this['shaderProgram']['destroy'](),this['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0xb83614['context'],'vertexShaderSource':_0x57d2fc,'fragmentShaderSource':_0x543a93,'attributeLocations':_0x3366a1}),this['colorCommand']['shaderProgram']=this['shaderProgram'];}},_0xfcc86e['prototype']['selectColorTypeChange']=function(_0x1d3144){if(!this['ready'])return;let _0x3f7345=this['shaderProgram']['vertexShaderSource']['clone'](),_0x1140cf=this['shaderProgram']['fragmentShaderSource']['clone'](),_0x5ea73d=this['attributeLocations'];_0x1d3144['selectColorType']==_0x1fb033['REPLACE']?(_0x1140cf['defines']['indexOf'](_0x22c909['REPLACE_SELECT_TYPE'])===-0x1&&_0x1140cf['defines']['push'](_0x22c909['REPLACE_SELECT_TYPE']),_0x3f7345['defines']['indexOf'](_0x22c909['REPLACE_SELECT_TYPE'])===-0x1&&_0x3f7345['defines']['push'](_0x22c909['REPLACE_SELECT_TYPE'])):(_0x2b808f(_0x3f7345,_0x22c909['REPLACE_SELECT_TYPE']),_0x2b808f(_0x1140cf,_0x22c909['REPLACE_SELECT_TYPE'])),this['shaderProgram']['destroy'](),this['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0x1d3144['layer']['context'],'vertexShaderSource':_0x3f7345,'fragmentShaderSource':_0x1140cf,'attributeLocations':_0x5ea73d}),this['colorCommand']['shaderProgram']=this['shaderProgram'];},_0xfcc86e['prototype']['mixColorTypeChange']=function(_0x6fa826){if(!this['ready'])return;let _0xf6bf74=this['shaderProgram']['vertexShaderSource']['clone'](),_0xba2ef2=this['shaderProgram']['fragmentShaderSource']['clone'](),_0x10504f=this['attributeLocations'];_0x6fa826['mixColorType']===_0x390e2e['REPLACE']?(_0xba2ef2['defines']['indexOf'](_0x22c909['REPLACE_COLOR_TYPE'])===-0x1&&_0xba2ef2['defines']['push'](_0x22c909['REPLACE_COLOR_TYPE']),_0xf6bf74['defines']['indexOf'](_0x22c909['REPLACE_COLOR_TYPE'])===-0x1&&_0xf6bf74['defines']['push'](_0x22c909['REPLACE_COLOR_TYPE'])):(_0x2b808f(_0xf6bf74,_0x22c909['REPLACE_COLOR_TYPE']),_0x2b808f(_0xba2ef2,_0x22c909['REPLACE_COLOR_TYPE'])),this['shaderProgram']['destroy'](),this['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0x6fa826['layer']['context'],'vertexShaderSource':_0xf6bf74,'fragmentShaderSource':_0xba2ef2,'attributeLocations':_0x10504f}),this['colorCommand']['shaderProgram']=this['shaderProgram'];},_0xfcc86e['prototype']['transformResource']=Cesium['DeveloperError']['throwInstantiationError'],_0xfcc86e['prototype']['createCommand']=Cesium['DeveloperError']['throwInstantiationError'],_0xfcc86e['prototype']['update']=Cesium['DeveloperError']['throwInstantiationError'],_0xfcc86e['prototype']['isDestroyed']=Cesium['DeveloperError']['throwInstantiationError'],_0xfcc86e['prototype']['destroy']=Cesium['DeveloperError']['throwInstantiationError'];export default _0xfcc86e;