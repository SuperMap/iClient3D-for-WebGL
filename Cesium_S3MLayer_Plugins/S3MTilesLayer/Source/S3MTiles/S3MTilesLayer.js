const _0x7a8b78=(function(){let _0x5d00fe=!![];return function(_0x38bb4a,_0x41552e){const _0x4eb9bd=_0x5d00fe?function(){if(_0x41552e){const _0x3b4e6f=_0x41552e['apply'](_0x38bb4a,arguments);return _0x41552e=null,_0x3b4e6f;}}:function(){};return _0x5d00fe=![],_0x4eb9bd;};}()),_0x275662=_0x7a8b78(this,function(){return _0x275662['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x275662)['search']('(((.+)+)+)+$');});_0x275662();import _0x5751b1 from'./S3MTile.js';import _0x3696c8 from'./S3MLayerScheduler.js';import _0x33af8d from'./S3MLayerCache.js';import _0x3628d3 from'./Enum/OperationType.js';import _0x3bcbde from'./Enum/PLANECLIPMODE.js';import _0x199ed8 from'./Hypsometric.js';import _0x5db809 from'./HypsometricSetting.js';import _0x1a9eab from'./Enum/HypsometricSettingEnum.js';import _0xd662de from'./Parameter/Flatten.js';import _0x2bdbee from'./RasterRegion.js';import _0x34f540 from'../Ext/XmlParser.js';import _0xdaa0f1 from'./Style3D.js';import _0x47fd44 from'./S3MBlockCache.js';import _0x358205 from'../ThirdParty/defer.js';import _0x466480 from'../ThirdParty/Uri.js';import _0x341210 from'./Enum/TextureCompressType.js';import _0xbb35a1 from'../Core/CRNTranscoder.js';import _0x129a3d from'./Enum/ModifyRegionMode.js';import _0xb21c98 from'./shaders/RegionVectex.js';import _0xd81c49 from'./shaders/RegionTextureVertex.js';import _0x2c7b1e from'./shaders/RegionAltitudeVectex.js';import _0x1bc2d9 from'./shaders/RegionFragment.js';import _0x4a149b from'./S3MDracoDecode.js';var _0x2e7ddb=new Cesium['Matrix4'](0x0,0x0,0x1,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x0,0x1),_0x5444eb={'Altitude':0x0,'Color':0x1,'Texture':0x2};function _0x3b26af(_0x4bfa22){_0x4bfa22=Cesium['defaultValue'](_0x4bfa22,Cesium['defaultValue']['EMPTY_OBJECT']),Cesium['Check']['defined']('options.context',_0x4bfa22['context']),Cesium['Check']['defined']('Authentication\x20error',_0x4bfa22['rss']),this['id']=Cesium['createGuid'](),this['name']=_0x4bfa22['name'],this['context']=_0x4bfa22['context'],this['_isS3MB']=Cesium['defaultValue'](_0x4bfa22['isS3MB'],!![]),this['_isS3MBlock']=Cesium['defaultValue'](_0x4bfa22['isS3MBlock'],![]),this['_url']=undefined,this['_basePath']=undefined,this['_baseResource']=undefined,this['modelMatrix']=new Cesium['Matrix4'](),this['invModelMatrix']=new Cesium['Matrix4'](),this['fileType']=undefined,this['dataVersion']=0x1,this['_position']=undefined,this['_rectangle']=undefined,this['_rootTiles']=[],this['_schuduler']=new _0x3696c8(),this['_requestTiles']=[],this['_processTiles']=[],this['_renderQueue']=[],this['_cache']=new _0x33af8d(),this['_vertexCompressionType']=_0x4bfa22['vertexCompressionType'],this['_textureCompressType']=_0x341210['None'],this['_maximumMemoryUsage']=-0x1,this['_totalMemoryUsageInBytes']=0x0,this['_maximumPriority']={'foveatedFactor':-Number['MAX_VALUE'],'depth':-Number['MAX_VALUE'],'distance':-Number['MAX_VALUE'],'pixel':-Number['MAX_VALUE']},this['_minimumPriority']={'foveatedFactor':Number['MAX_VALUE'],'depth':Number['MAX_VALUE'],'distance':Number['MAX_VALUE'],'pixel':Number['MAX_VALUE']},this['_readyPromise']=_0x358205(),this['_selectEnabled']=Cesium['defaultValue'](_0x4bfa22['selectEnabled'],!![]),this['_multiChoose']=![],this['_sceneMode']=Cesium['defaultValue'](_0x4bfa22['sceneMode'],Cesium['SceneMode']['SCENE3D']),this['_selections']=[],this['_selectedColor']=new Cesium['Color'](0.7,0.7,0x1,0x1),this['_objsOperationList']=new Cesium['AssociativeArray'](),this['_objsVisibleList']=new Cesium['AssociativeArray'](),this['_objsHideList']=new Cesium['AssociativeArray'](),this['_objsVisibleMap']={},this['_objsColorList']={},this['_allObjsHide']=![],this['_flattenTextureWidth']=0x400,this['_clipMode']=_0x3bcbde['CLIP_NOTHING'],this['_excavationMode']=_0x129a3d['CLIP_INSIDE'],this['_excavationTexture']=undefined,this['_excavationRegions']=new Cesium['AssociativeArray'](),this['_excavationBounds']=new Cesium['Cartesian4'](),this['_excavateRegionCommands']=new Cesium['AssociativeArray'](),this['_excavationUpdate']=![],this['_hasExcavation']=![],this['_enableClip']=![],this['_enableClipPlane']=![],this['_clipPlane']=[new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0)],this['_oriClipPlane']=[new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0)],this['_hypsometric']=new _0x199ed8({}),this['_flattenPar']=new _0xd662de(),this['_minCategory']=0x0,this['_maxCategory']=0x0,this['_minHeight']=0x0,this['_maxHeight']=0x0,this['_swipeRegion']=new Cesium['Cartesian4'](0x0,0x0,0x1,0x1),this['_swipeEnabled']=![],this['_brightness']=Cesium['defaultValue'](_0x4bfa22['brightness'],0x1),this['_contrast']=Cesium['defaultValue'](_0x4bfa22['constrast'],0x1),this['_hue']=Cesium['defaultValue'](_0x4bfa22['hue'],0x0),this['_saturation']=Cesium['defaultValue'](_0x4bfa22['saturation'],0x1),this['_gamma']=Cesium['defaultValue'](_0x4bfa22['gamma'],0x1),this['_visibleDistanceMax']=Cesium['defaultValue'](_0x4bfa22['maxVisibleDistance'],Number['MAX_VALUE']),this['_visibleDistanceMin']=Cesium['defaultValue'](_0x4bfa22['minVisibleDistance'],0x0),this['_minVisibleAltitude']=Cesium['defaultValue'](_0x4bfa22['minVisibleAltitude'],0x0),this['_maxVisibleAltitude']=Cesium['defaultValue'](_0x4bfa22['maxVisibleAltitude'],Number['MAX_VALUE']),this['_lodRangeScale']=Cesium['defaultValue'](_0x4bfa22['lodRangeScale'],0x1),this['_visible']=Cesium['defaultValue'](_0x4bfa22['isVisible'],!![]),this['_style3D']=Cesium['defaultValue'](_0x4bfa22['style3D'],new _0xdaa0f1()),this['_isTransparencyOptimization']=![],this['_polygonOffsetConfig']=_0x4bfa22['polygonOffset'],this['_visibleViewport']=0xfff,this['_waterParameters']=undefined,this['_waterPlanes']=undefined,this['_edgeDistanceFalloffFactor']=0x0,this['_edgeCurrentTotalLength']=0x0,this['_edgeCurrentCount']=0x0,this['_blockCache']=_0x47fd44['getSingleInstance'](),this['_materialManager']=undefined,this['_subTextureManager']=undefined,this['_subdomainConfig']=Cesium['defaultValue'](_0x4bfa22['subdomainConfig'],{}),this['_PBRMaterialParams']={'pbrMetallicRoughness':{'metallicFactor':0x0,'roughnessFactor':0x0,'baseColor':new Cesium['Cartesian4'](0x1,0x1,0x1,0x1),'baseColorTextureIndex':-0x1,'emissiveFactor':Cesium['Cartesian3']['ZERO'],'emissiveTextureIndex':-0x1,'occlusionTextureIndex':-0x1,'normalTextureIndex':-0x1,'normalTexture':undefined,'baseColorTexture':undefined}},this['loadConfig'](_0x4bfa22['url']);}Object['defineProperties'](_0x3b26af['prototype'],{'ready':{'get':function(){if(this['fileType']==='OSGBCacheFile_Water')return this['_waterParameters']!==undefined&&this['_rootTiles']['length']>0x0;return this['_rootTiles']['length']>0x0;}},'readyPromise':{'get':function(){return this['_readyPromise'];}},'visible':{'get':function(){return this['_visible'];},'set':function(_0xf31b82){this['_visible']=_0xf31b82;}},'show':{'get':function(){return this['_visible'];},'set':function(_0x25f3d2){this['_visible']=_0x25f3d2;}},'style3D':{'get':function(){return this['_style3D'];}},'rectangle':{'get':function(){return this['_rectangle'];}},'totalMemoryUsageInBytes':{'get':function(){return this['_totalMemoryUsageInBytes'];},'set':function(_0x32a72a){this['_totalMemoryUsageInBytes']=_0x32a72a;}},'maximumMemoryUsage':{'get':function(){return this['_maximumMemoryUsage'];},'set':function(_0x128115){this['_maximumMemoryUsage']=_0x128115;}},'lodRangeScale':{'get':function(){return this['_lodRangeScale'];},'set':function(_0x460079){Cesium['Check']['typeOf']['number']('set\x20layer\x20lod\x20range\x20scale',_0x460079),this['_lodRangeScale']=_0x460079;}},'selectedColor':{'get':function(){return this['_selectedColor'];},'set':function(_0x3d2302){Cesium['Color']['clone'](_0x3d2302,this['_selectedColor']);}},'dataMinValue':{'get':function(){return Cesium['defaultValue'](this['_minCategory'],this['_minHeight']);}},'dataMaxValue':{'get':function(){return Cesium['defaultValue'](this['_maxCategory'],this['_maxHeight']);}},'swipeRegion':{'get':function(){return new Cesium['BoundingRectangle'](this['_swipeRegion']['x'],this['_swipeRegion']['y'],this['_swipeRegion']['z']-this['_swipeRegion']['x'],this['_swipeRegion']['w']-this['_swipeRegion']['y']);},'set':function(_0x4dc4b6){if(!_0x4dc4b6)return;if(!(_0x4dc4b6 instanceof Cesium['BoundingRectangle']))throw new Cesium['DeveloperError']('swipeRegion\x20must\x20be\x20a\x20instance\x20of\x20BoundingRectangle.');Cesium['Cartesian4']['fromElements'](_0x4dc4b6['x'],_0x4dc4b6['y'],_0x4dc4b6['x']+_0x4dc4b6['width'],_0x4dc4b6['y']+_0x4dc4b6['height'],this['_swipeRegion']);}},'swipeEnabled':{'get':function(){return this['_swipeEnabled'];},'set':function(_0xc26348){if(_0xc26348===this['_swipeEnabled'])return;!_0xc26348&&Cesium['Cartesian4']['fromElements'](0x0,0x0,0x1,0x1,this['_swipeRegion']),this['_swipeEnabled']=_0xc26348,this['_tranverseRenderEntity']({'enable':_0xc26348},_0x518fd7);}},'visibleDistanceMax':{'get':function(){return this['_visibleDistanceMax'];},'set':function(_0x4cfa59){Cesium['Check']['typeOf']['number']('max\x20visible\x20distance',_0x4cfa59),this['_visibleDistanceMax']=_0x4cfa59;}},'visibleDistanceMin':{'get':function(){return this['_visibleDistanceMin'];},'set':function(_0x48246d){Cesium['Check']['typeOf']['number']('min\x20visible\x20distance',_0x48246d),this['_visibleDistanceMin']=_0x48246d;}},'minVisibleAltitude':{'get':function(){return this['_minVisibleAltitude'];},'set':function(_0x29f530){Cesium['Check']['typeOf']['number']('min\x20visible\x20altitude',_0x29f530),this['_minVisibleAltitude']=_0x29f530;}},'maxVisibleAltitude':{'get':function(){return this['_maxVisibleAltitude'];},'set':function(_0x146082){Cesium['Check']['typeOf']['number']('max\x20visible\x20altitude',_0x146082),this['_maxVisibleAltitude']=_0x146082;}},'hypsometricSetting':{'get':function(){return{'hypsometricSetting':this['_hypsometric']['setting'],'analysisMode':this['_hypsometric']['analysisMode']};},'set':function(_0x4564bb){let _0x344c0c=this['_hypsometric'];if(!_0x4564bb||!_0x4564bb['hypsometricSetting']){_0x344c0c['isUseHypColorTable']=![],_0x344c0c['setting']=_0x344c0c['setting']&&_0x344c0c['setting']['destroy'](),this['_tranverseRenderEntity']({'enable':![]},_0xc41c82);return;}_0x344c0c['region']=_0x344c0c['region']&&_0x344c0c['region']['destroy'](),!_0x344c0c['renderTexture']&&(_0x344c0c['renderTexture']=new Cesium['Texture']({'context':this['context'],'width':0x400,'height':0x400,'pixelFormat':Cesium['PixelFormat']['RGBA']})),!_0x344c0c['texture']&&(_0x344c0c['texture']=new Cesium['Texture']({'context':this['context'],'width':0x400,'height':0x40,'pixelFormat':Cesium['PixelFormat']['RGBA'],'flipY':![]})),_0x344c0c['analysisMode']=Cesium['defaultValue'](_0x4564bb['analysisMode'],_0x344c0c['analysisMode']),_0x344c0c['setting']=_0x5db809['clone'](_0x4564bb['hypsometricSetting'],_0x344c0c['setting']),_0x344c0c['setting']['ColorTable']&&(_0x344c0c['setting']['ColorTable']['generateBuffer'](),this['_hypsometric']['texture']&&this['_hypsometric']['texture']['copyFrom']({'width':0x400,'height':0x40,'arrayBufferView':_0x344c0c['setting']['ColorTable']['_imageBuffer']})),_0x344c0c['isUseHypColorTable']=_0x344c0c['analysisMode']!==_0x1a9eab['AnalysisRegionMode']['ARM_NONE'],this['_tranverseRenderEntity']({'enable':_0x344c0c['isUseHypColorTable']},_0xc41c82);}},'selectEnabled':{'get':function(){return this['_selectEnabled'];},'set':function(_0x56d989){Cesium['Check']['defined']('value',_0x56d989),Cesium['Check']['typeOf']['bool']('value',_0x56d989),this['_selectEnabled']=_0x56d989;}},'subdomains':{'get':function(){return this['_subdomainConfig']['subdomains'];},'set':function(_0x43f0fc){if(defined(_0x43f0fc)&&!defined(_0x43f0fc['length']))throw new DeveloperError('Excepted\x20S3MTilesLayer.subdomains\x20to\x20be\x20type\x20of\x20Array.');this['_subdomainConfig']['subdomains']=_0x43f0fc;}}});function _0x43e330(_0x4c3ea5){let _0x49f340={},_0x5be5b=_0x4c3ea5['firstChild'];_0x49f340['version']=_0x34f540['queryStringValue'](_0x5be5b,'Version'),_0x49f340['fileType']=_0x34f540['queryStringValue'](_0x5be5b,'FileType');let _0x20a724=_0x34f540['queryFirstNode'](_0x5be5b,'WaterEffect');_0x49f340['averageHeight']=_0x34f540['queryNumericValue'](_0x20a724,'AverageHeight');let _0x1865ea=_0x34f540['queryNodes'](_0x20a724,'GpuProgramParameters');_0x49f340['gpuProgramParameters']=[];for(let _0x2e28f2=0x0,_0x5547c1=_0x1865ea['length'];_0x2e28f2<_0x5547c1;_0x2e28f2++){let _0x31abc4={};_0x31abc4['gpuConstants']=[],_0x31abc4['atuoConstants']=[];let _0x4d49dc=_0x1865ea[_0x2e28f2],_0x333c3b=_0x34f540['queryFirstNode'](_0x4d49dc,'GpuConstants');if(_0x333c3b){let _0x240944=_0x34f540['queryNodes'](_0x333c3b,'GpuConstantDefinition');for(let _0x5e4b1c=0x0,_0x393e60=_0x240944['length'];_0x5e4b1c<_0x393e60;_0x5e4b1c++){let _0x245545={},_0x1f417e=_0x240944[_0x5e4b1c];_0x245545['constType']=_0x34f540['queryNumericValue'](_0x1f417e,'ConstType'),_0x245545['index']=_0x34f540['queryNumericValue'](_0x1f417e,'Index'),_0x245545['name']=_0x34f540['queryStringValue'](_0x1f417e,'Name'),_0x245545['arraySize']=_0x34f540['queryNumericValue'](_0x1f417e,'ArraySize'),_0x245545['multiple']=_0x34f540['queryNumericValue'](_0x1f417e,'Multiple');let _0x1969a2=_0x34f540['queryFirstNode'](_0x1f417e,'ArrayFloat');_0x245545['arrayFloat']=[];if(_0x1969a2){let _0x4f1618=_0x34f540['queryNodes'](_0x1969a2,'Float'),_0x961144=0x0;while(_0x961144<_0x245545['arraySize']){let _0x52ca4d=parseFloat(_0x4f1618[_0x961144]['textContent']);_0x245545['arrayFloat']['push'](_0x52ca4d),_0x961144++;}}_0x31abc4['gpuConstants']['push'](_0x245545);}}let _0x220118=_0x34f540['queryFirstNode'](_0x4d49dc,'AutoConstants');if(_0x220118){let _0x1cadc7=_0x34f540['queryNodes'](_0x220118,'AutoConstantEntry');for(let _0x950357=0x0,_0x50dc18=_0x1cadc7['length'];_0x950357<_0x50dc18;_0x950357++){let _0x3c63b9={},_0x15bf29=_0x1cadc7[_0x950357];_0x3c63b9['paramType']=_0x34f540['queryNumericValue'](_0x15bf29,'ParamType'),_0x3c63b9['name']=_0x34f540['queryStringValue'](_0x15bf29,'Name'),_0x3c63b9['physicalIndex']=_0x34f540['queryNumericValue'](_0x15bf29,'PhysicalIndex'),_0x3c63b9['elementCount']=_0x34f540['queryNumericValue'](_0x15bf29,'ElementCount'),_0x3c63b9['data']=_0x34f540['queryNumericValue'](_0x15bf29,'Data'),_0x3c63b9['fData']=_0x34f540['queryNumericValue'](_0x15bf29,'FData'),_0x3c63b9['isReal']=_0x34f540['queryBooleanValue'](_0x15bf29,'IsReal'),_0x31abc4['atuoConstants']['push'](_0x3c63b9);}}_0x49f340['gpuProgramParameters']['push'](_0x31abc4);}return _0x49f340;}function _0x4bdc17(_0x47a5ed,_0x4867bb){let _0x5c1d44=_0x4867bb['_basePath'],_0x392233=_0x4867bb['_basePath']['indexOf']('realspace')>-0x1;if(!_0x392233)return _0x47a5ed;let _0x47b6c0=_0x5c1d44['replace'](/(.*realspace)/,''),_0x266f9b=_0x5c1d44['replace'](/\/rest\/realspace/g,'')['replace'](_0x47b6c0,'');return _0x266f9b+'/rest/realspace'+_0x47b6c0+'data/path/'+_0x47a5ed['replace'](/^\.*/,'')['replace'](/^\//,'')['replace'](/\/$/,'');}function _0x1d47e9(_0x17836d,_0x18bc21){let _0x29e4f3=_0x18bc21['extensions'];if(!_0x29e4f3||!_0x29e4f3['attachFiles'])return;let _0x12ed62=_0x29e4f3['attachFiles'],_0x10e66f=[],_0x5988fa=_0x17836d['_basePath'],_0x40ed00=![];for(let _0x5e4640=0x0,_0x169ba2=_0x12ed62['length'];_0x5e4640<_0x169ba2;_0x5e4640++){let _0x2aa86b=_0x12ed62[_0x5e4640]['attachFile'];if(_0x2aa86b['indexOf']('.water')>0x0){let _0x3fdf17=_0x4bdc17(_0x2aa86b,_0x17836d),_0x4d151e=_0x17836d['_baseResource']['getDerivedResource']({'url':_0x3fdf17});_0x10e66f['push'](_0x4d151e['fetchXML']()),_0x40ed00=!![];}}if(!_0x10e66f['length'])return;Promise['all'](_0x10e66f)['then'](_0x59bff7=>{let _0x1df2e1=[];for(let _0x50a7f6=0x0,_0x262724=_0x59bff7['length'];_0x50a7f6<_0x262724;_0x50a7f6++){let _0x56c7f4=_0x59bff7[_0x50a7f6];if(!_0x56c7f4)break;let _0x3e1622=_0x43e330(_0x56c7f4);_0x1df2e1['push'](_0x3e1622);}_0x17836d['_waterPlanes']=new Cesium['AssociativeArray'](),_0x17836d['_waterParameters']={};let _0x4eb66c=_0x1df2e1[0x0];_0x17836d['_waterParameters']['averageHeight']=_0x4eb66c['averageHeight'];for(let _0x300fcc=0x0;_0x300fcc<_0x4eb66c['gpuProgramParameters']['length'];_0x300fcc++){let _0x3b685c=_0x4eb66c['gpuProgramParameters'][_0x300fcc];for(let _0x119792=0x0;_0x119792<_0x3b685c['atuoConstants']['length'];_0x119792++){let _0x78c95f=_0x3b685c['atuoConstants'][_0x119792];if(_0x78c95f['name']==='timeVal'){_0x17836d['_waterParameters'][_0x78c95f['name']]=_0x78c95f['fData'];break;}}for(let _0x2d24b0=0x0;_0x2d24b0<_0x3b685c['gpuConstants']['length'];_0x2d24b0++){let _0x52119d=_0x3b685c['gpuConstants'][_0x2d24b0],_0x5596d5=null;switch(_0x52119d['arraySize']){case 0x1:_0x5596d5=_0x52119d['arrayFloat'][0x0];break;case 0x2:_0x5596d5=new Cesium['Cartesian2'](),Cesium['Cartesian2']['unpack'](_0x52119d['arrayFloat'],0x0,_0x5596d5);break;case 0x3:_0x5596d5=new Cesium['Cartesian3'](),Cesium['Cartesian3']['unpack'](_0x52119d['arrayFloat'],0x0,_0x5596d5);break;case 0x4:_0x5596d5=new Cesium['Cartesian4'](),Cesium['Cartesian4']['unpack'](_0x52119d['arrayFloat'],0x0,_0x5596d5);break;default:break;}if(!_0x5596d5)continue;_0x17836d['_waterParameters'][_0x52119d['name']]=_0x5596d5;}}_0x17836d['fileType']+='_Water';})['catch'](_0xbf6f06=>{console['log'](_0xbf6f06);});}_0x3b26af['prototype']['loadConfig']=function(_0x33d486){let _0x5cbc1f=this;Promise['resolve'](_0x33d486)['then'](function(_0x15b64a){let _0x506bba,_0x2538f3=Cesium['Resource']['createIfNeeded'](_0x15b64a);_0x506bba=_0x2538f3['getBaseUri'](!![]);let _0x11d29b=new _0x466480(_0x506bba);_0x11d29b['query']=undefined,_0x506bba=_0x11d29b['toString'](),_0x5cbc1f['_url']=_0x2538f3['url'],_0x5cbc1f['_basePath']=_0x506bba,_0x5cbc1f['_baseResource']=_0x2538f3;Cesium['defined'](_0x5cbc1f['_subdomainConfig']['subdomains'])&&(_0x5cbc1f['_basePath']=_0x5cbc1f['_subdomainConfig']['urlScheme']);if(_0x5cbc1f['_isS3MB']||_0x5cbc1f['_isS3MBlock'])return _0x2538f3['fetchJson']();return _0x2538f3['fetchXML']();})['then'](function(_0x405f37){if(_0x5cbc1f['_isS3MB']||_0x5cbc1f['_isS3MBlock']){let _0x5a4474=_0x405f37['extensions'];_0x5cbc1f['fileType']=_0x5a4474['s3m:FileType'];let _0x3db965=_0x405f37['position']['x'],_0x87ba55=_0x405f37['position']['y'],_0x4381b2=_0x405f37['position']['z'],_0x259601=_0x405f37['position']['units'];_0x5cbc1f['lon']=_0x3db965,_0x5cbc1f['lat']=_0x87ba55,_0x5cbc1f['height']=_0x4381b2;if(_0x5cbc1f['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0x5cbc1f['_position']=Cesium['Cartesian3']['fromDegrees'](_0x3db965,_0x87ba55,_0x4381b2),_0x5cbc1f['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0x5cbc1f['_position']),_0x5cbc1f['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x5cbc1f['modelMatrix'],_0x5cbc1f['invModelMatrix']);else{if(_0x3db965>0xb4||_0x3db965<-0xb4||_0x87ba55>0xb4||_0x87ba55<-0xb4||_0x259601==='Meter'){let _0x47b045=_0x3db965,_0x1637d7=_0x87ba55;_0x5cbc1f['_position']=new Cesium['Cartesian3'](_0x47b045,_0x1637d7,_0x4381b2);}else{let _0x5c3a39=new Cesium['GeographicProjection'](),_0x3b16ac=Cesium['Cartesian3']['fromDegrees'](_0x3db965,_0x87ba55,_0x4381b2),_0x5d741b=_0x5c3a39['ellipsoid']['cartesianToCartographic'](_0x3b16ac);_0x5cbc1f['_position']=_0x5c3a39['project'](_0x5d741b);}Cesium['Matrix4']['fromTranslation'](_0x5cbc1f['_position'],_0x5cbc1f['modelMatrix']),Cesium['Matrix4']['multiply'](_0x2e7ddb,_0x5cbc1f['modelMatrix'],_0x5cbc1f['modelMatrix']),_0x5cbc1f['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x5cbc1f['modelMatrix'],_0x5cbc1f['invModelMatrix']);}if(Cesium['defined'](_0x405f37['geoBounds'])){let _0x1546b6=_0x405f37['geoBounds']['left'],_0x1f587b=_0x405f37['geoBounds']['top'],_0x2f910b=_0x405f37['geoBounds']['right'],_0x594b7c=_0x405f37['geoBounds']['bottom'];_0x1546b6>0xb4||_0x594b7c>0xb4||_0x2f910b>0xb4||_0x1f587b>0xb4?(_0x1546b6/=0x615299,_0x594b7c/=0x615299,_0x2f910b/=0x615299,_0x1f587b/=0x615299,_0x5cbc1f['_rectangle']=new Cesium['Rectangle'](_0x1546b6,_0x594b7c,_0x2f910b,_0x1f587b)):_0x5cbc1f['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x1546b6,_0x594b7c,_0x2f910b,_0x1f587b);}_0x405f37['heightRange']&&(_0x5cbc1f['_minHeight']=_0x405f37['heightRange']['min'],_0x5cbc1f['_maxHeight']=_0x405f37['heightRange']['max']);if(_0x405f37['wDescript']){let _0x6663bb=_0x405f37['wDescript']['range'];_0x5cbc1f['_minWValue']=_0x6663bb['min'],_0x5cbc1f['_maxWValue']=_0x6663bb['max'];}_0x5a4474['hasOwnProperty']('s3m:TransparencyOptimization')&&(_0x5cbc1f['_isTransparencyOptimization']=_0x5a4474['s3m:TransparencyOptimization']==='TRUE');_0x5a4474['hasOwnProperty']('s3m:VertexCompressionType')&&(_0x5cbc1f['_vertexCompressionType']=_0x5a4474['s3m:VertexCompressionType']);_0x5a4474['hasOwnProperty']('s3m:TextureCompressionType')&&(_0x5cbc1f['_textureCompressType']=_0x5a4474['s3m:TextureCompressionType']);const _0x3742af=_0x405f37['tiles']||_0x405f37['rootTiles'];if(_0x3742af['length']>0x0){let _0xff19c8=Cesium['getExtensionFromUri'](_0x3742af[0x0]['url']);_0xff19c8==='s3mblock'&&(_0x5cbc1f['_isS3MBlock']=!![]);}for(let _0x55132e=0x0,_0x50a292=_0x3742af['length'];_0x55132e<_0x50a292;_0x55132e++){let _0x4bb03c=_0x3742af[_0x55132e]['url'],_0x272f9e={'box':_0x3742af[_0x55132e]['boundingbox']},_0x41369f=new _0x5751b1(_0x5cbc1f,undefined,_0x272f9e,_0x4bb03c);_0x41369f['isRootTile']=!![],_0x41369f['blockKey']=_0x4bb03c,_0x5cbc1f['_cache']['add'](_0x41369f),_0x5cbc1f['_rootTiles']['push'](_0x41369f);}_0x1d47e9(_0x5cbc1f,_0x405f37);}else{let _0x2a6c5a=_0x405f37['firstChild'],_0x2290f6=_0x2a6c5a['namespace'];_0x5cbc1f['fileType']=_0x34f540['queryStringValue'](_0x2a6c5a,'FileType',_0x2290f6);let _0x4be11a=_0x34f540['queryFirstNode'](_0x2a6c5a,'Position',_0x2290f6),_0x350b82=_0x34f540['queryNumericValue'](_0x4be11a,'X',_0x2290f6),_0xf9d060=_0x34f540['queryNumericValue'](_0x4be11a,'Y',_0x2290f6),_0x49bbd8=_0x34f540['queryNumericValue'](_0x4be11a,'Z',_0x2290f6);_0x5cbc1f['lon']=_0x350b82,_0x5cbc1f['lat']=_0xf9d060,_0x5cbc1f['height']=_0x49bbd8,_0x5cbc1f['_position']=Cesium['Cartesian3']['fromDegrees'](_0x350b82,_0xf9d060,_0x49bbd8),_0x5cbc1f['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0x5cbc1f['_position']),_0x5cbc1f['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x5cbc1f['modelMatrix'],_0x5cbc1f['invModelMatrix']);let _0x4b2bce=_0x34f540['queryFirstNode'](_0x2a6c5a,'Bounds',_0x2290f6),_0x36e75d=_0x34f540['queryFirstNode'](_0x2a6c5a,'BoundingBox',_0x2290f6);if(_0x4b2bce){let _0x3ee977=_0x34f540['queryNumericValue'](_0x4b2bce,'Left',_0x2290f6),_0x484e60=_0x34f540['queryNumericValue'](_0x4b2bce,'Top',_0x2290f6),_0x2da1b4=_0x34f540['queryNumericValue'](_0x4b2bce,'Right',_0x2290f6),_0x49ae38=_0x34f540['queryNumericValue'](_0x4b2bce,'Bottom',_0x2290f6);_0x5cbc1f['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x3ee977,_0x49ae38,_0x2da1b4,_0x484e60);}else{if(_0x36e75d){let _0x462e22=_0x34f540['queryNumericValue'](_0x36e75d,'MinX',_0x2290f6),_0x56073b=_0x34f540['queryNumericValue'](_0x36e75d,'MinY',_0x2290f6),_0x409592=_0x34f540['queryNumericValue'](_0x36e75d,'MinZ',_0x2290f6),_0x1f4340=_0x34f540['queryNumericValue'](_0x36e75d,'MaxX',_0x2290f6),_0x53640e=_0x34f540['queryNumericValue'](_0x36e75d,'MaxY',_0x2290f6),_0x225d8e=_0x34f540['queryNumericValue'](_0x36e75d,'MaxZ',_0x2290f6);_0x462e22=0xb4*Math['abs'](_0x462e22)/(Math['PI']*0x615299),_0x56073b=0xb4*Math['abs'](_0x56073b)/(Math['PI']*0x615299),_0x1f4340=0xb4*Math['abs'](_0x1f4340)/(Math['PI']*0x615299),_0x53640e=0xb4*Math['abs'](_0x53640e)/(Math['PI']*0x615299),_0x5cbc1f['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x350b82-_0x462e22,_0xf9d060-_0x56073b,_0x350b82+_0x1f4340,_0xf9d060+_0x53640e);}}let _0x172b58=_0x34f540['queryFirstNode'](_0x2a6c5a,'HeightRange',_0x2290f6);_0x172b58&&(_0x5cbc1f['_minHeight']=_0x34f540['queryNumericValue'](_0x172b58,'MinHeight',_0x2290f6),_0x5cbc1f['_maxHeight']=_0x34f540['queryNumericValue'](_0x172b58,'MaxHeight',_0x2290f6));let _0x55aecd=_0x34f540['queryFirstNode'](_0x2a6c5a,'CategoryRange',_0x2290f6);_0x55aecd&&(_0x5cbc1f['_maxWValue']=_0x34f540['queryNumericValue'](_0x55aecd,'MaxCategory',_0x2290f6),_0x5cbc1f['_minWValue']=_0x34f540['queryNumericValue'](_0x55aecd,'MinCategory',_0x2290f6));let _0x23eb80=_0x34f540['queryFirstNode'](_0x2a6c5a,'Extensions',_0x2290f6);_0x5cbc1f['_isTransparencyOptimization']=_0x34f540['queryBooleanValue'](_0x23eb80,'TransparencyOptimization',_0x2290f6);let _0x42d735=/\\+/g,_0x5cccce=_0x34f540['queryFirstNode'](_0x2a6c5a,'OSGFiles',_0x2290f6),_0x4da7e8=_0x34f540['queryNodes'](_0x5cccce,'Files',_0x2290f6);if(_0x4da7e8['length']>0x0)for(let _0x4edf28=0x0,_0xde75b3=_0x4da7e8['length'];_0x4edf28<_0xde75b3;_0x4edf28++){let _0x49fd56=_0x4da7e8[_0x4edf28],_0x357af4=_0x34f540['queryStringValue'](_0x49fd56,'FileName',_0x2290f6);_0x357af4=_0x357af4['replace'](_0x42d735,'/'),_0x357af4=_0x357af4['replace'](/(\.osgb)/gi,'.s3m');let _0xd99939=_0x34f540['queryFirstNode'](_0x49fd56,'BoundingSphere',_0x2290f6),_0x398422={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}};if(_0xd99939&&_0xd99939['childNodes']['length']){let _0x2e9792=_0x34f540['queryNumericValue'](_0xd99939,'CenterX',_0x2290f6),_0x56c55e=_0x34f540['queryNumericValue'](_0xd99939,'CenterY',_0x2290f6),_0x256376=_0x34f540['queryNumericValue'](_0xd99939,'CenterZ',_0x2290f6),_0x1f4cbf=_0x34f540['queryNumericValue'](_0xd99939,'Radius',_0x2290f6);_0x398422={'sphere':{'center':{'x':_0x2e9792,'y':_0x56c55e,'z':_0x256376},'radius':_0x1f4cbf}};}let _0x3a0532=new _0x5751b1(_0x5cbc1f,undefined,_0x398422,_0x357af4);_0x3a0532['isRootTile']=!![],_0x5cbc1f['_cache']['add'](_0x3a0532),_0x5cbc1f['_rootTiles']['push'](_0x3a0532);}else{let _0x360aa5=_0x34f540['queryNodes'](_0x5cccce,'FileName',_0x2290f6);for(let _0x2bf462=0x0,_0x2237e1=_0x360aa5['length'];_0x2bf462<_0x2237e1;_0x2bf462++){let _0x4df6b7=_0x360aa5[_0x2bf462]['textContent'];_0x4df6b7=_0x4df6b7['replace'](_0x42d735,'/'),_0x4df6b7=_0x4df6b7['replace'](/(\.osgb)/gi,'.s3m');let _0x127b30={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}},_0x52f30b=new _0x5751b1(_0x5cbc1f,undefined,_0x127b30,_0x4df6b7);_0x52f30b['isRootTile']=!![],_0x5cbc1f['_cache']['add'](_0x52f30b),_0x5cbc1f['_rootTiles']['push'](_0x52f30b);}}}_0x5cbc1f['_readyPromise']['resolve'](_0x5cbc1f);},_0x30a7a3=>{_0x5cbc1f['_readyPromise']['reject'](_0x30a7a3);});};function _0x585e45(_0x1b6445,_0x2b9043){return _0x1b6445['priority']-_0x2b9043['priority'];}function _0x2c27fc(_0x94d979){let _0xd2028c=_0x94d979['_requestTiles'],_0x312f96=_0xd2028c['length'];_0xd2028c['sort'](_0x585e45);for(let _0x350e81=0x0;_0x350e81<_0x312f96;++_0x350e81){let _0x439a6f=_0xd2028c[_0x350e81];_0x439a6f['requestContent']();}}function _0x8bf716(_0x57ffc2,_0x2150e2){let _0x34736b=_0x57ffc2['_processTiles'],_0x5bdd00=_0x34736b['length'];for(let _0xccf626=0x0;_0xccf626<_0x5bdd00;++_0xccf626){let _0x202224=_0x34736b[_0xccf626];_0x202224['transformResource'](_0x2150e2,_0x57ffc2);}}function _0x3986a4(_0x1ca550,_0x5d24b9){for(let _0x410a46=0x0,_0x315be7=_0x1ca550['_renderQueue']['length'];_0x410a46<_0x315be7;_0x410a46++){const _0x37cee0=_0x1ca550['_renderQueue'][_0x410a46];_0x37cee0['update'](_0x5d24b9,_0x1ca550);}}function _0x4f999d(_0x416bff,_0x3563df){_0x3563df['free']();}function _0x5c567f(_0x59549b){_0x59549b['_isS3MBlock']?_0x59549b['_cache']['unloadBlockTiles'](_0x59549b,_0x4f999d):_0x59549b['_cache']['unloadTiles'](_0x59549b,_0x4f999d);}_0x3b26af['prototype']['releaseSelection']=function(){if(this['_selections']['length']<0x1)return;this['_removeObjsOperationType'](this['_selections'],_0x3628d3['SELECTED']),this['_selections']['length']=0x0;},_0x3b26af['prototype']['setLodRangeScale']=function(_0x1b9b8c){this['_lodRangeScale']=_0x1b9b8c;},_0x3b26af['prototype']['setSelection']=function(_0x2d9dd0){Cesium['Check']['defined']('setSelection\x20ids',_0x2d9dd0);if(!this['_selectEnabled'])return;!Array['isArray'](_0x2d9dd0)&&(_0x2d9dd0=[_0x2d9dd0]),!this['_multiChoose']&&this['releaseSelection'](),this['_selections']=this['_selections']['concat'](_0x2d9dd0),this['_setObjsOperationType'](_0x2d9dd0,_0x3628d3['SELECTED']);},_0x3b26af['prototype']['getSelection']=function(){return[]['concat'](this['_selections']);},_0x3b26af['prototype']['setObjsColor']=function(_0x43d710,_0x3825ba){Cesium['Check']['defined']('setObjsColor\x20ids',_0x43d710),Cesium['Check']['defined']('setObjsColor\x20color',_0x3825ba),Cesium['Check']['typeOf']['object']('setObjsColor\x20color',_0x3825ba);!Array['isArray'](_0x43d710)&&(_0x43d710=[_0x43d710]);let _0x310bd4={};for(let _0x50ffd7=0x0,_0x43b2cb=_0x43d710['length'];_0x50ffd7<_0x43b2cb;_0x50ffd7++){let _0x342601=_0x43d710[_0x50ffd7]+'';if(!Cesium['defined'](_0x342601))continue;this['_objsColorList'][_0x342601]=_0x3825ba,_0x310bd4[_0x342601]=_0x3825ba;}this['_updateObjsColor'](_0x310bd4);},_0x3b26af['prototype']['removeObjsColor']=function(_0x33e1c6){Cesium['Check']['defined']('removeObjsColor\x20ids',_0x33e1c6);!Array['isArray'](_0x33e1c6)&&(_0x33e1c6=[_0x33e1c6]);let _0x5a74d2={};for(let _0xcdcfeb=0x0,_0x5cf6b6=_0x33e1c6['length'];_0xcdcfeb<_0x5cf6b6;_0xcdcfeb++){let _0x209eea=_0x33e1c6[_0xcdcfeb];Cesium['defined'](this['_objsColorList'][_0x209eea])&&(_0x5a74d2[_0x209eea]=Cesium['Color']['TRANSPARENT'],delete this['_objsColorList'][_0x209eea]);}this['_removeObjsOperationType'](_0x33e1c6,_0x3628d3['SetColor']),this['_updateObjsColor'](_0x5a74d2);},_0x3b26af['prototype']['setOnlyObjsVisible']=function(_0x42624e,_0x3c7074){Cesium['Check']['defined']('setOnlyObjsVisible\x20ids',_0x42624e),Cesium['Check']['typeOf']['bool']('setOnlyObjsVisible\x20isVisible',_0x3c7074);!Array['isArray'](_0x42624e)&&(_0x42624e=[_0x42624e]);if(_0x42624e['length']===0x0){this['_allObjsHide']=_0x3c7074,this['_objsVisibleList']['removeAll']();let _0x54571b=Object['keys'](this['_objsHideList']['_hash']);this['_removeObjsOperationType'](_0x54571b,_0x3628d3['HIDE']),this['_objsHideList']['removeAll'](),this['_updateAllObjsVisible'](!_0x3c7074);return;}let _0x14ddf7=this['_objsVisibleList'],_0x35a048=this['_objsHideList'],_0x53a812=this['_objsVisibleMap'];!_0x3c7074?(_0x42624e['map'](function(_0x3f5e47){_0x14ddf7['remove'](_0x3f5e47),_0x35a048['set'](_0x3f5e47,!![]);}),this['_setObjsOperationType'](_0x42624e,_0x3628d3['HIDE'])):(_0x42624e['map'](function(_0x1d9e4e){_0x14ddf7['set'](_0x1d9e4e,!![]),_0x35a048['remove'](_0x1d9e4e);}),this['_removeObjsOperationType'](_0x42624e,_0x3628d3['HIDE']));},_0x3b26af['prototype']['setObjsVisible']=function(_0xfc3e91,_0x2421a1){if(_0xfc3e91['length']===0x0){this['setOnlyObjsVisible']([],_0x2421a1);return;}this['setOnlyObjsVisible']([],_0x2421a1),this['setOnlyObjsVisible'](_0xfc3e91,_0x2421a1);};function _0x21c1df(_0x2d2f23,_0x3830f5,_0x2c60f7){let _0x2ecbbd=new Cesium['Cartesian3'](),_0x51abee=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0x3830f5,_0x2d2f23,_0x2ecbbd),Cesium['Cartesian3']['subtract'](_0x2c60f7,_0x2d2f23,_0x51abee);let _0x43d27c=new Cesium['Cartesian3']();Cesium['Cartesian3']['cross'](_0x2ecbbd,_0x51abee,_0x43d27c),Cesium['Cartesian3']['normalize'](_0x43d27c,_0x43d27c);let _0x4eed6d=-Cesium['Cartesian3']['dot'](_0x43d27c,_0x2d2f23);return new Cesium['Cartesian4'](_0x43d27c['x'],_0x43d27c['y'],_0x43d27c['z'],_0x4eed6d);}function _0x53eba9(_0x5bc82e,_0x131b7a){_0x5bc82e['clip'](_0x131b7a);}_0x3b26af['prototype']['setCustomClipPlane']=function(_0x8631a,_0x307c35,_0x416b6a,_0x271a50){this['_sceneMode']===Cesium['SceneMode']['COLUMBUS_VIEW']&&(_0x8631a=_0x71fd1b(_0x8631a),_0x307c35=_0x71fd1b(_0x307c35),_0x416b6a=_0x71fd1b(_0x416b6a)),this['_oriClipPlane'][0x0]=_0x21c1df(_0x8631a,_0x307c35,_0x416b6a),this['_clipMode']=_0x3bcbde['CLIP_BEHIND_ALL_PLANE'],this['_enableClipPlane']=!![],!this['_enableClip']&&this['_tranverseRenderEntity']({'enable':!![]},_0x53eba9),this['_enableClip']=!![];},_0x3b26af['prototype']['setCustomClipBox']=function(_0x262f22){_0x262f22=_0x262f22||{};if((!_0x262f22['dimensions']||!_0x262f22['position'])&&(!_0x262f22['planePos']||!_0x262f22['planeNormal']))throw new Cesium['DeveloperError']('dimensions\x20position\x20is\x20required\x20to\x20create\x20CustomClipBox');this['_clipMode']=_0x3bcbde['CLIP_BEHIND_ALL_PLANE'];if(Cesium['defined'](_0x262f22['clipMode']))switch(_0x262f22['clipMode']){case'clip_behind_any_plane':this['_clipMode']=_0x3bcbde['CLIP_BEHIND_ANY_PLANE'];break;case'clip_behind_all_plane':this['_clipMode']=_0x3bcbde['CLIP_BEHIND_ALL_PLANE'];break;case'only_keep_line':this['_clipMode']=_0x3bcbde['ONLY_KEEP_LINE'];break;default:break;}if(_0x262f22['dimensions']){let _0x514fdc=new Cesium['Matrix4'](),_0x51e50b=_0x262f22['position'],_0x36b5df,_0x574090,_0x56be52;_0x36b5df=_0x262f22['heading']||0x0,_0x574090=_0x262f22['pitch']||0x0,_0x56be52=_0x262f22['roll']||0x0;let _0x208fba=new Cesium['HeadingPitchRoll'](_0x36b5df,_0x574090,_0x56be52);if(this['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0x514fdc=Cesium['Transforms']['headingPitchRollToFixedFrame'](_0x51e50b,_0x208fba,Cesium['Ellipsoid']['WGS84']);else{_0x208fba=new Cesium['HeadingPitchRoll'](_0x574090,-_0x56be52,-_0x36b5df);let _0x41649a=_0x71fd1b(_0x51e50b);Cesium['Matrix4']['setTranslation'](Cesium['Matrix4']['clone'](Cesium['Matrix4']['IDENTITY']),_0x41649a,_0x514fdc);let _0x53201a=Cesium['Matrix3']['fromHeadingPitchRoll'](_0x208fba);Cesium['Matrix4']['multiplyByMatrix3'](_0x514fdc,_0x53201a,_0x514fdc);}let _0x52b735,_0xd4f247,_0x467c01;this['_sceneMode']===Cesium['SceneMode']['SCENE3D']?(_0x52b735=_0x262f22['dimensions']['x']*0.5,_0xd4f247=_0x262f22['dimensions']['y']*0.5,_0x467c01=_0x262f22['dimensions']['z']*0.5):(_0x52b735=_0x262f22['dimensions']['z']*0.5,_0xd4f247=_0x262f22['dimensions']['x']*0.5,_0x467c01=_0x262f22['dimensions']['y']*0.5);let _0x3caea9=[];_0x3caea9[0x0]=new Cesium['Cartesian4'](-_0x52b735,_0xd4f247,_0x467c01,0x1),_0x3caea9[0x1]=new Cesium['Cartesian4'](_0x52b735,_0xd4f247,_0x467c01,0x1),_0x3caea9[0x2]=new Cesium['Cartesian4'](_0x52b735,-_0xd4f247,_0x467c01,0x1),_0x3caea9[0x3]=new Cesium['Cartesian4'](-_0x52b735,-_0xd4f247,_0x467c01,0x1),_0x3caea9[0x4]=new Cesium['Cartesian4'](-_0x52b735,_0xd4f247,-_0x467c01,0x1),_0x3caea9[0x5]=new Cesium['Cartesian4'](_0x52b735,_0xd4f247,-_0x467c01,0x1),_0x3caea9[0x6]=new Cesium['Cartesian4'](_0x52b735,-_0xd4f247,-_0x467c01,0x1),_0x3caea9[0x7]=new Cesium['Cartesian4'](-_0x52b735,-_0xd4f247,-_0x467c01,0x1);for(let _0x198b1a=0x0;_0x198b1a<0x8;_0x198b1a++){Cesium['Matrix4']['multiplyByVector'](_0x514fdc,_0x3caea9[_0x198b1a],_0x3caea9[_0x198b1a]);}this['_oriClipPlane'][0x0]=Cesium['Cartesian4']['clone'](_0x21c1df(_0x3caea9[0x0],_0x3caea9[0x1],_0x3caea9[0x2])),this['_oriClipPlane'][0x1]=Cesium['Cartesian4']['clone'](_0x21c1df(_0x3caea9[0x0],_0x3caea9[0x4],_0x3caea9[0x1])),this['_oriClipPlane'][0x2]=Cesium['Cartesian4']['clone'](_0x21c1df(_0x3caea9[0x0],_0x3caea9[0x3],_0x3caea9[0x4])),this['_oriClipPlane'][0x3]=Cesium['Cartesian4']['clone'](_0x21c1df(_0x3caea9[0x6],_0x3caea9[0x2],_0x3caea9[0x5])),this['_oriClipPlane'][0x4]=Cesium['Cartesian4']['clone'](_0x21c1df(_0x3caea9[0x6],_0x3caea9[0x7],_0x3caea9[0x2])),this['_oriClipPlane'][0x5]=Cesium['Cartesian4']['clone'](_0x21c1df(_0x3caea9[0x6],_0x3caea9[0x5],_0x3caea9[0x7]));}else for(let _0x3763d4=0x0;_0x3763d4<_0x262f22['planePos']['length'];_0x3763d4++){let _0x1f2c00=_0x262f22['planePos'][_0x3763d4],_0x5e8815=_0x262f22['planeNormal'][_0x3763d4];this['_oriClipPlane'][_0x3763d4]['x']=_0x5e8815['x'],this['_oriClipPlane'][_0x3763d4]['y']=_0x5e8815['y'],this['_oriClipPlane'][_0x3763d4]['z']=_0x5e8815['z'],this['_oriClipPlane'][_0x3763d4]['w']=-Cesium['Cartesian3']['dot'](_0x1f2c00,_0x5e8815);}!this['_enableClip']&&this['_tranverseRenderEntity']({'enable':!![]},_0x53eba9),this['_enableClip']=!![];};function _0x71fd1b(_0xfb21dc){var _0x3c554d=new Cesium['GeographicProjection'](),_0x1f4092=_0x3c554d['ellipsoid'],_0x57f8ff=new Cesium['Cartesian3'](),_0x142275=new Cesium['Cartographic']();return _0x1f4092['cartesianToCartographic'](_0xfb21dc,_0x142275),_0x3c554d['project'](_0x142275,_0x57f8ff),Cesium['Cartesian3']['fromElements'](_0x57f8ff['z'],_0x57f8ff['x'],_0x57f8ff['y']);}_0x3b26af['prototype']['clearCustomClipBox']=function(){this['_enableClip']=![],this['_enableClipPlane']=![],this['_tranverseRenderEntity']({'enable':![]},_0x53eba9);},_0x3b26af['prototype']['setModifyRegions']=function(_0x3b5c6c,_0x2f3df6){this['clearModifyRegions']();if(_0x2f3df6==_0x129a3d['CLIP_INSIDE']||_0x2f3df6==_0x129a3d['CLIP_OUTSIDE']){var _0x3488d2=_0x3b5c6c['length'];for(var _0x167a9b=0x0;_0x167a9b<_0x3488d2;_0x167a9b++){var _0x1f8620={'position':_0x3b5c6c[_0x167a9b],'name':'modify_'+_0x167a9b};this['addExcavationRegion'](_0x1f8620);}}this['_excavationMode']=_0x2f3df6;},_0x3b26af['prototype']['clearModifyRegions']=function(){var _0x4e4add=Object['keys'](this['_excavationRegions']['_hash']);for(var _0x3993d4=0x0,_0x26e8c0=_0x4e4add['length'];_0x3993d4<_0x26e8c0;_0x3993d4++){var _0x344c4e=_0x4e4add[_0x3993d4];_0x344c4e['startsWith']('modify_')&&this['removeExcavationRegion'](_0x344c4e);}},_0x3b26af['prototype']['removeExcavationRegion']=function(_0x2a4cca){var _0x46a08f=this['_excavationRegions']['get'](_0x2a4cca),_0x5cb89d=this['_excavationRegions']['remove'](_0x2a4cca);if(!_0x5cb89d)return![];_0x46a08f['destroy'](),this['_removeExcavationCommands'](_0x2a4cca),this['_excavationUpdate']=!![];if(this['_excavationRegions']['values']['length']===0x0){this['_hasExcavation']=![],this['_excavationUpdate']=![];var _0x16a602={};_0x16a602['layer']=this,_0x16a602['enable']=![],this['_tranverseRenderEntity'](_0x16a602,_0x4fd56d);}return!![];},_0x3b26af['prototype']['_removeExcavationCommands']=function(_0x41966f){var _0x3c5b9e=this['_excavateRegionCommands']['get'](_0x41966f+'side'),_0x2eda24=this['_excavateRegionCommands']['get'](_0x41966f+'bottom');_0x3c5b9e&&(_0x3c5b9e['vertexArray']=_0x3c5b9e['vertexArray']&&!_0x3c5b9e['vertexArray']['isDestroyed']()&&_0x3c5b9e['vertexArray']['destroy']()),_0x2eda24&&(_0x2eda24['vertexArray']=_0x2eda24['vertexArray']&&!_0x2eda24['vertexArray']['isDestroyed']()&&_0x2eda24['vertexArray']['destroy']()),this['_excavateRegionCommands']['remove'](_0x41966f+'side'),this['_excavateRegionCommands']['remove'](_0x41966f+'bottom');},_0x3b26af['prototype']['addExcavationRegion']=function(_0x5ade34){var _0x394433=_0x5ade34['name'],_0x5cb94f=_0x5ade34['position'],_0x2a78eb=_0x5ade34['height'];!Cesium['defined'](_0x394433)&&Check['typeOf']['string']('options.name',_0x394433);!Cesium['defined'](_0x5cb94f)&&Check['typeOf']['string']('options.position',_0x5cb94f);var _0x9236fe=this['_excavationRegions']['get'](_0x394433);if(Cesium['defined'](_0x9236fe))return![];!Cesium['defined'](this['_excavationTexture'])&&(this['_excavationTexture']=new Cesium['Texture']({'context':this['context'],'width':this['_flattenTextureWidth'],'height':this['_flattenTextureWidth'],'pixelFormat':Cesium['PixelFormat']['RGBA']}),window['texture']=this['_excavationTexture']);var _0x239ed2=this['_createRasterRegion'](_0x5cb94f,_0x2a78eb,Cesium['defined'](_0x2a78eb));_0x239ed2['name']=_0x394433,this['_excavationRegions']['set'](_0x394433,_0x239ed2),this['_excavationUpdate']=!![],this['_hasExcavation']=!![];if(this['_excavationRegions']['values']['length']===0x1){var _0x5736be={};_0x5736be['layer']=this,_0x5736be['enable']=!![],this['_tranverseRenderEntity'](_0x5736be,_0x4fd56d);}return!![];};function _0x4fd56d(_0x1c314c,_0xe183a5){_0x1c314c['enableExcavation'](_0xe183a5);}_0x3b26af['prototype']['_tranverseRenderEntity']=function(_0x21d6ea,_0xbb6de){let _0x1c772f=[];for(let _0x40d32f=0x0,_0x205219=this['_rootTiles']['length'];_0x40d32f<_0x205219;_0x40d32f++){let _0x25d51c=this['_rootTiles'][_0x40d32f];_0x1c772f['push'](_0x25d51c);}while(_0x1c772f['length']){let _0x5ad638=_0x1c772f['pop']();for(let _0x28fc85=0x0,_0x33278c=_0x5ad638['pageLods']['length'];_0x28fc85<_0x33278c;_0x28fc85++){const _0x2f4075=_0x5ad638['pageLods'][_0x28fc85],_0x2a6b29=_0x2f4075['renderEntities'];for(let _0x1afc06=0x0,_0x51eafe=_0x2a6b29['length'];_0x1afc06<_0x51eafe;_0x1afc06++){const _0x3c521c=_0x2a6b29[_0x1afc06];_0x3c521c['ready']&&_0xbb6de(_0x3c521c,_0x21d6ea);}_0x2f4075['childTile']&&_0x1c772f['push'](_0x2f4075['childTile']);}}};function _0x15198c(_0x1735f9,_0x55d7c2){_0x1735f9['updateObjsOperation'](_0x55d7c2['ids'],_0x55d7c2);}_0x3b26af['prototype']['_updateObjsOperation']=function(_0x533847){this['_tranverseRenderEntity']({'ids':_0x533847},_0x15198c);};function _0x49c680(_0x565be7,_0x3613c5){_0x565be7['updateObjsColor'](_0x3613c5['ids'],_0x3613c5);}_0x3b26af['prototype']['_updateObjsColor']=function(_0x4bedc9){this['_tranverseRenderEntity']({'ids':_0x4bedc9},_0x49c680);};function _0x223fb5(_0x3c7c90,_0x2aea7c){_0x3c7c90['updateAllObjsVisible'](_0x2aea7c['isVisible']);}_0x3b26af['prototype']['_updateAllObjsVisible']=function(_0x30661a){this['_tranverseRenderEntity']({'isVisible':_0x30661a},_0x223fb5);},_0x3b26af['prototype']['_setObjsOperationType']=function(_0x553e29,_0x224212){Cesium['Check']['defined']('set\x20Objs\x20Operation\x20ids',_0x553e29),Cesium['Check']['defined']('set\x20Objs\x20Operation\x20operationType',_0x224212);!Array['isArray'](_0x553e29)&&(_0x553e29=[_0x553e29]);let _0x3ef658=new Cesium['AssociativeArray'](),_0x35d4a0;for(let _0x26b7e3=0x0,_0x42a4af=_0x553e29['length'];_0x26b7e3<_0x42a4af;_0x26b7e3++){_0x35d4a0=_0x553e29[_0x26b7e3];if(!Cesium['defined'](_0x35d4a0))continue;let _0x15ff1d=Cesium['defaultValue'](this['_objsOperationList']['get'](_0x35d4a0),0x0);if(_0x15ff1d===_0x224212)continue;_0x15ff1d=_0x15ff1d|_0x224212,this['_objsOperationList']['set'](_0x35d4a0,_0x15ff1d),_0x3ef658['set'](_0x35d4a0,_0x15ff1d);}_0x3ef658['length']>0x0&&this['_updateObjsOperation'](_0x3ef658);},_0x3b26af['prototype']['_removeObjsOperationType']=function(_0x19140c,_0x4e020a){Cesium['Check']['defined']('set\x20Objs\x20Operation\x20ids',_0x19140c);!Array['isArray'](_0x19140c)&&(_0x19140c=[_0x19140c]);let _0x43a7ac=_0x3628d3['ALL']^_0x4e020a,_0x5689d9=new Cesium['AssociativeArray'](),_0xb35a90;for(let _0xca1324=0x0,_0x1214e7=_0x19140c['length'];_0xca1324<_0x1214e7;_0xca1324++){_0xb35a90=_0x19140c[_0xca1324];let _0x535bad=this['_objsOperationList']['get'](_0xb35a90);if(!Cesium['defined'](_0x535bad))continue;_0x535bad&=_0x43a7ac,_0x535bad===_0x3628d3['RESET']?this['_objsOperationList']['remove'](_0xb35a90):this['_objsOperationList']['set'](_0xb35a90,_0x535bad),_0x5689d9['set'](_0xb35a90,_0x535bad);}_0x5689d9['length']>0x0&&this['_updateObjsOperation'](_0x5689d9);},_0x3b26af['prototype']['_createRasterRegion']=function(_0xeaea8c){let _0xc2a93c=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0xeaea8c),_0x1d2ad9=new Cesium['PolygonGeometry']({'polygonHierarchy':{'positions':_0xc2a93c},'perPositionHeight':!![]}),_0x46b7e9=Cesium['PolygonGeometry']['createGeometry'](_0x1d2ad9),_0x512d83=new _0x2bdbee();return _0x512d83['updateGeometry'](_0x46b7e9,this['invModelMatrix']),_0x512d83['updateGeoBounds'](_0x46b7e9),_0x512d83;};function _0x162041(_0x1ab3c5,_0x320e50){_0x1ab3c5['flatten'](_0x320e50);}_0x3b26af['prototype']['addFlattenRegion']=function(_0x1bb8dc){let _0x2a750d=_0x1bb8dc['name'],_0xcc2b7=_0x1bb8dc['position'];if(!_0x2a750d||!_0xcc2b7)return;let _0x493437=this['_flattenPar'],_0x5bfca1=_0x493437['regions'];if(_0x5bfca1['contains'](_0x2a750d))return;!_0x493437['texture']&&(_0x493437['texture']=new Cesium['Texture']({'context':this['context'],'width':_0x493437['textureWidth'],'height':_0x493437['textureHeight'],'pixelFormat':Cesium['PixelFormat']['RGBA']}));let _0x22142b=this['_createRasterRegion'](_0xcc2b7);_0x5bfca1['set'](_0x2a750d,_0x22142b),_0x493437['isUpdate']=!![],_0x5bfca1['values']['length']===0x1&&this['_tranverseRenderEntity']({'enable':!![]},_0x162041);};function _0xc41c82(_0x8383d9,_0x50a0b7){_0x8383d9['hypsometric'](_0x50a0b7);}function _0x518fd7(_0x4e24f0,_0x5772ef){_0x4e24f0['swipe'](_0x5772ef);}function _0x4e83c8(_0x48ec5b){let _0x267d8b=new Cesium['Cartesian4'](Number['MAX_VALUE'],Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);for(let _0x490b4d=0x0;_0x490b4d<_0x48ec5b['length'];_0x490b4d++){const _0x977b92=_0x48ec5b[_0x490b4d]['bounds'];_0x267d8b['x']=Math['min'](_0x977b92['x'],_0x267d8b['x']),_0x267d8b['y']=Math['min'](_0x977b92['y'],_0x267d8b['y']),_0x267d8b['z']=Math['max'](_0x977b92['z'],_0x267d8b['z']),_0x267d8b['w']=Math['max'](_0x977b92['w'],_0x267d8b['w']);}return _0x267d8b;}_0x3b26af['prototype']['_updateFlattenFramebuffer']=function(_0xbf910a){let _0x48d361=this['_flattenPar'];if(!_0x48d361['isUpdate'])return;_0x48d361['isUpdate']=![];let _0x3fba60=_0x48d361['regions'],_0x35fefa=_0x3fba60['values']['length'];_0x48d361['flattening']=_0x35fefa>0x0,_0x48d361['bounds']=_0x4e83c8(_0x3fba60['values']);let _0x27bdc3=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x1,0x1,0x1,0x1),'depth':0x1});!_0x48d361['texture']&&(_0x48d361['texture']=new Cesium['Texture']({'context':this['context'],'width':_0x48d361['textureWidth'],'height':_0x48d361['textureHeight'],'pixelFormat':Cesium['PixelFormat']['RGBA']}));!_0x48d361['fbo']&&(_0x48d361['fbo']=new Cesium['Framebuffer']({'context':this['context'],'colorTextures':[_0x48d361['texture']],'destroyAttachments':![]}));_0x27bdc3['framebuffer']=_0x48d361['fbo'],_0x27bdc3['renderState']=Cesium['RenderState']['fromCache'](),_0x27bdc3['execute'](this['context']);for(let _0x1b93e2=0x0;_0x1b93e2<_0x35fefa;_0x1b93e2++){let _0x5d90bb=_0x3fba60['values'][_0x1b93e2];_0x5d90bb['createCommand'](this['context'],_0x48d361['fbo']),_0x5d90bb['command']['uniformMap']={'uRect':function(){return _0x48d361['bounds'];}},_0x5d90bb['command']['execute'](this['context']);}},_0x3b26af['prototype']['setVisibleInViewport']=function(_0x7b3cdd,_0x13191b){if(_0x7b3cdd>0x8)throw new Cesium['DeveloperError']('the\x20index\x20is\x200~8');_0x13191b?this['_visibleViewport']=0x1<<_0x7b3cdd|this['_visibleViewport']:this['_visibleViewport']=~(0x1<<_0x7b3cdd)&this['_visibleViewport'];},_0x3b26af['prototype']['getVisibleInViewport']=function(_0x53953a){if(_0x53953a>0x8)throw new Cesium['DeveloperError']('the\x20index\x20is\x200~3');return 0x1<<_0x53953a&this['_visibleViewport'];},_0x3b26af['prototype']['_updateEdgeDistanceFalloffFactor']=function(){if(this['_edgeCurrentCount']===0x0){this['_edgeCurrentTotalLength']=0x0;return;}this['_edgeDistanceFalloffFactor']=this['_edgeCurrentTotalLength']/this['_edgeCurrentCount']*0x28,this['_edgeCurrentTotalLength']=0x0,this['_edgeCurrentCount']=0x0;},_0x3b26af['prototype']['_addRenderedEdge']=function(_0x15c817,_0x55e075){this['_edgeCurrentTotalLength']+=_0x15c817,this['_edgeCurrentCount']+=_0x55e075;};function _0x543a84(_0xf1151b,_0x242287){if(!_0xf1151b['_waterPlanes'])return;let _0x17db2a=_0xf1151b['_waterPlanes'];_0x242287['curDis']===undefined&&(_0x242287['curDis']=0x615299);_0x242287['heightOffset']===undefined&&(_0x242287['heightOffset']=0x0);let _0x24cb60=_0x242287['camera']['positionWC'];for(let _0x2f96c6 in _0x17db2a['_hash']){if(_0x17db2a['_hash']['hasOwnProperty'](_0x2f96c6)){let _0xb00db0=_0x17db2a['get'](_0x2f96c6),_0xa38f29=_0xb00db0['boundingVolume'];if(_0x242287['cullingVolume']['computeVisibility'](_0xa38f29)===Cesium['Intersect']['OUTSIDE'])continue;let _0x2d0546=Cesium['Cartesian3']['distance'](_0xa38f29['center'],_0x24cb60)-_0xa38f29['radius'];_0x2d0546=_0x2d0546<0.01?0.01:_0x2d0546,_0x2d0546<_0x242287['curDis']&&(_0x242287['curDis']=_0x2d0546,_0x242287['heightOffset']=_0xb00db0['distance']);}}}_0x3b26af['prototype']['addWaterPlane']=function(_0x38101a){let _0x4a28dd=this['_waterPlanes']['length'];return this['_waterPlanes']['set'](_0x4a28dd,_0x38101a),_0x4a28dd;},_0x3b26af['prototype']['removeWaterPlane']=function(_0x590a08){this['_waterPlanes']['remove'](_0x590a08);},_0x3b26af['prototype']['prePassesUpdate']=function(_0x37564d){if(!this['ready'])return;_0x37564d['newFrame']&&(this['_cache']['reset'](),this['_requestTiles']['length']=0x0,this['_processTiles']['length']=0x0,this['_renderQueue']['length']=0x0,Cesium['defined'](_0x37564d['brdfLutGenerator'])&&_0x37564d['brdfLutGenerator']['update'](_0x37564d),_0x543a84(this,_0x37564d));};let _0x15472e=new Cesium['Matrix4']();_0x3b26af['prototype']['postPassesUpdate']=function(_0x58812b){if(!this['ready'])return;_0x5c567f(this),this['_updateFlattenFramebuffer'](_0x58812b),this['_updateEdgeDistanceFalloffFactor'](),this['_updateExcavationFrameBuffer'](_0x58812b),this['_subTextureManager']&&this['_subTextureManager']['processRequests'](this['id']);};function _0xac6c1f(_0x2a6aa8,_0x5d1ed2){let _0x33c299=_0x5d1ed2['camera'];if(_0x33c299['positionCartographic']['height']<_0x2a6aa8['_minVisibleAltitude']||_0x33c299['positionCartographic']['height']>_0x2a6aa8['_maxVisibleAltitude'])return![];if(!_0x2a6aa8['getVisibleInViewport'](_0x5d1ed2['multiViewportIndex']))return![];return _0x2a6aa8['visible'];}function _0xc52f8f(_0x2fd703,_0x3c2e91){if(_0x2fd703['_enableClip']){let _0x52a9d2=_0x3c2e91['camera']['inverseViewMatrix'];Cesium['Matrix4']['transpose'](_0x52a9d2,_0x15472e);for(let _0x1e8ce2=0x0;_0x1e8ce2<0x6;_0x1e8ce2++){Cesium['Matrix4']['multiplyByVector'](_0x15472e,_0x2fd703['_oriClipPlane'][_0x1e8ce2],_0x2fd703['_clipPlane'][_0x1e8ce2]);}}}function _0x49d01(_0x41577f){var _0x5c67a9=0x0;Cesium['defined'](_0x41577f['style3D'])&&(_0x5c67a9=_0x41577f['style3D']['bottomAltitude']);var _0x178dec=_0x41577f['height']+_0x5c67a9,_0x9a4013=_0x41577f['lon'],_0x4ca4c2=_0x41577f['lat'];if(_0x41577f['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0x41577f['_position']=Cesium['Cartesian3']['fromDegrees'](_0x9a4013,_0x4ca4c2,_0x178dec),_0x41577f['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0x41577f['_position']),_0x41577f['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x41577f['modelMatrix'],_0x41577f['invModelMatrix']);else{if(_0x9a4013>0xb4||_0x9a4013<-0xb4||_0x4ca4c2>0xb4||_0x4ca4c2<-0xb4){let _0x52db23=_0x9a4013,_0x16fdd9=_0x4ca4c2;_0x41577f['_position']=new Cesium['Cartesian3'](_0x52db23,_0x16fdd9,_0x178dec);}else{let _0x436538=new Cesium['GeographicProjection'](),_0x15ddd9=Cesium['Cartesian3']['fromDegrees'](_0x9a4013,_0x4ca4c2,_0x178dec),_0x3f6bcb=_0x436538['ellipsoid']['cartesianToCartographic'](_0x15ddd9);_0x41577f['_position']=_0x436538['project'](_0x3f6bcb);}Cesium['Matrix4']['fromTranslation'](_0x41577f['_position'],_0x41577f['modelMatrix']),Cesium['Matrix4']['multiply'](_0x2e7ddb,_0x41577f['modelMatrix'],_0x41577f['modelMatrix']),_0x41577f['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x41577f['modelMatrix'],_0x41577f['invModelMatrix']);}}_0x3b26af['prototype']['update']=function(_0x473725){if(!this['ready']||!_0xac6c1f(this,_0x473725))return;this['_PBRMaterialParams']['loadingTexture']&&this['_updatePBRMaterial']();if(this['_textureCompressType']===_0x341210['CRN_DXT5']&&!_0xbb35a1['wasmReady']){_0xbb35a1['init']();return;}if(this['_vertexCompressionType']==='DRACO'&&!_0x4a149b['wasmReady']){_0x4a149b['init']();return;}this['_schuduler']['schedule'](this,_0x473725),_0x2c27fc(this),_0x8bf716(this,_0x473725),_0x3986a4(this,_0x473725),_0xc52f8f(this,_0x473725);var _0x395188=this['_excavateRegionCommands']['values']['length'];for(var _0x2ac9d8=0x0;_0x2ac9d8<_0x395188;_0x2ac9d8++){var _0x550b03=this['_excavateRegionCommands']['values'][_0x2ac9d8];_0x473725['commandList']['push'](_0x550b03);}this['_style3D']['_dirty']&&(_0x49d01(this),this['_style3D']['_dirty']=![]),this['_frameState']=_0x473725;},_0x3b26af['prototype']['setPBRMaterialFromJSON']=function(_0x2fbaf4){var _0x4e8202=this,_0x31acfd=typeof _0x2fbaf4==='string';_0x4e8202['_PBRMaterialParams']['baseUri']=_0x31acfd?Cesium['getBaseUri'](_0x2fbaf4):'';if(_0x31acfd){let _0x5420f8=Cesium['Resource']['createIfNeeded'](_0x2fbaf4);_0x5420f8['fetchJson'](_0x2fbaf4)['then'](function(_0x2347f1){_0x5b1e82(_0x2347f1,_0x4e8202);});}else _0x5b1e82(_0x2fbaf4,_0x4e8202);};function _0x5b1e82(_0x3dc355,_0xb076dc){var _0x4ef3eb=_0xb076dc,_0xaad2e7=_0x4ef3eb['_PBRMaterialParams']['baseUri'];_0x4ef3eb['_PBRMaterialParams']=_0x3dc355['material'],_0x4ef3eb['_PBRMaterialParams']['baseUri']=_0xaad2e7,_0x4ef3eb['_loadMaterialTexture'](_0x4ef3eb['_PBRMaterialParams'],_0xaad2e7);var _0x4656ed=_0x4ef3eb['_PBRMaterialParams']['pbrMetallicRoughness'],_0x1f5375=_0x4ef3eb['_PBRMaterialParams']['textureunitstates'];Cesium['defined'](_0x4656ed['volume'])&&(_0x4ef3eb['_PBRMaterialParams']['pbrMetallicRoughness']['volume']={'thickness':0x1,'tintColor':Cesium['Cartesian4']['fromElements'](0x1,0x1,0x1,0x1),'diffusionDistance':Cesium['Cartesian4']['fromElements'](0x1,0x1,0x1,0x1),'transmissionFactor':0x1});Cesium['defined'](_0x4656ed['clearcoat'])&&(_0x4ef3eb['_PBRMaterialParams']['pbrMetallicRoughness']['clearcoat']={'clearcoatFactor':0x0,'clearcoatRoughnessFactor':0x0});if(Cesium['defined'](_0x4656ed['snowEffect'])&&_0x4656ed['snowEffect']['snowNormalTextureIndex']!==-0x1){var _0xf9d046=_0xaad2e7+_0x1f5375[_0x4656ed['snowEffect']['snowNormalTextureIndex']]['textureunitstate']['url'];_0x4ef3eb['_PBRMaterialParams']['pendingTextureCount']++,_0x7c1bbf(_0x4ef3eb['context'],_0xf9d046,_0x4ef3eb['_PBRMaterialParams'],_0x4ef3eb['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect'],'snowNormalTexture');}if(Cesium['defined'](_0x4656ed['snowEffect'])&&_0x4656ed['snowEffect']['snowMaskTextureIndex']!==-0x1){var _0xf9d046=_0xaad2e7+_0x1f5375[_0x4656ed['snowEffect']['snowMaskTextureIndex']]['textureunitstate']['url'];_0x4ef3eb['_PBRMaterialParams']['pendingTextureCount']++,_0x7c1bbf(_0x4ef3eb['context'],_0xf9d046,_0x4ef3eb['_PBRMaterialParams'],_0x4ef3eb['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect'],'snowMaskTexture');}if(Cesium['defined'](_0x4656ed['rainEffect'])&&_0x4656ed['rainEffect']['rippleTextureIndex']!==-0x1){var _0xf9d046=_0xaad2e7+_0x1f5375[_0x4656ed['rainEffect']['rippleTextureIndex']]['textureunitstate']['url'];_0x4ef3eb['_PBRMaterialParams']['pendingTextureCount']++,_0x7c1bbf(_0x4ef3eb['context'],_0xf9d046,_0x4ef3eb['_PBRMaterialParams'],_0x4ef3eb['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect'],'rippleTexture');}}function _0xbc4de1(_0x1ea2f0,_0x220807){_0x1ea2f0['pbrParameterChange'](_0x220807);}_0x3b26af['prototype']['_updatePBRMaterial']=function(){if(!Cesium['defined'](this['_PBRMaterialParams'])||!Cesium['defined'](this['_PBRMaterialParams']['pendingTextureCount']))return;if(this['_PBRMaterialParams']['pendingTextureCount']===this['_PBRMaterialParams']['readyTextureCount']){var _0x348719={};_0x348719['enable']=!![],_0x348719['layer']=this,this['_tranverseRenderEntity'](_0x348719,_0xbc4de1),this['_PBRMaterialParams']['loadingTexture']=![];}},_0x3b26af['prototype']['removePBRMaterial']=function(){var _0x385210=this['_PBRMaterialParams']['pbrMetallicRoughness'];for(var _0xa10add in _0x385210){_0x385210['hasOwnProperty'](_0xa10add)&&_0x385210[_0xa10add]instanceof Cesium['Texture']&&_0x385210[_0xa10add]['destroy']();}this['_PBRMaterialParams']={'pbrMetallicRoughness':{'metallicFactor':0x0,'roughnessFactor':0x0,'baseColor':new Cartesian4(0x1,0x1,0x1,0x1),'baseColorTextureIndex':-0x1,'emissiveFactor':Cartesian3['ZERO'],'emissiveTextureIndex':-0x1,'occlusionTextureIndex':-0x1,'metallicRoughnessTextureIndex':-0x1,'normalTextureIndex':-0x1,'normalTexture':undefined,'baseColorTexture':undefined,'intensityScale':0x1,'snowEffect':undefined,'rainEffect':undefined,'volume':undefined,'clearcoat':undefined,'anisotropy':undefined},'loadingTexture':undefined};var _0x1bbf45={};_0x1bbf45['enable']=!![],_0x1bbf45['layer']=this,this['_tranverseRenderEntity'](_0x1bbf45,_0xbc4de1);};function _0x7c1bbf(_0x54d9ac,_0x1c867d,_0x1494c4,_0x55728e,_0x5601ca){var _0x2609df=Cesium['Resource']['createIfNeeded'](_0x1c867d),_0x5ab90f=_0x2609df['fetchImage']()['then'](function(_0x2e59e9){var _0x4cc053=new Cesium['Texture']({'context':_0x54d9ac,'source':_0x2e59e9,'sampler':new Cesium['Sampler']({'wrapS':Cesium['TextureWrap']['REPEAT'],'wrapT':Cesium['TextureWrap']['REPEAT'],'minificationFilter':Cesium['TextureMinificationFilter']['LINEAR_MIPMAP_LINEAR'],'magnificationFilter':Cesium['TextureMinificationFilter']['LINEAR']})}),_0x3b320d=!Cesium['Math']['isPowerOfTwo'](_0x4cc053['width'])||!Cesium['Math']['isPowerOfTwo'](_0x4cc053['height']);!_0x3b320d&&_0x4cc053['generateMipmap'](Cesium['MipmapHint']['NICEST']),_0x55728e[_0x5601ca]=_0x4cc053,_0x1494c4['readyTextureCount']++;},_0x5d70cb=>{console['error'](_0x5d70cb),_0x1494c4['pendingTextureCount']--;});_0x55728e[_0x5601ca]=_0x5ab90f;}_0x3b26af['prototype']['_loadMaterialTexture']=function(_0x79c451,_0x3974b6){_0x79c451['loadingTexture']=!![];var _0x3e85a1=_0x79c451['pbrMetallicRoughness'],_0x58b0f6=_0x79c451['textureunitstates'],_0x57f9b1=_0x3e85a1['baseColorTextureIndex'];!Cesium['defined'](_0x79c451['pendingTextureCount'])&&(_0x79c451['pendingTextureCount']=0x0);!Cesium['defined'](_0x79c451['readyTextureCount'])&&(_0x79c451['readyTextureCount']=0x0);var _0x4038da,_0x194d5e,_0x1ee180=this['context'],_0x7f0290=Cesium['defined'](_0x3974b6)?_0x3974b6:this['_baseUri']+this['_materialRelativePath'];_0x57f9b1>-0x1&&!Cesium['defined'](_0x3e85a1['baseColorTexture'])&&(_0x194d5e=_0x58b0f6[_0x57f9b1],_0x4038da=_0x7f0290+_0x194d5e['textureunitstate']['url'],_0x7c1bbf(_0x1ee180,_0x4038da,_0x79c451,_0x79c451['pbrMetallicRoughness'],'baseColorTexture'),_0x79c451['pendingTextureCount']++);var _0x53bf3c=_0x3e85a1['emissiveTextureIndex'];_0x53bf3c>-0x1&&!Cesium['defined'](_0x3e85a1['emissiveTexture'])&&(_0x194d5e=_0x58b0f6[_0x53bf3c],_0x4038da=_0x7f0290+_0x194d5e['textureunitstate']['url'],_0x7c1bbf(_0x1ee180,_0x4038da,_0x79c451,_0x79c451['pbrMetallicRoughness'],'emissiveTexture'),_0x79c451['pendingTextureCount']++);var _0x579b5b=_0x3e85a1['normalTextureIndex'];_0x579b5b>-0x1&&!Cesium['defined'](_0x3e85a1['normalTexture'])&&(_0x194d5e=_0x58b0f6[_0x579b5b],_0x4038da=_0x7f0290+_0x194d5e['textureunitstate']['url'],_0x7c1bbf(_0x1ee180,_0x4038da,_0x79c451,_0x79c451['pbrMetallicRoughness'],'normalTexture'),_0x79c451['pendingTextureCount']++);var _0x1267a0=_0x3e85a1['metallicRoughnessTextureIndex'];_0x1267a0>-0x1&&!Cesium['defined'](_0x3e85a1['metallicRoughnessTexture'])&&(_0x194d5e=_0x58b0f6[_0x1267a0],_0x4038da=_0x7f0290+_0x194d5e['textureunitstate']['url'],_0x7c1bbf(_0x1ee180,_0x4038da,_0x79c451,_0x79c451['pbrMetallicRoughness'],'metallicRoughnessTexture'),_0x79c451['pendingTextureCount']++);var _0x463b00=_0x3e85a1['occlusionTextureIndex'];_0x463b00>-0x1&&!Cesium['defined'](_0x3e85a1['occlusionTexture'])&&(_0x194d5e=_0x58b0f6[_0x463b00],_0x4038da=_0x7f0290+_0x194d5e['textureunitstate']['url'],_0x7c1bbf(_0x1ee180,_0x4038da,_0x79c451,_0x79c451['pbrMetallicRoughness'],'occlusionTexture'),_0x79c451['pendingTextureCount']++);},_0x3b26af['prototype']['_updateExcavationFrameBuffer']=function(_0x3c1810){if(!this['_excavationUpdate'])return;let _0x28ebc5=this['context'];for(var _0x1d63d6 in _0x3c1810['_framebufferList']){_0x1d63d6['indexOf']('_excavationHeightLayer')>-0x1&&!Cesium['defined'](this['_excavationRegions']['get'](_0x1d63d6['slice'](0x16)))&&(_0x3c1810['_framebufferList'][_0x1d63d6]=!_0x3c1810['_framebufferList'][_0x1d63d6]['isDestroyed']()&&_0x3c1810['_framebufferList'][_0x1d63d6]['destroy'](),delete _0x3c1810['_framebufferList'][_0x1d63d6]);}var _0x2e88e6=this['_excavationRegions']['values']['length'];this['_hasExcavation']=_0x2e88e6>0x0,this['_excavationUpdate']=![],this['_excavationBounds']=_0x4e83c8(this['_excavationRegions']['values']);var _0x58b409=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x0,0x0,0x0,0x0),'depth':0x1});_0x58b409['framebuffer']=new Cesium['Framebuffer']({'context':_0x28ebc5,'colorTextures':[this['_excavationTexture']],'destroyAttachments':![]}),_0x58b409['renderState']=Cesium['RenderState']['fromCache'](),_0x58b409['execute'](_0x28ebc5);for(var _0x5a0c15=0x0;_0x5a0c15<_0x2e88e6;_0x5a0c15++){var _0xe1d15b=this['_excavationRegions']['values'][_0x5a0c15];this['createRasterRegionDrawCommand'](_0x28ebc5,_0xe1d15b,this['_excavationTexture'],_0x5444eb['Color']);var _0x478129=this;_0xe1d15b['_command']['uniformMap']={'uRect':function(){return _0x478129['_excavationBounds'];}},_0xe1d15b['_command']['execute'](_0x28ebc5);}_0x58b409['framebuffer']['destroy']();},_0x3b26af['prototype']['createRasterRegionDrawCommand']=function(_0x29a4d4,_0x2b76df,_0x464f2d,_0x545818){if(!Cesium['defined'](_0x2b76df)||Cesium['defined'](_0x2b76df['_command']))return;var _0x2c3357=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['TRIANGLES']});_0x2b76df['_command']=_0x2c3357;var _0x4f63a3={'position':0x0};_0x2c3357['vertexArray']=Cesium['VertexArray']['fromGeometry']({'context':_0x29a4d4,'geometry':_0x2b76df['geometry'],'attributeLocations':_0x4f63a3,'bufferUsage':Cesium['BufferUsage']['STATIC_DRAW'],'interleave':!![],'owner':this['name']});var _0x3f476e=new Cesium['ShaderSource']({'sources':[_0x1bc2d9]});if(_0x545818==_0x5444eb['Altitude'])_0x3f476e['defines']['push']('Mode_Height'),_0x464f2d['pixelDatatype']===PixelDatatype['FLOAT']&&_0x3f476e['defines']['push']('UseFloatTexture'),_0x2c3357['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionAltitudeSp','context':_0x29a4d4,'vertexShaderSource':_0x2c7b1e,'fragmentShaderSource':_0x3f476e,'attributeLocations':_0x4f63a3});else _0x545818==_0x5444eb['Texture']?(_0x3f476e['defines']['push']('OVERLAY'),_0x2c3357['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionTextureSp','context':_0x29a4d4,'vertexShaderSource':_0xd81c49,'fragmentShaderSource':_0x3f476e,'attributeLocations':_0x4f63a3})):_0x2c3357['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionRasterSp','context':_0x29a4d4,'vertexShaderSource':_0xb21c98,'fragmentShaderSource':_0x3f476e,'attributeLocations':_0x4f63a3});_0x2c3357['framebuffer']=new Cesium['Framebuffer']({'context':_0x29a4d4,'colorTextures':[_0x464f2d],'destroyAttachments':![]}),_0x2c3357['renderState']=Cesium['RenderState']['fromCache']({'viewport':new Cesium['BoundingRectangle'](0x0,0x0,this['_flattenTextureWidth'],this['_flattenTextureWidth'])});},_0x3b26af['prototype']['isDestroyed']=function(){return![];},_0x3b26af['prototype']['destroy']=function(){this['_cache']['reset'](),_0x5c567f(this),this['_rootTiles']['length']=0x0,this['_requestTiles']['length']=0x0,this['_processTiles']['length']=0x0,this['_renderQueue']['length']=0x0,this['_selections']['length']=0x0,this['_objsOperationList']['removeAll'](),this['_objsVisibleList']['removeAll'](),this['_objsHideList']['removeAll'](),this['_objsVisibleMap']={},this['_objsColorList']={},this['_hypsometric']['destroy'](),this['_flattenPar']['destroy']();var _0x5a1b77=Object['keys'](this['_excavationRegions']['_hash']);for(var _0x332306=0x0,_0x4e37d5=_0x5a1b77['length'];_0x332306<_0x4e37d5;_0x332306++){var _0x1534e4=_0x5a1b77[_0x332306],_0x48677a=this['_excavationRegions']['get'](_0x1534e4);_0x48677a['destroy'](),this['_removeExcavationCommands'](_0x1534e4);}return this['_excavationRegions']['removeAll'](),delete this['_excavationBounds'],this['_excavationBounds']=null,defined(this['_excavationTexture'])&&(this['_excavationTexture']['destroy'](),this['_excavationTexture']=null),defined(this['_excavationSideTexture'])&&(this['_excavationSideTexture']['destroy'](),this['_excavationSideTexture']=null),defined(this['_excavationBottomTexture'])&&(this['_excavationBottomTexture']['destroy'](),this['_excavationBottomTexture']=null),Cesium['destroyObject'](this);};export default _0x3b26af;