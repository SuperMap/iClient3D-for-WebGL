const _0x3c95a7=(function(){let _0x47e9b2=!![];return function(_0x5e6d70,_0x35d98f){const _0x1284aa=_0x47e9b2?function(){if(_0x35d98f){const _0xd58cc7=_0x35d98f['apply'](_0x5e6d70,arguments);return _0x35d98f=null,_0xd58cc7;}}:function(){};return _0x47e9b2=![],_0x1284aa;};}()),_0x4d3cbf=_0x3c95a7(this,function(){return _0x4d3cbf['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x4d3cbf)['search']('(((.+)+)+)+$');});_0x4d3cbf();import _0x12e853 from'./S3MTile.js';import _0x1e2652 from'./S3MLayerScheduler.js';import _0x6a4be4 from'./S3MLayerCache.js';import _0x127527 from'./Enum/OperationType.js';import _0x3a7273 from'./Enum/PLANECLIPMODE.js';import _0x59b58f from'./Hypsometric.js';import _0x265330 from'./HypsometricSetting.js';import _0x6b6b67 from'./Enum/HypsometricSettingEnum.js';import _0x193da7 from'./Parameter/Flatten.js';import _0x4fd336 from'./RasterRegion.js';import _0x39dfce from'../Ext/XmlParser.js';import _0x3735aa from'./Style3D.js';import _0xd571f9 from'./S3MBlockCache.js';import _0xf5c296 from'../ThirdParty/defer.js';import _0x9f0b0c from'../ThirdParty/Uri.js';import _0x45b2d2 from'./Enum/TextureCompressType.js';import _0x27e44f from'../Core/CRNTranscoder.js';import _0x4c41fe from'./Enum/ModifyRegionMode.js';import _0x229e84 from'./shaders/RegionVectex.js';import _0x3ad478 from'./shaders/RegionTextureVertex.js';import _0x180f78 from'./shaders/RegionAltitudeVectex.js';import _0x35d192 from'./shaders/RegionFragment.js';var _0x1c8a73=new Cesium['Matrix4'](0x0,0x0,0x1,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x0,0x1),_0x5d5d5f={'Altitude':0x0,'Color':0x1,'Texture':0x2};function _0x2da360(_0xa39df6){_0xa39df6=Cesium['defaultValue'](_0xa39df6,Cesium['defaultValue']['EMPTY_OBJECT']),Cesium['Check']['defined']('options.context',_0xa39df6['context']),Cesium['Check']['defined']('Authentication\x20error',_0xa39df6['rss']),this['id']=Cesium['createGuid'](),this['name']=_0xa39df6['name'],this['context']=_0xa39df6['context'],this['_isS3MB']=Cesium['defaultValue'](_0xa39df6['isS3MB'],!![]),this['_isS3MBlock']=Cesium['defaultValue'](_0xa39df6['isS3MBlock'],![]),this['_url']=undefined,this['_basePath']=undefined,this['_baseResource']=undefined,this['modelMatrix']=new Cesium['Matrix4'](),this['invModelMatrix']=new Cesium['Matrix4'](),this['fileType']=undefined,this['dataVersion']=0x1,this['_position']=undefined,this['_rectangle']=undefined,this['_rootTiles']=[],this['_schuduler']=new _0x1e2652(),this['_requestTiles']=[],this['_processTiles']=[],this['_renderQueue']=[],this['_cache']=new _0x6a4be4(),this['_vertexCompressionType']=_0xa39df6['vertexCompressionType'],this['_textureCompressType']=_0x45b2d2['None'],this['_maximumMemoryUsage']=-0x1,this['_totalMemoryUsageInBytes']=0x0,this['_maximumPriority']={'foveatedFactor':-Number['MAX_VALUE'],'depth':-Number['MAX_VALUE'],'distance':-Number['MAX_VALUE'],'pixel':-Number['MAX_VALUE']},this['_minimumPriority']={'foveatedFactor':Number['MAX_VALUE'],'depth':Number['MAX_VALUE'],'distance':Number['MAX_VALUE'],'pixel':Number['MAX_VALUE']},this['_readyPromise']=_0xf5c296(),this['_selectEnabled']=Cesium['defaultValue'](_0xa39df6['selectEnabled'],!![]),this['_multiChoose']=![],this['_sceneMode']=Cesium['defaultValue'](_0xa39df6['sceneMode'],Cesium['SceneMode']['SCENE3D']),this['_selections']=[],this['_selectedColor']=new Cesium['Color'](0.7,0.7,0x1,0x1),this['_objsOperationList']=new Cesium['AssociativeArray'](),this['_objsVisibleList']=new Cesium['AssociativeArray'](),this['_objsHideList']=new Cesium['AssociativeArray'](),this['_objsVisibleMap']={},this['_objsColorList']={},this['_allObjsHide']=![],this['_flattenTextureWidth']=0x400,this['_clipMode']=_0x3a7273['CLIP_NOTHING'],this['_excavationMode']=_0x4c41fe['CLIP_INSIDE'],this['_excavationTexture']=undefined,this['_excavationRegions']=new Cesium['AssociativeArray'](),this['_excavationBounds']=new Cesium['Cartesian4'](),this['_excavateRegionCommands']=new Cesium['AssociativeArray'](),this['_excavationUpdate']=![],this['_hasExcavation']=![],this['_enableClip']=![],this['_enableClipPlane']=![],this['_clipPlane']=[new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0)],this['_oriClipPlane']=[new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0)],this['_hypsometric']=new _0x59b58f({}),this['_flattenPar']=new _0x193da7(),this['_minCategory']=0x0,this['_maxCategory']=0x0,this['_minHeight']=0x0,this['_maxHeight']=0x0,this['_swipeRegion']=new Cesium['Cartesian4'](0x0,0x0,0x1,0x1),this['_swipeEnabled']=![],this['_brightness']=Cesium['defaultValue'](_0xa39df6['brightness'],0x1),this['_contrast']=Cesium['defaultValue'](_0xa39df6['constrast'],0x1),this['_hue']=Cesium['defaultValue'](_0xa39df6['hue'],0x0),this['_saturation']=Cesium['defaultValue'](_0xa39df6['saturation'],0x1),this['_gamma']=Cesium['defaultValue'](_0xa39df6['gamma'],0x1),this['_visibleDistanceMax']=Cesium['defaultValue'](_0xa39df6['maxVisibleDistance'],Number['MAX_VALUE']),this['_visibleDistanceMin']=Cesium['defaultValue'](_0xa39df6['minVisibleDistance'],0x0),this['_minVisibleAltitude']=Cesium['defaultValue'](_0xa39df6['minVisibleAltitude'],0x0),this['_maxVisibleAltitude']=Cesium['defaultValue'](_0xa39df6['maxVisibleAltitude'],Number['MAX_VALUE']),this['_lodRangeScale']=Cesium['defaultValue'](_0xa39df6['lodRangeScale'],0x1),this['_visible']=Cesium['defaultValue'](_0xa39df6['isVisible'],!![]),this['_style3D']=Cesium['defaultValue'](_0xa39df6['style3D'],new _0x3735aa()),this['_isTransparencyOptimization']=![],this['_polygonOffsetConfig']=_0xa39df6['polygonOffset'],this['_visibleViewport']=0xfff,this['_waterParameters']=undefined,this['_waterPlanes']=undefined,this['_edgeDistanceFalloffFactor']=0x0,this['_edgeCurrentTotalLength']=0x0,this['_edgeCurrentCount']=0x0,this['_blockCache']=_0xd571f9['getSingleInstance'](),this['_materialManager']=undefined,this['_subTextureManager']=undefined,this['_subdomainConfig']=Cesium['defaultValue'](_0xa39df6['subdomainConfig'],{}),this['_PBRMaterialParams']={'pbrMetallicRoughness':{'metallicFactor':0x0,'roughnessFactor':0x0,'baseColor':new Cesium['Cartesian4'](0x1,0x1,0x1,0x1),'baseColorTextureIndex':-0x1,'emissiveFactor':Cesium['Cartesian3']['ZERO'],'emissiveTextureIndex':-0x1,'occlusionTextureIndex':-0x1,'normalTextureIndex':-0x1,'normalTexture':undefined,'baseColorTexture':undefined}},this['loadConfig'](_0xa39df6['url']);}Object['defineProperties'](_0x2da360['prototype'],{'ready':{'get':function(){if(this['fileType']==='OSGBCacheFile_Water')return this['_waterParameters']!==undefined&&this['_rootTiles']['length']>0x0;return this['_rootTiles']['length']>0x0;}},'readyPromise':{'get':function(){return this['_readyPromise'];}},'visible':{'get':function(){return this['_visible'];},'set':function(_0x3a0fb1){this['_visible']=_0x3a0fb1;}},'show':{'get':function(){return this['_visible'];},'set':function(_0x46a3bf){this['_visible']=_0x46a3bf;}},'style3D':{'get':function(){return this['_style3D'];}},'rectangle':{'get':function(){return this['_rectangle'];}},'totalMemoryUsageInBytes':{'get':function(){return this['_totalMemoryUsageInBytes'];},'set':function(_0x5860b6){this['_totalMemoryUsageInBytes']=_0x5860b6;}},'maximumMemoryUsage':{'get':function(){return this['_maximumMemoryUsage'];},'set':function(_0x37594b){this['_maximumMemoryUsage']=_0x37594b;}},'lodRangeScale':{'get':function(){return this['_lodRangeScale'];},'set':function(_0x122997){Cesium['Check']['typeOf']['number']('set\x20layer\x20lod\x20range\x20scale',_0x122997),this['_lodRangeScale']=_0x122997;}},'selectedColor':{'get':function(){return this['_selectedColor'];},'set':function(_0x4b43ff){Cesium['Color']['clone'](_0x4b43ff,this['_selectedColor']);}},'dataMinValue':{'get':function(){return Cesium['defaultValue'](this['_minCategory'],this['_minHeight']);}},'dataMaxValue':{'get':function(){return Cesium['defaultValue'](this['_maxCategory'],this['_maxHeight']);}},'swipeRegion':{'get':function(){return new Cesium['BoundingRectangle'](this['_swipeRegion']['x'],this['_swipeRegion']['y'],this['_swipeRegion']['z']-this['_swipeRegion']['x'],this['_swipeRegion']['w']-this['_swipeRegion']['y']);},'set':function(_0x5ca50c){if(!_0x5ca50c)return;if(!(_0x5ca50c instanceof Cesium['BoundingRectangle']))throw new Cesium['DeveloperError']('swipeRegion\x20must\x20be\x20a\x20instance\x20of\x20BoundingRectangle.');Cesium['Cartesian4']['fromElements'](_0x5ca50c['x'],_0x5ca50c['y'],_0x5ca50c['x']+_0x5ca50c['width'],_0x5ca50c['y']+_0x5ca50c['height'],this['_swipeRegion']);}},'swipeEnabled':{'get':function(){return this['_swipeEnabled'];},'set':function(_0x4ed748){if(_0x4ed748===this['_swipeEnabled'])return;!_0x4ed748&&Cesium['Cartesian4']['fromElements'](0x0,0x0,0x1,0x1,this['_swipeRegion']),this['_swipeEnabled']=_0x4ed748,this['_tranverseRenderEntity']({'enable':_0x4ed748},_0x5d791c);}},'visibleDistanceMax':{'get':function(){return this['_visibleDistanceMax'];},'set':function(_0x2b1b07){Cesium['Check']['typeOf']['number']('max\x20visible\x20distance',_0x2b1b07),this['_visibleDistanceMax']=_0x2b1b07;}},'visibleDistanceMin':{'get':function(){return this['_visibleDistanceMin'];},'set':function(_0xcc2ee1){Cesium['Check']['typeOf']['number']('min\x20visible\x20distance',_0xcc2ee1),this['_visibleDistanceMin']=_0xcc2ee1;}},'minVisibleAltitude':{'get':function(){return this['_minVisibleAltitude'];},'set':function(_0x590473){Cesium['Check']['typeOf']['number']('min\x20visible\x20altitude',_0x590473),this['_minVisibleAltitude']=_0x590473;}},'maxVisibleAltitude':{'get':function(){return this['_maxVisibleAltitude'];},'set':function(_0x47f4ca){Cesium['Check']['typeOf']['number']('max\x20visible\x20altitude',_0x47f4ca),this['_maxVisibleAltitude']=_0x47f4ca;}},'hypsometricSetting':{'get':function(){return{'hypsometricSetting':this['_hypsometric']['setting'],'analysisMode':this['_hypsometric']['analysisMode']};},'set':function(_0x4b4588){let _0x59720e=this['_hypsometric'];if(!_0x4b4588||!_0x4b4588['hypsometricSetting']){_0x59720e['isUseHypColorTable']=![],_0x59720e['setting']=_0x59720e['setting']&&_0x59720e['setting']['destroy'](),this['_tranverseRenderEntity']({'enable':![]},_0x50c548);return;}_0x59720e['region']=_0x59720e['region']&&_0x59720e['region']['destroy'](),!_0x59720e['renderTexture']&&(_0x59720e['renderTexture']=new Cesium['Texture']({'context':this['context'],'width':0x400,'height':0x400,'pixelFormat':Cesium['PixelFormat']['RGBA']})),!_0x59720e['texture']&&(_0x59720e['texture']=new Cesium['Texture']({'context':this['context'],'width':0x400,'height':0x40,'pixelFormat':Cesium['PixelFormat']['RGBA'],'flipY':![]})),_0x59720e['analysisMode']=Cesium['defaultValue'](_0x4b4588['analysisMode'],_0x59720e['analysisMode']),_0x59720e['setting']=_0x265330['clone'](_0x4b4588['hypsometricSetting'],_0x59720e['setting']),_0x59720e['setting']['ColorTable']&&(_0x59720e['setting']['ColorTable']['generateBuffer'](),this['_hypsometric']['texture']&&this['_hypsometric']['texture']['copyFrom']({'width':0x400,'height':0x40,'arrayBufferView':_0x59720e['setting']['ColorTable']['_imageBuffer']})),_0x59720e['isUseHypColorTable']=_0x59720e['analysisMode']!==_0x6b6b67['AnalysisRegionMode']['ARM_NONE'],this['_tranverseRenderEntity']({'enable':_0x59720e['isUseHypColorTable']},_0x50c548);}},'selectEnabled':{'get':function(){return this['_selectEnabled'];},'set':function(_0x652590){Cesium['Check']['defined']('value',_0x652590),Cesium['Check']['typeOf']['bool']('value',_0x652590),this['_selectEnabled']=_0x652590;}},'subdomains':{'get':function(){return this['_subdomainConfig']['subdomains'];},'set':function(_0x5920b8){if(defined(_0x5920b8)&&!defined(_0x5920b8['length']))throw new DeveloperError('Excepted\x20S3MTilesLayer.subdomains\x20to\x20be\x20type\x20of\x20Array.');this['_subdomainConfig']['subdomains']=_0x5920b8;}}});function _0xa80992(_0x588a3e){let _0x463954={},_0x4809c=_0x588a3e['firstChild'];_0x463954['version']=_0x39dfce['queryStringValue'](_0x4809c,'Version'),_0x463954['fileType']=_0x39dfce['queryStringValue'](_0x4809c,'FileType');let _0x59cef0=_0x39dfce['queryFirstNode'](_0x4809c,'WaterEffect');_0x463954['averageHeight']=_0x39dfce['queryNumericValue'](_0x59cef0,'AverageHeight');let _0x12e2ba=_0x39dfce['queryNodes'](_0x59cef0,'GpuProgramParameters');_0x463954['gpuProgramParameters']=[];for(let _0x21442a=0x0,_0x190f4a=_0x12e2ba['length'];_0x21442a<_0x190f4a;_0x21442a++){let _0x37ed72={};_0x37ed72['gpuConstants']=[],_0x37ed72['atuoConstants']=[];let _0x40ebe6=_0x12e2ba[_0x21442a],_0x579869=_0x39dfce['queryFirstNode'](_0x40ebe6,'GpuConstants');if(_0x579869){let _0x5b69a1=_0x39dfce['queryNodes'](_0x579869,'GpuConstantDefinition');for(let _0x43b887=0x0,_0x25fc45=_0x5b69a1['length'];_0x43b887<_0x25fc45;_0x43b887++){let _0x6728ce={},_0x229770=_0x5b69a1[_0x43b887];_0x6728ce['constType']=_0x39dfce['queryNumericValue'](_0x229770,'ConstType'),_0x6728ce['index']=_0x39dfce['queryNumericValue'](_0x229770,'Index'),_0x6728ce['name']=_0x39dfce['queryStringValue'](_0x229770,'Name'),_0x6728ce['arraySize']=_0x39dfce['queryNumericValue'](_0x229770,'ArraySize'),_0x6728ce['multiple']=_0x39dfce['queryNumericValue'](_0x229770,'Multiple');let _0x42f02c=_0x39dfce['queryFirstNode'](_0x229770,'ArrayFloat');_0x6728ce['arrayFloat']=[];if(_0x42f02c){let _0x16664a=_0x39dfce['queryNodes'](_0x42f02c,'Float'),_0xeb3fff=0x0;while(_0xeb3fff<_0x6728ce['arraySize']){let _0x3988b8=parseFloat(_0x16664a[_0xeb3fff]['textContent']);_0x6728ce['arrayFloat']['push'](_0x3988b8),_0xeb3fff++;}}_0x37ed72['gpuConstants']['push'](_0x6728ce);}}let _0x576fa3=_0x39dfce['queryFirstNode'](_0x40ebe6,'AutoConstants');if(_0x576fa3){let _0x3588dd=_0x39dfce['queryNodes'](_0x576fa3,'AutoConstantEntry');for(let _0x4faff0=0x0,_0x4c5892=_0x3588dd['length'];_0x4faff0<_0x4c5892;_0x4faff0++){let _0xa6367d={},_0x4eb235=_0x3588dd[_0x4faff0];_0xa6367d['paramType']=_0x39dfce['queryNumericValue'](_0x4eb235,'ParamType'),_0xa6367d['name']=_0x39dfce['queryStringValue'](_0x4eb235,'Name'),_0xa6367d['physicalIndex']=_0x39dfce['queryNumericValue'](_0x4eb235,'PhysicalIndex'),_0xa6367d['elementCount']=_0x39dfce['queryNumericValue'](_0x4eb235,'ElementCount'),_0xa6367d['data']=_0x39dfce['queryNumericValue'](_0x4eb235,'Data'),_0xa6367d['fData']=_0x39dfce['queryNumericValue'](_0x4eb235,'FData'),_0xa6367d['isReal']=_0x39dfce['queryBooleanValue'](_0x4eb235,'IsReal'),_0x37ed72['atuoConstants']['push'](_0xa6367d);}}_0x463954['gpuProgramParameters']['push'](_0x37ed72);}return _0x463954;}function _0x452037(_0x134aa5,_0x4905bb){let _0x307a10=_0x4905bb['_basePath'],_0x385c44=_0x4905bb['_basePath']['indexOf']('realspace')>-0x1;if(!_0x385c44)return _0x134aa5;let _0x2af473=_0x307a10['replace'](/(.*realspace)/,''),_0x48250a=_0x307a10['replace'](/\/rest\/realspace/g,'')['replace'](_0x2af473,'');return _0x48250a+'/rest/realspace'+_0x2af473+'data/path/'+_0x134aa5['replace'](/^\.*/,'')['replace'](/^\//,'')['replace'](/\/$/,'');}function _0x16ca5c(_0x5273d9,_0x4d9ae1){let _0x5c605b=_0x4d9ae1['extensions'];if(!_0x5c605b||!_0x5c605b['attachFiles'])return;let _0x151489=_0x5c605b['attachFiles'],_0x2b9762=[],_0x2a985f=_0x5273d9['_basePath'],_0x16a100=![];for(let _0x53b62=0x0,_0x3a220d=_0x151489['length'];_0x53b62<_0x3a220d;_0x53b62++){let _0x3689a0=_0x151489[_0x53b62]['attachFile'];if(_0x3689a0['indexOf']('.water')>0x0){let _0x357770=_0x452037(_0x3689a0,_0x5273d9),_0x210835=_0x5273d9['_baseResource']['getDerivedResource']({'url':_0x357770});_0x2b9762['push'](_0x210835['fetchXML']()),_0x16a100=!![];}}if(!_0x2b9762['length'])return;Promise['all'](_0x2b9762)['then'](_0x3af5bb=>{let _0x23fa6a=[];for(let _0x3ad49c=0x0,_0x2bd4d3=_0x3af5bb['length'];_0x3ad49c<_0x2bd4d3;_0x3ad49c++){let _0x84fde5=_0x3af5bb[_0x3ad49c];if(!_0x84fde5)break;let _0x295b12=_0xa80992(_0x84fde5);_0x23fa6a['push'](_0x295b12);}_0x5273d9['_waterPlanes']=new Cesium['AssociativeArray'](),_0x5273d9['_waterParameters']={};let _0x2c0560=_0x23fa6a[0x0];_0x5273d9['_waterParameters']['averageHeight']=_0x2c0560['averageHeight'];for(let _0x42f0ae=0x0;_0x42f0ae<_0x2c0560['gpuProgramParameters']['length'];_0x42f0ae++){let _0x5bcdda=_0x2c0560['gpuProgramParameters'][_0x42f0ae];for(let _0x44527c=0x0;_0x44527c<_0x5bcdda['atuoConstants']['length'];_0x44527c++){let _0x2da1cd=_0x5bcdda['atuoConstants'][_0x44527c];if(_0x2da1cd['name']==='timeVal'){_0x5273d9['_waterParameters'][_0x2da1cd['name']]=_0x2da1cd['fData'];break;}}for(let _0x2597e2=0x0;_0x2597e2<_0x5bcdda['gpuConstants']['length'];_0x2597e2++){let _0x1db53e=_0x5bcdda['gpuConstants'][_0x2597e2],_0x5dda9f=null;switch(_0x1db53e['arraySize']){case 0x1:_0x5dda9f=_0x1db53e['arrayFloat'][0x0];break;case 0x2:_0x5dda9f=new Cesium['Cartesian2'](),Cesium['Cartesian2']['unpack'](_0x1db53e['arrayFloat'],0x0,_0x5dda9f);break;case 0x3:_0x5dda9f=new Cesium['Cartesian3'](),Cesium['Cartesian3']['unpack'](_0x1db53e['arrayFloat'],0x0,_0x5dda9f);break;case 0x4:_0x5dda9f=new Cesium['Cartesian4'](),Cesium['Cartesian4']['unpack'](_0x1db53e['arrayFloat'],0x0,_0x5dda9f);break;default:break;}if(!_0x5dda9f)continue;_0x5273d9['_waterParameters'][_0x1db53e['name']]=_0x5dda9f;}}_0x5273d9['fileType']+='_Water';})['catch'](_0x421610=>{console['log'](_0x421610);});}_0x2da360['prototype']['loadConfig']=function(_0x4a6ac0){let _0x2166e9=this;Promise['resolve'](_0x4a6ac0)['then'](function(_0x16491c){let _0xaa708c,_0x5936ea=Cesium['Resource']['createIfNeeded'](_0x16491c);_0xaa708c=_0x5936ea['getBaseUri'](!![]);let _0x210dde=new _0x9f0b0c(_0xaa708c);_0x210dde['query']=undefined,_0xaa708c=_0x210dde['toString'](),_0x2166e9['_url']=_0x5936ea['url'],_0x2166e9['_basePath']=_0xaa708c,_0x2166e9['_baseResource']=_0x5936ea;Cesium['defined'](_0x2166e9['_subdomainConfig']['subdomains'])&&(_0x2166e9['_basePath']=_0x2166e9['_subdomainConfig']['urlScheme']);if(_0x2166e9['_isS3MB']||_0x2166e9['_isS3MBlock'])return _0x5936ea['fetchJson']();return _0x5936ea['fetchXML']();})['then'](function(_0x287d04){if(_0x2166e9['_isS3MB']||_0x2166e9['_isS3MBlock']){let _0x337c4c=_0x287d04['extensions'];_0x2166e9['fileType']=_0x337c4c['s3m:FileType'];let _0xa06573=_0x287d04['position']['x'],_0x9470c3=_0x287d04['position']['y'],_0x41e1a8=_0x287d04['position']['z'],_0x4a6de5=_0x287d04['position']['units'];_0x2166e9['lon']=_0xa06573,_0x2166e9['lat']=_0x9470c3,_0x2166e9['height']=_0x41e1a8;if(_0x2166e9['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0x2166e9['_position']=Cesium['Cartesian3']['fromDegrees'](_0xa06573,_0x9470c3,_0x41e1a8),_0x2166e9['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0x2166e9['_position']),_0x2166e9['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x2166e9['modelMatrix'],_0x2166e9['invModelMatrix']);else{if(_0xa06573>0xb4||_0xa06573<-0xb4||_0x9470c3>0xb4||_0x9470c3<-0xb4||_0x4a6de5==='Meter'){let _0x63cd85=_0xa06573,_0x7aa975=_0x9470c3;_0x2166e9['_position']=new Cesium['Cartesian3'](_0x63cd85,_0x7aa975,_0x41e1a8);}else{let _0x399ecd=new Cesium['GeographicProjection'](),_0x1e638d=Cesium['Cartesian3']['fromDegrees'](_0xa06573,_0x9470c3,_0x41e1a8),_0x32813b=_0x399ecd['ellipsoid']['cartesianToCartographic'](_0x1e638d);_0x2166e9['_position']=_0x399ecd['project'](_0x32813b);}Cesium['Matrix4']['fromTranslation'](_0x2166e9['_position'],_0x2166e9['modelMatrix']),Cesium['Matrix4']['multiply'](_0x1c8a73,_0x2166e9['modelMatrix'],_0x2166e9['modelMatrix']),_0x2166e9['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x2166e9['modelMatrix'],_0x2166e9['invModelMatrix']);}if(Cesium['defined'](_0x287d04['geoBounds'])){let _0x446f35=_0x287d04['geoBounds']['left'],_0x234225=_0x287d04['geoBounds']['top'],_0x5d4ef6=_0x287d04['geoBounds']['right'],_0x4188aa=_0x287d04['geoBounds']['bottom'];_0x446f35>0xb4||_0x4188aa>0xb4||_0x5d4ef6>0xb4||_0x234225>0xb4?(_0x446f35/=0x615299,_0x4188aa/=0x615299,_0x5d4ef6/=0x615299,_0x234225/=0x615299,_0x2166e9['_rectangle']=new Cesium['Rectangle'](_0x446f35,_0x4188aa,_0x5d4ef6,_0x234225)):_0x2166e9['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x446f35,_0x4188aa,_0x5d4ef6,_0x234225);}_0x287d04['heightRange']&&(_0x2166e9['_minHeight']=_0x287d04['heightRange']['min'],_0x2166e9['_maxHeight']=_0x287d04['heightRange']['max']);if(_0x287d04['wDescript']){let _0x3b32c8=_0x287d04['wDescript']['range'];_0x2166e9['_minWValue']=_0x3b32c8['min'],_0x2166e9['_maxWValue']=_0x3b32c8['max'];}_0x337c4c['hasOwnProperty']('s3m:TransparencyOptimization')&&(_0x2166e9['_isTransparencyOptimization']=_0x337c4c['s3m:TransparencyOptimization']==='TRUE');_0x337c4c['hasOwnProperty']('s3m:VertexCompressionType')&&(_0x2166e9['_vertexCompressionType']=_0x337c4c['s3m:VertexCompressionType']);_0x337c4c['hasOwnProperty']('s3m:TextureCompressionType')&&(_0x2166e9['_textureCompressType']=_0x337c4c['s3m:TextureCompressionType']);const _0x5e92fd=_0x287d04['tiles']||_0x287d04['rootTiles'];if(_0x5e92fd['length']>0x0){let _0x36b76f=Cesium['getExtensionFromUri'](_0x5e92fd[0x0]['url']);_0x36b76f==='s3mblock'&&(_0x2166e9['_isS3MBlock']=!![]);}for(let _0x146761=0x0,_0x49a473=_0x5e92fd['length'];_0x146761<_0x49a473;_0x146761++){let _0x41280d=_0x5e92fd[_0x146761]['url'],_0xe09c08={'box':_0x5e92fd[_0x146761]['boundingbox']},_0x1cec62=new _0x12e853(_0x2166e9,undefined,_0xe09c08,_0x41280d);_0x1cec62['isRootTile']=!![],_0x1cec62['blockKey']=_0x41280d,_0x2166e9['_cache']['add'](_0x1cec62),_0x2166e9['_rootTiles']['push'](_0x1cec62);}_0x16ca5c(_0x2166e9,_0x287d04);}else{let _0x4dcdf2=_0x287d04['firstChild'],_0x261976=_0x4dcdf2['namespace'];_0x2166e9['fileType']=_0x39dfce['queryStringValue'](_0x4dcdf2,'FileType',_0x261976);let _0xd3383a=_0x39dfce['queryFirstNode'](_0x4dcdf2,'Position',_0x261976),_0x251a8b=_0x39dfce['queryNumericValue'](_0xd3383a,'X',_0x261976),_0x5b85b4=_0x39dfce['queryNumericValue'](_0xd3383a,'Y',_0x261976),_0x175755=_0x39dfce['queryNumericValue'](_0xd3383a,'Z',_0x261976);_0x2166e9['lon']=_0x251a8b,_0x2166e9['lat']=_0x5b85b4,_0x2166e9['height']=_0x175755,_0x2166e9['_position']=Cesium['Cartesian3']['fromDegrees'](_0x251a8b,_0x5b85b4,_0x175755),_0x2166e9['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0x2166e9['_position']),_0x2166e9['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x2166e9['modelMatrix'],_0x2166e9['invModelMatrix']);let _0x3fb733=_0x39dfce['queryFirstNode'](_0x4dcdf2,'Bounds',_0x261976),_0x5ee764=_0x39dfce['queryFirstNode'](_0x4dcdf2,'BoundingBox',_0x261976);if(_0x3fb733){let _0x56b22e=_0x39dfce['queryNumericValue'](_0x3fb733,'Left',_0x261976),_0x560fcd=_0x39dfce['queryNumericValue'](_0x3fb733,'Top',_0x261976),_0x27c9de=_0x39dfce['queryNumericValue'](_0x3fb733,'Right',_0x261976),_0x3fece2=_0x39dfce['queryNumericValue'](_0x3fb733,'Bottom',_0x261976);_0x2166e9['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x56b22e,_0x3fece2,_0x27c9de,_0x560fcd);}else{if(_0x5ee764){let _0x1c9148=_0x39dfce['queryNumericValue'](_0x5ee764,'MinX',_0x261976),_0x4ceb39=_0x39dfce['queryNumericValue'](_0x5ee764,'MinY',_0x261976),_0x5136a8=_0x39dfce['queryNumericValue'](_0x5ee764,'MinZ',_0x261976),_0x2e0f33=_0x39dfce['queryNumericValue'](_0x5ee764,'MaxX',_0x261976),_0x7414c=_0x39dfce['queryNumericValue'](_0x5ee764,'MaxY',_0x261976),_0x516021=_0x39dfce['queryNumericValue'](_0x5ee764,'MaxZ',_0x261976);_0x1c9148=0xb4*Math['abs'](_0x1c9148)/(Math['PI']*0x615299),_0x4ceb39=0xb4*Math['abs'](_0x4ceb39)/(Math['PI']*0x615299),_0x2e0f33=0xb4*Math['abs'](_0x2e0f33)/(Math['PI']*0x615299),_0x7414c=0xb4*Math['abs'](_0x7414c)/(Math['PI']*0x615299),_0x2166e9['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x251a8b-_0x1c9148,_0x5b85b4-_0x4ceb39,_0x251a8b+_0x2e0f33,_0x5b85b4+_0x7414c);}}let _0x1f49a3=_0x39dfce['queryFirstNode'](_0x4dcdf2,'HeightRange',_0x261976);_0x1f49a3&&(_0x2166e9['_minHeight']=_0x39dfce['queryNumericValue'](_0x1f49a3,'MinHeight',_0x261976),_0x2166e9['_maxHeight']=_0x39dfce['queryNumericValue'](_0x1f49a3,'MaxHeight',_0x261976));let _0x4525aa=_0x39dfce['queryFirstNode'](_0x4dcdf2,'CategoryRange',_0x261976);_0x4525aa&&(_0x2166e9['_maxWValue']=_0x39dfce['queryNumericValue'](_0x4525aa,'MaxCategory',_0x261976),_0x2166e9['_minWValue']=_0x39dfce['queryNumericValue'](_0x4525aa,'MinCategory',_0x261976));let _0x58a153=_0x39dfce['queryFirstNode'](_0x4dcdf2,'Extensions',_0x261976);_0x2166e9['_isTransparencyOptimization']=_0x39dfce['queryBooleanValue'](_0x58a153,'TransparencyOptimization',_0x261976);let _0x118837=/\\+/g,_0x2d60c3=_0x39dfce['queryFirstNode'](_0x4dcdf2,'OSGFiles',_0x261976),_0x555238=_0x39dfce['queryNodes'](_0x2d60c3,'Files',_0x261976);if(_0x555238['length']>0x0)for(let _0x4b68ac=0x0,_0x1c76cb=_0x555238['length'];_0x4b68ac<_0x1c76cb;_0x4b68ac++){let _0x2dc18b=_0x555238[_0x4b68ac],_0x543e3f=_0x39dfce['queryStringValue'](_0x2dc18b,'FileName',_0x261976);_0x543e3f=_0x543e3f['replace'](_0x118837,'/'),_0x543e3f=_0x543e3f['replace'](/(\.osgb)/gi,'.s3m');let _0x30a133=_0x39dfce['queryFirstNode'](_0x2dc18b,'BoundingSphere',_0x261976),_0x5820a9={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}};if(_0x30a133&&_0x30a133['childNodes']['length']){let _0x677905=_0x39dfce['queryNumericValue'](_0x30a133,'CenterX',_0x261976),_0x57a079=_0x39dfce['queryNumericValue'](_0x30a133,'CenterY',_0x261976),_0x3dc9b9=_0x39dfce['queryNumericValue'](_0x30a133,'CenterZ',_0x261976),_0x1cc8e4=_0x39dfce['queryNumericValue'](_0x30a133,'Radius',_0x261976);_0x5820a9={'sphere':{'center':{'x':_0x677905,'y':_0x57a079,'z':_0x3dc9b9},'radius':_0x1cc8e4}};}let _0x4313c2=new _0x12e853(_0x2166e9,undefined,_0x5820a9,_0x543e3f);_0x4313c2['isRootTile']=!![],_0x2166e9['_cache']['add'](_0x4313c2),_0x2166e9['_rootTiles']['push'](_0x4313c2);}else{let _0x391943=_0x39dfce['queryNodes'](_0x2d60c3,'FileName',_0x261976);for(let _0x2e25c4=0x0,_0x1460e6=_0x391943['length'];_0x2e25c4<_0x1460e6;_0x2e25c4++){let _0x20c1ef=_0x391943[_0x2e25c4]['textContent'];_0x20c1ef=_0x20c1ef['replace'](_0x118837,'/'),_0x20c1ef=_0x20c1ef['replace'](/(\.osgb)/gi,'.s3m');let _0x1a770f={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}},_0x3d5beb=new _0x12e853(_0x2166e9,undefined,_0x1a770f,_0x20c1ef);_0x3d5beb['isRootTile']=!![],_0x2166e9['_cache']['add'](_0x3d5beb),_0x2166e9['_rootTiles']['push'](_0x3d5beb);}}}_0x2166e9['_readyPromise']['resolve'](_0x2166e9);},_0x5d884c=>{_0x2166e9['_readyPromise']['reject'](_0x5d884c);});};function _0x15bd98(_0x201187,_0x2e9e75){return _0x201187['priority']-_0x2e9e75['priority'];}function _0x8ba751(_0x52d1f6){let _0x3b83cc=_0x52d1f6['_requestTiles'],_0x16c51a=_0x3b83cc['length'];_0x3b83cc['sort'](_0x15bd98);for(let _0x5d3f63=0x0;_0x5d3f63<_0x16c51a;++_0x5d3f63){let _0x341440=_0x3b83cc[_0x5d3f63];_0x341440['requestContent']();}}function _0x2295f9(_0x593a94,_0x276b5d){let _0x4a1605=_0x593a94['_processTiles'],_0x5437c3=_0x4a1605['length'];for(let _0x16764b=0x0;_0x16764b<_0x5437c3;++_0x16764b){let _0x3b69dc=_0x4a1605[_0x16764b];_0x3b69dc['transformResource'](_0x276b5d,_0x593a94);}}function _0x2bd681(_0x8adaf0,_0x500627){for(let _0xd86cc0=0x0,_0x424276=_0x8adaf0['_renderQueue']['length'];_0xd86cc0<_0x424276;_0xd86cc0++){const _0x17930c=_0x8adaf0['_renderQueue'][_0xd86cc0];_0x17930c['update'](_0x500627,_0x8adaf0);}}function _0x43dced(_0x5a86bf,_0x3ae1cc){_0x3ae1cc['free']();}function _0x328a4c(_0x4b9367){_0x4b9367['_isS3MBlock']?_0x4b9367['_cache']['unloadBlockTiles'](_0x4b9367,_0x43dced):_0x4b9367['_cache']['unloadTiles'](_0x4b9367,_0x43dced);}_0x2da360['prototype']['releaseSelection']=function(){if(this['_selections']['length']<0x1)return;this['_removeObjsOperationType'](this['_selections'],_0x127527['SELECTED']),this['_selections']['length']=0x0;},_0x2da360['prototype']['setLodRangeScale']=function(_0x4b3029){this['_lodRangeScale']=_0x4b3029;},_0x2da360['prototype']['setSelection']=function(_0x5eba76){Cesium['Check']['defined']('setSelection\x20ids',_0x5eba76);if(!this['_selectEnabled'])return;!Array['isArray'](_0x5eba76)&&(_0x5eba76=[_0x5eba76]),!this['_multiChoose']&&this['releaseSelection'](),this['_selections']=this['_selections']['concat'](_0x5eba76),this['_setObjsOperationType'](_0x5eba76,_0x127527['SELECTED']);},_0x2da360['prototype']['getSelection']=function(){return[]['concat'](this['_selections']);},_0x2da360['prototype']['setObjsColor']=function(_0x37ae40,_0x809440){Cesium['Check']['defined']('setObjsColor\x20ids',_0x37ae40),Cesium['Check']['defined']('setObjsColor\x20color',_0x809440),Cesium['Check']['typeOf']['object']('setObjsColor\x20color',_0x809440);!Array['isArray'](_0x37ae40)&&(_0x37ae40=[_0x37ae40]);let _0x45be17={};for(let _0x7112ad=0x0,_0xed4605=_0x37ae40['length'];_0x7112ad<_0xed4605;_0x7112ad++){let _0x485431=_0x37ae40[_0x7112ad]+'';if(!Cesium['defined'](_0x485431))continue;this['_objsColorList'][_0x485431]=_0x809440,_0x45be17[_0x485431]=_0x809440;}this['_updateObjsColor'](_0x45be17);},_0x2da360['prototype']['removeObjsColor']=function(_0xab86f0){Cesium['Check']['defined']('removeObjsColor\x20ids',_0xab86f0);!Array['isArray'](_0xab86f0)&&(_0xab86f0=[_0xab86f0]);let _0x3a97a1={};for(let _0x289056=0x0,_0x361fb5=_0xab86f0['length'];_0x289056<_0x361fb5;_0x289056++){let _0x5476be=_0xab86f0[_0x289056];Cesium['defined'](this['_objsColorList'][_0x5476be])&&(_0x3a97a1[_0x5476be]=Cesium['Color']['TRANSPARENT'],delete this['_objsColorList'][_0x5476be]);}this['_removeObjsOperationType'](_0xab86f0,_0x127527['SetColor']),this['_updateObjsColor'](_0x3a97a1);},_0x2da360['prototype']['setOnlyObjsVisible']=function(_0x24881d,_0x170d58){Cesium['Check']['defined']('setOnlyObjsVisible\x20ids',_0x24881d),Cesium['Check']['typeOf']['bool']('setOnlyObjsVisible\x20isVisible',_0x170d58);!Array['isArray'](_0x24881d)&&(_0x24881d=[_0x24881d]);if(_0x24881d['length']===0x0){this['_allObjsHide']=_0x170d58,this['_objsVisibleList']['removeAll']();let _0x2f3aad=Object['keys'](this['_objsHideList']['_hash']);this['_removeObjsOperationType'](_0x2f3aad,_0x127527['HIDE']),this['_objsHideList']['removeAll'](),this['_updateAllObjsVisible'](!_0x170d58);return;}let _0x2c6227=this['_objsVisibleList'],_0x2abb5d=this['_objsHideList'],_0x3a1a72=this['_objsVisibleMap'];!_0x170d58?(_0x24881d['map'](function(_0x3ec3c9){_0x2c6227['remove'](_0x3ec3c9),_0x2abb5d['set'](_0x3ec3c9,!![]);}),this['_setObjsOperationType'](_0x24881d,_0x127527['HIDE'])):(_0x24881d['map'](function(_0x1f6ead){_0x2c6227['set'](_0x1f6ead,!![]),_0x2abb5d['remove'](_0x1f6ead);}),this['_removeObjsOperationType'](_0x24881d,_0x127527['HIDE']));},_0x2da360['prototype']['setObjsVisible']=function(_0x3c6d9f,_0x2bb519){if(_0x3c6d9f['length']===0x0){this['setOnlyObjsVisible']([],_0x2bb519);return;}this['setOnlyObjsVisible']([],_0x2bb519),this['setOnlyObjsVisible'](_0x3c6d9f,_0x2bb519);};function _0x200ac8(_0x180bda,_0x59713e,_0x2c33c7){let _0x48fda6=new Cesium['Cartesian3'](),_0x9342b=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0x59713e,_0x180bda,_0x48fda6),Cesium['Cartesian3']['subtract'](_0x2c33c7,_0x180bda,_0x9342b);let _0x5492b8=new Cesium['Cartesian3']();Cesium['Cartesian3']['cross'](_0x48fda6,_0x9342b,_0x5492b8),Cesium['Cartesian3']['normalize'](_0x5492b8,_0x5492b8);let _0x14d651=-Cesium['Cartesian3']['dot'](_0x5492b8,_0x180bda);return new Cesium['Cartesian4'](_0x5492b8['x'],_0x5492b8['y'],_0x5492b8['z'],_0x14d651);}function _0x182d68(_0x287a92,_0x1991e3){_0x287a92['clip'](_0x1991e3);}_0x2da360['prototype']['setCustomClipPlane']=function(_0x362817,_0x3bee22,_0x4ef979,_0x48efba){this['_sceneMode']===Cesium['SceneMode']['COLUMBUS_VIEW']&&(_0x362817=_0x5ba68f(_0x362817),_0x3bee22=_0x5ba68f(_0x3bee22),_0x4ef979=_0x5ba68f(_0x4ef979)),this['_oriClipPlane'][0x0]=_0x200ac8(_0x362817,_0x3bee22,_0x4ef979),this['_clipMode']=_0x3a7273['CLIP_BEHIND_ALL_PLANE'],this['_enableClipPlane']=!![],!this['_enableClip']&&this['_tranverseRenderEntity']({'enable':!![]},_0x182d68),this['_enableClip']=!![];},_0x2da360['prototype']['setCustomClipBox']=function(_0x553428){_0x553428=_0x553428||{};if((!_0x553428['dimensions']||!_0x553428['position'])&&(!_0x553428['planePos']||!_0x553428['planeNormal']))throw new Cesium['DeveloperError']('dimensions\x20position\x20is\x20required\x20to\x20create\x20CustomClipBox');this['_clipMode']=_0x3a7273['CLIP_BEHIND_ALL_PLANE'];if(Cesium['defined'](_0x553428['clipMode']))switch(_0x553428['clipMode']){case'clip_behind_any_plane':this['_clipMode']=_0x3a7273['CLIP_BEHIND_ANY_PLANE'];break;case'clip_behind_all_plane':this['_clipMode']=_0x3a7273['CLIP_BEHIND_ALL_PLANE'];break;case'only_keep_line':this['_clipMode']=_0x3a7273['ONLY_KEEP_LINE'];break;default:break;}if(_0x553428['dimensions']){let _0x2fa804=new Cesium['Matrix4'](),_0x1ee730=_0x553428['position'],_0xa44d90,_0x34f529,_0x1a4abe;_0xa44d90=_0x553428['heading']||0x0,_0x34f529=_0x553428['pitch']||0x0,_0x1a4abe=_0x553428['roll']||0x0;let _0x2087ca=new Cesium['HeadingPitchRoll'](_0xa44d90,_0x34f529,_0x1a4abe);if(this['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0x2fa804=Cesium['Transforms']['headingPitchRollToFixedFrame'](_0x1ee730,_0x2087ca,Cesium['Ellipsoid']['WGS84']);else{_0x2087ca=new Cesium['HeadingPitchRoll'](_0x34f529,-_0x1a4abe,-_0xa44d90);let _0x3b7cda=_0x5ba68f(_0x1ee730);Cesium['Matrix4']['setTranslation'](Cesium['Matrix4']['clone'](Cesium['Matrix4']['IDENTITY']),_0x3b7cda,_0x2fa804);let _0x53a22e=Cesium['Matrix3']['fromHeadingPitchRoll'](_0x2087ca);Cesium['Matrix4']['multiplyByMatrix3'](_0x2fa804,_0x53a22e,_0x2fa804);}let _0x19a417,_0xca9d26,_0x28daa9;this['_sceneMode']===Cesium['SceneMode']['SCENE3D']?(_0x19a417=_0x553428['dimensions']['x']*0.5,_0xca9d26=_0x553428['dimensions']['y']*0.5,_0x28daa9=_0x553428['dimensions']['z']*0.5):(_0x19a417=_0x553428['dimensions']['z']*0.5,_0xca9d26=_0x553428['dimensions']['x']*0.5,_0x28daa9=_0x553428['dimensions']['y']*0.5);let _0x39d016=[];_0x39d016[0x0]=new Cesium['Cartesian4'](-_0x19a417,_0xca9d26,_0x28daa9,0x1),_0x39d016[0x1]=new Cesium['Cartesian4'](_0x19a417,_0xca9d26,_0x28daa9,0x1),_0x39d016[0x2]=new Cesium['Cartesian4'](_0x19a417,-_0xca9d26,_0x28daa9,0x1),_0x39d016[0x3]=new Cesium['Cartesian4'](-_0x19a417,-_0xca9d26,_0x28daa9,0x1),_0x39d016[0x4]=new Cesium['Cartesian4'](-_0x19a417,_0xca9d26,-_0x28daa9,0x1),_0x39d016[0x5]=new Cesium['Cartesian4'](_0x19a417,_0xca9d26,-_0x28daa9,0x1),_0x39d016[0x6]=new Cesium['Cartesian4'](_0x19a417,-_0xca9d26,-_0x28daa9,0x1),_0x39d016[0x7]=new Cesium['Cartesian4'](-_0x19a417,-_0xca9d26,-_0x28daa9,0x1);for(let _0x143aeb=0x0;_0x143aeb<0x8;_0x143aeb++){Cesium['Matrix4']['multiplyByVector'](_0x2fa804,_0x39d016[_0x143aeb],_0x39d016[_0x143aeb]);}this['_oriClipPlane'][0x0]=Cesium['Cartesian4']['clone'](_0x200ac8(_0x39d016[0x0],_0x39d016[0x1],_0x39d016[0x2])),this['_oriClipPlane'][0x1]=Cesium['Cartesian4']['clone'](_0x200ac8(_0x39d016[0x0],_0x39d016[0x4],_0x39d016[0x1])),this['_oriClipPlane'][0x2]=Cesium['Cartesian4']['clone'](_0x200ac8(_0x39d016[0x0],_0x39d016[0x3],_0x39d016[0x4])),this['_oriClipPlane'][0x3]=Cesium['Cartesian4']['clone'](_0x200ac8(_0x39d016[0x6],_0x39d016[0x2],_0x39d016[0x5])),this['_oriClipPlane'][0x4]=Cesium['Cartesian4']['clone'](_0x200ac8(_0x39d016[0x6],_0x39d016[0x7],_0x39d016[0x2])),this['_oriClipPlane'][0x5]=Cesium['Cartesian4']['clone'](_0x200ac8(_0x39d016[0x6],_0x39d016[0x5],_0x39d016[0x7]));}else for(let _0x29ff20=0x0;_0x29ff20<_0x553428['planePos']['length'];_0x29ff20++){let _0x483f33=_0x553428['planePos'][_0x29ff20],_0x511230=_0x553428['planeNormal'][_0x29ff20];this['_oriClipPlane'][_0x29ff20]['x']=_0x511230['x'],this['_oriClipPlane'][_0x29ff20]['y']=_0x511230['y'],this['_oriClipPlane'][_0x29ff20]['z']=_0x511230['z'],this['_oriClipPlane'][_0x29ff20]['w']=-Cesium['Cartesian3']['dot'](_0x483f33,_0x511230);}!this['_enableClip']&&this['_tranverseRenderEntity']({'enable':!![]},_0x182d68),this['_enableClip']=!![];};function _0x5ba68f(_0x9a50ae){var _0xd3e34=new Cesium['GeographicProjection'](),_0x36a2b1=_0xd3e34['ellipsoid'],_0x4c3bf6=new Cesium['Cartesian3'](),_0x20fa8c=new Cesium['Cartographic']();return _0x36a2b1['cartesianToCartographic'](_0x9a50ae,_0x20fa8c),_0xd3e34['project'](_0x20fa8c,_0x4c3bf6),Cesium['Cartesian3']['fromElements'](_0x4c3bf6['z'],_0x4c3bf6['x'],_0x4c3bf6['y']);}_0x2da360['prototype']['clearCustomClipBox']=function(){this['_enableClip']=![],this['_enableClipPlane']=![],this['_tranverseRenderEntity']({'enable':![]},_0x182d68);},_0x2da360['prototype']['setModifyRegions']=function(_0x3bcb62,_0x1b2d20){this['clearModifyRegions']();if(_0x1b2d20==_0x4c41fe['CLIP_INSIDE']||_0x1b2d20==_0x4c41fe['CLIP_OUTSIDE']){var _0x2dea1f=_0x3bcb62['length'];for(var _0x34a110=0x0;_0x34a110<_0x2dea1f;_0x34a110++){var _0x31a715={'position':_0x3bcb62[_0x34a110],'name':'modify_'+_0x34a110};this['addExcavationRegion'](_0x31a715);}}this['_excavationMode']=_0x1b2d20;},_0x2da360['prototype']['clearModifyRegions']=function(){var _0x5d56a4=Object['keys'](this['_excavationRegions']['_hash']);for(var _0x5531ce=0x0,_0x25556e=_0x5d56a4['length'];_0x5531ce<_0x25556e;_0x5531ce++){var _0x257aa6=_0x5d56a4[_0x5531ce];_0x257aa6['startsWith']('modify_')&&this['removeExcavationRegion'](_0x257aa6);}},_0x2da360['prototype']['removeExcavationRegion']=function(_0x2f0399){var _0x55ae8d=this['_excavationRegions']['get'](_0x2f0399),_0x4fcf60=this['_excavationRegions']['remove'](_0x2f0399);if(!_0x4fcf60)return![];_0x55ae8d['destroy'](),this['_removeExcavationCommands'](_0x2f0399),this['_excavationUpdate']=!![];if(this['_excavationRegions']['values']['length']===0x0){this['_hasExcavation']=![],this['_excavationUpdate']=![];var _0x391a56={};_0x391a56['layer']=this,_0x391a56['enable']=![],this['_tranverseRenderEntity'](_0x391a56,_0x1a9e06);}return!![];},_0x2da360['prototype']['_removeExcavationCommands']=function(_0x3b2b6e){var _0x2c8b05=this['_excavateRegionCommands']['get'](_0x3b2b6e+'side'),_0x52da25=this['_excavateRegionCommands']['get'](_0x3b2b6e+'bottom');_0x2c8b05&&(_0x2c8b05['vertexArray']=_0x2c8b05['vertexArray']&&!_0x2c8b05['vertexArray']['isDestroyed']()&&_0x2c8b05['vertexArray']['destroy']()),_0x52da25&&(_0x52da25['vertexArray']=_0x52da25['vertexArray']&&!_0x52da25['vertexArray']['isDestroyed']()&&_0x52da25['vertexArray']['destroy']()),this['_excavateRegionCommands']['remove'](_0x3b2b6e+'side'),this['_excavateRegionCommands']['remove'](_0x3b2b6e+'bottom');},_0x2da360['prototype']['addExcavationRegion']=function(_0x31414b){var _0x14d049=_0x31414b['name'],_0xd4bd87=_0x31414b['position'],_0x38cf21=_0x31414b['height'];!Cesium['defined'](_0x14d049)&&Check['typeOf']['string']('options.name',_0x14d049);!Cesium['defined'](_0xd4bd87)&&Check['typeOf']['string']('options.position',_0xd4bd87);var _0x424989=this['_excavationRegions']['get'](_0x14d049);if(Cesium['defined'](_0x424989))return![];!Cesium['defined'](this['_excavationTexture'])&&(this['_excavationTexture']=new Cesium['Texture']({'context':this['context'],'width':this['_flattenTextureWidth'],'height':this['_flattenTextureWidth'],'pixelFormat':Cesium['PixelFormat']['RGBA']}),window['texture']=this['_excavationTexture']);var _0x263555=this['_createRasterRegion'](_0xd4bd87,_0x38cf21,Cesium['defined'](_0x38cf21));_0x263555['name']=_0x14d049,this['_excavationRegions']['set'](_0x14d049,_0x263555),this['_excavationUpdate']=!![],this['_hasExcavation']=!![];if(this['_excavationRegions']['values']['length']===0x1){var _0x350f33={};_0x350f33['layer']=this,_0x350f33['enable']=!![],this['_tranverseRenderEntity'](_0x350f33,_0x1a9e06);}return!![];};function _0x1a9e06(_0x699eff,_0x52bb15){_0x699eff['enableExcavation'](_0x52bb15);}_0x2da360['prototype']['_tranverseRenderEntity']=function(_0x1ab3af,_0x22939a){let _0x38098c=[];for(let _0x1f0d8c=0x0,_0x447969=this['_rootTiles']['length'];_0x1f0d8c<_0x447969;_0x1f0d8c++){let _0x26fb78=this['_rootTiles'][_0x1f0d8c];_0x38098c['push'](_0x26fb78);}while(_0x38098c['length']){let _0x388437=_0x38098c['pop']();for(let _0x22658c=0x0,_0x2c9d28=_0x388437['pageLods']['length'];_0x22658c<_0x2c9d28;_0x22658c++){const _0x322c71=_0x388437['pageLods'][_0x22658c],_0x30621f=_0x322c71['renderEntities'];for(let _0x5cb0a8=0x0,_0x406190=_0x30621f['length'];_0x5cb0a8<_0x406190;_0x5cb0a8++){const _0x214a51=_0x30621f[_0x5cb0a8];_0x214a51['ready']&&_0x22939a(_0x214a51,_0x1ab3af);}_0x322c71['childTile']&&_0x38098c['push'](_0x322c71['childTile']);}}};function _0x200f78(_0x4eae8c,_0x4dc225){_0x4eae8c['updateObjsOperation'](_0x4dc225['ids'],_0x4dc225);}_0x2da360['prototype']['_updateObjsOperation']=function(_0x363c2b){this['_tranverseRenderEntity']({'ids':_0x363c2b},_0x200f78);};function _0x559780(_0x4896d8,_0x16a69f){_0x4896d8['updateObjsColor'](_0x16a69f['ids'],_0x16a69f);}_0x2da360['prototype']['_updateObjsColor']=function(_0x238430){this['_tranverseRenderEntity']({'ids':_0x238430},_0x559780);};function _0x480262(_0x4ec14e,_0x32faf5){_0x4ec14e['updateAllObjsVisible'](_0x32faf5['isVisible']);}_0x2da360['prototype']['_updateAllObjsVisible']=function(_0x3000ca){this['_tranverseRenderEntity']({'isVisible':_0x3000ca},_0x480262);},_0x2da360['prototype']['_setObjsOperationType']=function(_0x4067a7,_0x1c9b47){Cesium['Check']['defined']('set\x20Objs\x20Operation\x20ids',_0x4067a7),Cesium['Check']['defined']('set\x20Objs\x20Operation\x20operationType',_0x1c9b47);!Array['isArray'](_0x4067a7)&&(_0x4067a7=[_0x4067a7]);let _0x4c328a=new Cesium['AssociativeArray'](),_0x3682cb;for(let _0xfb7da6=0x0,_0x53b034=_0x4067a7['length'];_0xfb7da6<_0x53b034;_0xfb7da6++){_0x3682cb=_0x4067a7[_0xfb7da6];if(!Cesium['defined'](_0x3682cb))continue;let _0x409a94=Cesium['defaultValue'](this['_objsOperationList']['get'](_0x3682cb),0x0);if(_0x409a94===_0x1c9b47)continue;_0x409a94=_0x409a94|_0x1c9b47,this['_objsOperationList']['set'](_0x3682cb,_0x409a94),_0x4c328a['set'](_0x3682cb,_0x409a94);}_0x4c328a['length']>0x0&&this['_updateObjsOperation'](_0x4c328a);},_0x2da360['prototype']['_removeObjsOperationType']=function(_0x120101,_0x30ef96){Cesium['Check']['defined']('set\x20Objs\x20Operation\x20ids',_0x120101);!Array['isArray'](_0x120101)&&(_0x120101=[_0x120101]);let _0x38510b=_0x127527['ALL']^_0x30ef96,_0x5261a3=new Cesium['AssociativeArray'](),_0xafca60;for(let _0x4161ed=0x0,_0x57a72a=_0x120101['length'];_0x4161ed<_0x57a72a;_0x4161ed++){_0xafca60=_0x120101[_0x4161ed];let _0x48ac5=this['_objsOperationList']['get'](_0xafca60);if(!Cesium['defined'](_0x48ac5))continue;_0x48ac5&=_0x38510b,_0x48ac5===_0x127527['RESET']?this['_objsOperationList']['remove'](_0xafca60):this['_objsOperationList']['set'](_0xafca60,_0x48ac5),_0x5261a3['set'](_0xafca60,_0x48ac5);}_0x5261a3['length']>0x0&&this['_updateObjsOperation'](_0x5261a3);},_0x2da360['prototype']['_createRasterRegion']=function(_0x53dad2){let _0x26b456=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x53dad2),_0x2c1321=new Cesium['PolygonGeometry']({'polygonHierarchy':{'positions':_0x26b456},'perPositionHeight':!![]}),_0x1e8461=Cesium['PolygonGeometry']['createGeometry'](_0x2c1321),_0x462502=new _0x4fd336();return _0x462502['updateGeometry'](_0x1e8461,this['invModelMatrix']),_0x462502['updateGeoBounds'](_0x1e8461),_0x462502;};function _0x4e18c2(_0x190124,_0x2010e4){_0x190124['flatten'](_0x2010e4);}_0x2da360['prototype']['addFlattenRegion']=function(_0x469ae2){let _0x195ff5=_0x469ae2['name'],_0x46e5b6=_0x469ae2['position'];if(!_0x195ff5||!_0x46e5b6)return;let _0x4e801a=this['_flattenPar'],_0x27a9a4=_0x4e801a['regions'];if(_0x27a9a4['contains'](_0x195ff5))return;!_0x4e801a['texture']&&(_0x4e801a['texture']=new Cesium['Texture']({'context':this['context'],'width':_0x4e801a['textureWidth'],'height':_0x4e801a['textureHeight'],'pixelFormat':Cesium['PixelFormat']['RGBA']}));let _0x52e9e9=this['_createRasterRegion'](_0x46e5b6);_0x27a9a4['set'](_0x195ff5,_0x52e9e9),_0x4e801a['isUpdate']=!![],_0x27a9a4['values']['length']===0x1&&this['_tranverseRenderEntity']({'enable':!![]},_0x4e18c2);};function _0x50c548(_0x219892,_0x33b932){_0x219892['hypsometric'](_0x33b932);}function _0x5d791c(_0xb63c14,_0x5e5762){_0xb63c14['swipe'](_0x5e5762);}function _0x483adc(_0x5bd54a){let _0x20e9cc=new Cesium['Cartesian4'](Number['MAX_VALUE'],Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);for(let _0x411833=0x0;_0x411833<_0x5bd54a['length'];_0x411833++){const _0x343188=_0x5bd54a[_0x411833]['bounds'];_0x20e9cc['x']=Math['min'](_0x343188['x'],_0x20e9cc['x']),_0x20e9cc['y']=Math['min'](_0x343188['y'],_0x20e9cc['y']),_0x20e9cc['z']=Math['max'](_0x343188['z'],_0x20e9cc['z']),_0x20e9cc['w']=Math['max'](_0x343188['w'],_0x20e9cc['w']);}return _0x20e9cc;}_0x2da360['prototype']['_updateFlattenFramebuffer']=function(_0x228be7){let _0x2cda4a=this['_flattenPar'];if(!_0x2cda4a['isUpdate'])return;_0x2cda4a['isUpdate']=![];let _0x1fdbe0=_0x2cda4a['regions'],_0x3ba775=_0x1fdbe0['values']['length'];_0x2cda4a['flattening']=_0x3ba775>0x0,_0x2cda4a['bounds']=_0x483adc(_0x1fdbe0['values']);let _0x477048=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x1,0x1,0x1,0x1),'depth':0x1});!_0x2cda4a['texture']&&(_0x2cda4a['texture']=new Cesium['Texture']({'context':this['context'],'width':_0x2cda4a['textureWidth'],'height':_0x2cda4a['textureHeight'],'pixelFormat':Cesium['PixelFormat']['RGBA']}));!_0x2cda4a['fbo']&&(_0x2cda4a['fbo']=new Cesium['Framebuffer']({'context':this['context'],'colorTextures':[_0x2cda4a['texture']],'destroyAttachments':![]}));_0x477048['framebuffer']=_0x2cda4a['fbo'],_0x477048['renderState']=Cesium['RenderState']['fromCache'](),_0x477048['execute'](this['context']);for(let _0x5cfe2a=0x0;_0x5cfe2a<_0x3ba775;_0x5cfe2a++){let _0x77a8d2=_0x1fdbe0['values'][_0x5cfe2a];_0x77a8d2['createCommand'](this['context'],_0x2cda4a['fbo']),_0x77a8d2['command']['uniformMap']={'uRect':function(){return _0x2cda4a['bounds'];}},_0x77a8d2['command']['execute'](this['context']);}},_0x2da360['prototype']['setVisibleInViewport']=function(_0x360683,_0x4f579a){if(_0x360683>0x8)throw new Cesium['DeveloperError']('the\x20index\x20is\x200~8');_0x4f579a?this['_visibleViewport']=0x1<<_0x360683|this['_visibleViewport']:this['_visibleViewport']=~(0x1<<_0x360683)&this['_visibleViewport'];},_0x2da360['prototype']['getVisibleInViewport']=function(_0x52c87e){if(_0x52c87e>0x8)throw new Cesium['DeveloperError']('the\x20index\x20is\x200~3');return 0x1<<_0x52c87e&this['_visibleViewport'];},_0x2da360['prototype']['_updateEdgeDistanceFalloffFactor']=function(){if(this['_edgeCurrentCount']===0x0){this['_edgeCurrentTotalLength']=0x0;return;}this['_edgeDistanceFalloffFactor']=this['_edgeCurrentTotalLength']/this['_edgeCurrentCount']*0x28,this['_edgeCurrentTotalLength']=0x0,this['_edgeCurrentCount']=0x0;},_0x2da360['prototype']['_addRenderedEdge']=function(_0x4e3849,_0x1ac105){this['_edgeCurrentTotalLength']+=_0x4e3849,this['_edgeCurrentCount']+=_0x1ac105;};function _0x5f3af5(_0x503910,_0x2a8002){if(!_0x503910['_waterPlanes'])return;let _0x596f24=_0x503910['_waterPlanes'];_0x2a8002['curDis']===undefined&&(_0x2a8002['curDis']=0x615299);_0x2a8002['heightOffset']===undefined&&(_0x2a8002['heightOffset']=0x0);let _0x362ad2=_0x2a8002['camera']['positionWC'];for(let _0x1c7b99 in _0x596f24['_hash']){if(_0x596f24['_hash']['hasOwnProperty'](_0x1c7b99)){let _0x4ac01d=_0x596f24['get'](_0x1c7b99),_0x25120c=_0x4ac01d['boundingVolume'];if(_0x2a8002['cullingVolume']['computeVisibility'](_0x25120c)===Cesium['Intersect']['OUTSIDE'])continue;let _0x3979dd=Cesium['Cartesian3']['distance'](_0x25120c['center'],_0x362ad2)-_0x25120c['radius'];_0x3979dd=_0x3979dd<0.01?0.01:_0x3979dd,_0x3979dd<_0x2a8002['curDis']&&(_0x2a8002['curDis']=_0x3979dd,_0x2a8002['heightOffset']=_0x4ac01d['distance']);}}}_0x2da360['prototype']['addWaterPlane']=function(_0x6af31c){let _0x68a41a=this['_waterPlanes']['length'];return this['_waterPlanes']['set'](_0x68a41a,_0x6af31c),_0x68a41a;},_0x2da360['prototype']['removeWaterPlane']=function(_0x44553d){this['_waterPlanes']['remove'](_0x44553d);},_0x2da360['prototype']['prePassesUpdate']=function(_0xe70634){if(!this['ready'])return;_0xe70634['newFrame']&&(this['_cache']['reset'](),this['_requestTiles']['length']=0x0,this['_processTiles']['length']=0x0,this['_renderQueue']['length']=0x0,Cesium['defined'](_0xe70634['brdfLutGenerator'])&&_0xe70634['brdfLutGenerator']['update'](_0xe70634),_0x5f3af5(this,_0xe70634));};let _0x52e3ff=new Cesium['Matrix4']();_0x2da360['prototype']['postPassesUpdate']=function(_0x5bf963){if(!this['ready'])return;_0x328a4c(this),this['_updateFlattenFramebuffer'](_0x5bf963),this['_updateEdgeDistanceFalloffFactor'](),this['_updateExcavationFrameBuffer'](_0x5bf963),this['_subTextureManager']&&this['_subTextureManager']['processRequests'](this['id']);};function _0x383c3a(_0x231b50,_0x10ac5c){let _0x48c7dc=_0x10ac5c['camera'];if(_0x48c7dc['positionCartographic']['height']<_0x231b50['_minVisibleAltitude']||_0x48c7dc['positionCartographic']['height']>_0x231b50['_maxVisibleAltitude'])return![];if(!_0x231b50['getVisibleInViewport'](_0x10ac5c['multiViewportIndex']))return![];return _0x231b50['visible'];}function _0x54fe79(_0xbd3da8,_0x35be9c){if(_0xbd3da8['_enableClip']){let _0x33790b=_0x35be9c['camera']['inverseViewMatrix'];Cesium['Matrix4']['transpose'](_0x33790b,_0x52e3ff);for(let _0x2a8c5a=0x0;_0x2a8c5a<0x6;_0x2a8c5a++){Cesium['Matrix4']['multiplyByVector'](_0x52e3ff,_0xbd3da8['_oriClipPlane'][_0x2a8c5a],_0xbd3da8['_clipPlane'][_0x2a8c5a]);}}}function _0x276b43(_0x5ec226){var _0x277acb=0x0;Cesium['defined'](_0x5ec226['style3D'])&&(_0x277acb=_0x5ec226['style3D']['bottomAltitude']);var _0x5c6cf0=_0x5ec226['height']+_0x277acb,_0x49200b=_0x5ec226['lon'],_0x3abd4f=_0x5ec226['lat'];if(_0x5ec226['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0x5ec226['_position']=Cesium['Cartesian3']['fromDegrees'](_0x49200b,_0x3abd4f,_0x5c6cf0),_0x5ec226['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0x5ec226['_position']),_0x5ec226['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x5ec226['modelMatrix'],_0x5ec226['invModelMatrix']);else{if(_0x49200b>0xb4||_0x49200b<-0xb4||_0x3abd4f>0xb4||_0x3abd4f<-0xb4){let _0x55bcc1=_0x49200b,_0x188dad=_0x3abd4f;_0x5ec226['_position']=new Cesium['Cartesian3'](_0x55bcc1,_0x188dad,_0x5c6cf0);}else{let _0x3cde7f=new Cesium['GeographicProjection'](),_0x1e6dc3=Cesium['Cartesian3']['fromDegrees'](_0x49200b,_0x3abd4f,_0x5c6cf0),_0x1a547f=_0x3cde7f['ellipsoid']['cartesianToCartographic'](_0x1e6dc3);_0x5ec226['_position']=_0x3cde7f['project'](_0x1a547f);}Cesium['Matrix4']['fromTranslation'](_0x5ec226['_position'],_0x5ec226['modelMatrix']),Cesium['Matrix4']['multiply'](_0x1c8a73,_0x5ec226['modelMatrix'],_0x5ec226['modelMatrix']),_0x5ec226['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x5ec226['modelMatrix'],_0x5ec226['invModelMatrix']);}}_0x2da360['prototype']['update']=function(_0x3d96ab){if(!this['ready']||!_0x383c3a(this,_0x3d96ab))return;this['_PBRMaterialParams']['loadingTexture']&&this['_updatePBRMaterial']();if(this['_textureCompressType']===_0x45b2d2['CRN_DXT5']&&!_0x27e44f['wasmReady']){_0x27e44f['init']();return;}this['_schuduler']['schedule'](this,_0x3d96ab),_0x8ba751(this),_0x2295f9(this,_0x3d96ab),_0x2bd681(this,_0x3d96ab),_0x54fe79(this,_0x3d96ab);var _0x41b176=this['_excavateRegionCommands']['values']['length'];for(var _0x455f85=0x0;_0x455f85<_0x41b176;_0x455f85++){var _0xfac192=this['_excavateRegionCommands']['values'][_0x455f85];_0x3d96ab['commandList']['push'](_0xfac192);}this['_style3D']['_dirty']&&(_0x276b43(this),this['_style3D']['_dirty']=![]),this['_frameState']=_0x3d96ab;},_0x2da360['prototype']['setPBRMaterialFromJSON']=function(_0x7f7812){var _0x49981c=this,_0x2fa650=typeof _0x7f7812==='string';_0x49981c['_PBRMaterialParams']['baseUri']=_0x2fa650?Cesium['getBaseUri'](_0x7f7812):'';if(_0x2fa650){let _0x1a12fe=Cesium['Resource']['createIfNeeded'](_0x7f7812);_0x1a12fe['fetchJson'](_0x7f7812)['then'](function(_0x165d66){_0x30f46b(_0x165d66,_0x49981c);});}else _0x30f46b(_0x7f7812,_0x49981c);};function _0x30f46b(_0x4e3051,_0x2c6362){var _0x252924=_0x2c6362,_0x52babb=_0x252924['_PBRMaterialParams']['baseUri'];_0x252924['_PBRMaterialParams']=_0x4e3051['material'],_0x252924['_PBRMaterialParams']['baseUri']=_0x52babb,_0x252924['_loadMaterialTexture'](_0x252924['_PBRMaterialParams'],_0x52babb);var _0x1ce31d=_0x252924['_PBRMaterialParams']['pbrMetallicRoughness'],_0x2b1ba7=_0x252924['_PBRMaterialParams']['textureunitstates'];Cesium['defined'](_0x1ce31d['volume'])&&(_0x252924['_PBRMaterialParams']['pbrMetallicRoughness']['volume']={'thickness':0x1,'tintColor':Cesium['Cartesian4']['fromElements'](0x1,0x1,0x1,0x1),'diffusionDistance':Cesium['Cartesian4']['fromElements'](0x1,0x1,0x1,0x1),'transmissionFactor':0x1});Cesium['defined'](_0x1ce31d['clearcoat'])&&(_0x252924['_PBRMaterialParams']['pbrMetallicRoughness']['clearcoat']={'clearcoatFactor':0x0,'clearcoatRoughnessFactor':0x0});if(Cesium['defined'](_0x1ce31d['snowEffect'])&&_0x1ce31d['snowEffect']['snowNormalTextureIndex']!==-0x1){var _0x10c9de=_0x52babb+_0x2b1ba7[_0x1ce31d['snowEffect']['snowNormalTextureIndex']]['textureunitstate']['url'];_0x252924['_PBRMaterialParams']['pendingTextureCount']++,_0x4b80a2(_0x252924['context'],_0x10c9de,_0x252924['_PBRMaterialParams'],_0x252924['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect'],'snowNormalTexture');}if(Cesium['defined'](_0x1ce31d['snowEffect'])&&_0x1ce31d['snowEffect']['snowMaskTextureIndex']!==-0x1){var _0x10c9de=_0x52babb+_0x2b1ba7[_0x1ce31d['snowEffect']['snowMaskTextureIndex']]['textureunitstate']['url'];_0x252924['_PBRMaterialParams']['pendingTextureCount']++,_0x4b80a2(_0x252924['context'],_0x10c9de,_0x252924['_PBRMaterialParams'],_0x252924['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect'],'snowMaskTexture');}if(Cesium['defined'](_0x1ce31d['rainEffect'])&&_0x1ce31d['rainEffect']['rippleTextureIndex']!==-0x1){var _0x10c9de=_0x52babb+_0x2b1ba7[_0x1ce31d['rainEffect']['rippleTextureIndex']]['textureunitstate']['url'];_0x252924['_PBRMaterialParams']['pendingTextureCount']++,_0x4b80a2(_0x252924['context'],_0x10c9de,_0x252924['_PBRMaterialParams'],_0x252924['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect'],'rippleTexture');}}function _0xcc01b7(_0x406619,_0x677bf6){_0x406619['pbrParameterChange'](_0x677bf6);}_0x2da360['prototype']['_updatePBRMaterial']=function(){if(!Cesium['defined'](this['_PBRMaterialParams'])||!Cesium['defined'](this['_PBRMaterialParams']['pendingTextureCount']))return;if(this['_PBRMaterialParams']['pendingTextureCount']===this['_PBRMaterialParams']['readyTextureCount']){var _0x7fa66c={};_0x7fa66c['enable']=!![],_0x7fa66c['layer']=this,this['_tranverseRenderEntity'](_0x7fa66c,_0xcc01b7),this['_PBRMaterialParams']['loadingTexture']=![];}},_0x2da360['prototype']['removePBRMaterial']=function(){var _0x9381b=this['_PBRMaterialParams']['pbrMetallicRoughness'];for(var _0x4b2b53 in _0x9381b){_0x9381b['hasOwnProperty'](_0x4b2b53)&&_0x9381b[_0x4b2b53]instanceof Cesium['Texture']&&_0x9381b[_0x4b2b53]['destroy']();}this['_PBRMaterialParams']={'pbrMetallicRoughness':{'metallicFactor':0x0,'roughnessFactor':0x0,'baseColor':new Cartesian4(0x1,0x1,0x1,0x1),'baseColorTextureIndex':-0x1,'emissiveFactor':Cartesian3['ZERO'],'emissiveTextureIndex':-0x1,'occlusionTextureIndex':-0x1,'metallicRoughnessTextureIndex':-0x1,'normalTextureIndex':-0x1,'normalTexture':undefined,'baseColorTexture':undefined,'intensityScale':0x1,'snowEffect':undefined,'rainEffect':undefined,'volume':undefined,'clearcoat':undefined,'anisotropy':undefined},'loadingTexture':undefined};var _0x469699={};_0x469699['enable']=!![],_0x469699['layer']=this,this['_tranverseRenderEntity'](_0x469699,_0xcc01b7);};function _0x4b80a2(_0x3fd6e1,_0xa2472f,_0x537644,_0x56398f,_0x2dc9de){var _0x402cab=Cesium['Resource']['createIfNeeded'](_0xa2472f),_0x3089a3=_0x402cab['fetchImage']()['then'](function(_0x1d4feb){var _0x5ba143=new Cesium['Texture']({'context':_0x3fd6e1,'source':_0x1d4feb,'sampler':new Cesium['Sampler']({'wrapS':Cesium['TextureWrap']['REPEAT'],'wrapT':Cesium['TextureWrap']['REPEAT'],'minificationFilter':Cesium['TextureMinificationFilter']['LINEAR_MIPMAP_LINEAR'],'magnificationFilter':Cesium['TextureMinificationFilter']['LINEAR']})}),_0x2d9f4a=!Cesium['Math']['isPowerOfTwo'](_0x5ba143['width'])||!Cesium['Math']['isPowerOfTwo'](_0x5ba143['height']);!_0x2d9f4a&&_0x5ba143['generateMipmap'](Cesium['MipmapHint']['NICEST']),_0x56398f[_0x2dc9de]=_0x5ba143,_0x537644['readyTextureCount']++;},_0xd403c0=>{console['error'](_0xd403c0),_0x537644['pendingTextureCount']--;});_0x56398f[_0x2dc9de]=_0x3089a3;}_0x2da360['prototype']['_loadMaterialTexture']=function(_0x3230cc,_0x576f88){_0x3230cc['loadingTexture']=!![];var _0x3399a6=_0x3230cc['pbrMetallicRoughness'],_0x2d902b=_0x3230cc['textureunitstates'],_0x1a795b=_0x3399a6['baseColorTextureIndex'];!Cesium['defined'](_0x3230cc['pendingTextureCount'])&&(_0x3230cc['pendingTextureCount']=0x0);!Cesium['defined'](_0x3230cc['readyTextureCount'])&&(_0x3230cc['readyTextureCount']=0x0);var _0x1cc09b,_0x1083c8,_0x536da0=this['context'],_0x40be4c=Cesium['defined'](_0x576f88)?_0x576f88:this['_baseUri']+this['_materialRelativePath'];_0x1a795b>-0x1&&!Cesium['defined'](_0x3399a6['baseColorTexture'])&&(_0x1083c8=_0x2d902b[_0x1a795b],_0x1cc09b=_0x40be4c+_0x1083c8['textureunitstate']['url'],_0x4b80a2(_0x536da0,_0x1cc09b,_0x3230cc,_0x3230cc['pbrMetallicRoughness'],'baseColorTexture'),_0x3230cc['pendingTextureCount']++);var _0x39c93b=_0x3399a6['emissiveTextureIndex'];_0x39c93b>-0x1&&!Cesium['defined'](_0x3399a6['emissiveTexture'])&&(_0x1083c8=_0x2d902b[_0x39c93b],_0x1cc09b=_0x40be4c+_0x1083c8['textureunitstate']['url'],_0x4b80a2(_0x536da0,_0x1cc09b,_0x3230cc,_0x3230cc['pbrMetallicRoughness'],'emissiveTexture'),_0x3230cc['pendingTextureCount']++);var _0x252f15=_0x3399a6['normalTextureIndex'];_0x252f15>-0x1&&!Cesium['defined'](_0x3399a6['normalTexture'])&&(_0x1083c8=_0x2d902b[_0x252f15],_0x1cc09b=_0x40be4c+_0x1083c8['textureunitstate']['url'],_0x4b80a2(_0x536da0,_0x1cc09b,_0x3230cc,_0x3230cc['pbrMetallicRoughness'],'normalTexture'),_0x3230cc['pendingTextureCount']++);var _0x3c4d1d=_0x3399a6['metallicRoughnessTextureIndex'];_0x3c4d1d>-0x1&&!Cesium['defined'](_0x3399a6['metallicRoughnessTexture'])&&(_0x1083c8=_0x2d902b[_0x3c4d1d],_0x1cc09b=_0x40be4c+_0x1083c8['textureunitstate']['url'],_0x4b80a2(_0x536da0,_0x1cc09b,_0x3230cc,_0x3230cc['pbrMetallicRoughness'],'metallicRoughnessTexture'),_0x3230cc['pendingTextureCount']++);var _0x5afe4f=_0x3399a6['occlusionTextureIndex'];_0x5afe4f>-0x1&&!Cesium['defined'](_0x3399a6['occlusionTexture'])&&(_0x1083c8=_0x2d902b[_0x5afe4f],_0x1cc09b=_0x40be4c+_0x1083c8['textureunitstate']['url'],_0x4b80a2(_0x536da0,_0x1cc09b,_0x3230cc,_0x3230cc['pbrMetallicRoughness'],'occlusionTexture'),_0x3230cc['pendingTextureCount']++);},_0x2da360['prototype']['_updateExcavationFrameBuffer']=function(_0x5bfd14){if(!this['_excavationUpdate'])return;let _0x19be60=this['context'];for(var _0x360380 in _0x5bfd14['_framebufferList']){_0x360380['indexOf']('_excavationHeightLayer')>-0x1&&!Cesium['defined'](this['_excavationRegions']['get'](_0x360380['slice'](0x16)))&&(_0x5bfd14['_framebufferList'][_0x360380]=!_0x5bfd14['_framebufferList'][_0x360380]['isDestroyed']()&&_0x5bfd14['_framebufferList'][_0x360380]['destroy'](),delete _0x5bfd14['_framebufferList'][_0x360380]);}var _0x54899d=this['_excavationRegions']['values']['length'];this['_hasExcavation']=_0x54899d>0x0,this['_excavationUpdate']=![],this['_excavationBounds']=_0x483adc(this['_excavationRegions']['values']);var _0x20de0b=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x0,0x0,0x0,0x0),'depth':0x1});_0x20de0b['framebuffer']=new Cesium['Framebuffer']({'context':_0x19be60,'colorTextures':[this['_excavationTexture']],'destroyAttachments':![]}),_0x20de0b['renderState']=Cesium['RenderState']['fromCache'](),_0x20de0b['execute'](_0x19be60);for(var _0x31eac4=0x0;_0x31eac4<_0x54899d;_0x31eac4++){var _0x15f752=this['_excavationRegions']['values'][_0x31eac4];this['createRasterRegionDrawCommand'](_0x19be60,_0x15f752,this['_excavationTexture'],_0x5d5d5f['Color']);var _0x454b8d=this;_0x15f752['_command']['uniformMap']={'uRect':function(){return _0x454b8d['_excavationBounds'];}},_0x15f752['_command']['execute'](_0x19be60);}_0x20de0b['framebuffer']['destroy']();},_0x2da360['prototype']['createRasterRegionDrawCommand']=function(_0xdd93d4,_0x22c6d5,_0x5f0a19,_0x53f5e1){if(!Cesium['defined'](_0x22c6d5)||Cesium['defined'](_0x22c6d5['_command']))return;var _0x4910bf=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['TRIANGLES']});_0x22c6d5['_command']=_0x4910bf;var _0x163d63={'position':0x0};_0x4910bf['vertexArray']=Cesium['VertexArray']['fromGeometry']({'context':_0xdd93d4,'geometry':_0x22c6d5['geometry'],'attributeLocations':_0x163d63,'bufferUsage':Cesium['BufferUsage']['STATIC_DRAW'],'interleave':!![],'owner':this['name']});var _0x552f0b=new Cesium['ShaderSource']({'sources':[_0x35d192]});if(_0x53f5e1==_0x5d5d5f['Altitude'])_0x552f0b['defines']['push']('Mode_Height'),_0x5f0a19['pixelDatatype']===PixelDatatype['FLOAT']&&_0x552f0b['defines']['push']('UseFloatTexture'),_0x4910bf['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionAltitudeSp','context':_0xdd93d4,'vertexShaderSource':_0x180f78,'fragmentShaderSource':_0x552f0b,'attributeLocations':_0x163d63});else _0x53f5e1==_0x5d5d5f['Texture']?(_0x552f0b['defines']['push']('OVERLAY'),_0x4910bf['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionTextureSp','context':_0xdd93d4,'vertexShaderSource':_0x3ad478,'fragmentShaderSource':_0x552f0b,'attributeLocations':_0x163d63})):_0x4910bf['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionRasterSp','context':_0xdd93d4,'vertexShaderSource':_0x229e84,'fragmentShaderSource':_0x552f0b,'attributeLocations':_0x163d63});_0x4910bf['framebuffer']=new Cesium['Framebuffer']({'context':_0xdd93d4,'colorTextures':[_0x5f0a19],'destroyAttachments':![]}),_0x4910bf['renderState']=Cesium['RenderState']['fromCache']({'viewport':new Cesium['BoundingRectangle'](0x0,0x0,this['_flattenTextureWidth'],this['_flattenTextureWidth'])});},_0x2da360['prototype']['isDestroyed']=function(){return![];},_0x2da360['prototype']['destroy']=function(){this['_cache']['reset'](),_0x328a4c(this),this['_rootTiles']['length']=0x0,this['_requestTiles']['length']=0x0,this['_processTiles']['length']=0x0,this['_renderQueue']['length']=0x0,this['_selections']['length']=0x0,this['_objsOperationList']['removeAll'](),this['_objsVisibleList']['removeAll'](),this['_objsHideList']['removeAll'](),this['_objsVisibleMap']={},this['_objsColorList']={},this['_hypsometric']['destroy'](),this['_flattenPar']['destroy']();var _0x504a4c=Object['keys'](this['_excavationRegions']['_hash']);for(var _0x30d303=0x0,_0x2846bc=_0x504a4c['length'];_0x30d303<_0x2846bc;_0x30d303++){var _0x178342=_0x504a4c[_0x30d303],_0x15a84f=this['_excavationRegions']['get'](_0x178342);_0x15a84f['destroy'](),this['_removeExcavationCommands'](_0x178342);}return this['_excavationRegions']['removeAll'](),delete this['_excavationBounds'],this['_excavationBounds']=null,defined(this['_excavationTexture'])&&(this['_excavationTexture']['destroy'](),this['_excavationTexture']=null),defined(this['_excavationSideTexture'])&&(this['_excavationSideTexture']['destroy'](),this['_excavationSideTexture']=null),defined(this['_excavationBottomTexture'])&&(this['_excavationBottomTexture']['destroy'](),this['_excavationBottomTexture']=null),Cesium['destroyObject'](this);};export default _0x2da360;