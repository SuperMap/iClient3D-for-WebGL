const _0x5e3497=(function(){let _0xc144ef=!![];return function(_0x4a1c82,_0x2063b2){const _0x245f72=_0xc144ef?function(){if(_0x2063b2){const _0x3d6c3c=_0x2063b2['apply'](_0x4a1c82,arguments);return _0x2063b2=null,_0x3d6c3c;}}:function(){};return _0xc144ef=![],_0x245f72;};}()),_0x1e5892=_0x5e3497(this,function(){return _0x1e5892['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x1e5892)['search']('(((.+)+)+)+$');});_0x1e5892();import _0x56b847 from'./S3MTile.js';import _0x422f6e from'./S3MLayerScheduler.js';import _0x37e5b9 from'./S3MLayerCache.js';import _0x4f70a0 from'./Enum/OperationType.js';import _0x5a20e6 from'./Enum/PLANECLIPMODE.js';import _0x55fcf7 from'./Hypsometric.js';import _0x2b1482 from'./HypsometricSetting.js';import _0x5467b0 from'./Enum/HypsometricSettingEnum.js';import _0xb49015 from'./Parameter/Flatten.js';import _0x278752 from'./RasterRegion.js';import _0xad0174 from'../Ext/XmlParser.js';import _0x1298ab from'./Style3D.js';import _0x416bf8 from'./S3MBlockCache.js';import _0x5b95a9 from'../ThirdParty/defer.js';import _0x2c3b1e from'../ThirdParty/Uri.js';import _0x2993ae from'./Enum/TextureCompressType.js';import _0x1cc62b from'../Core/CRNTranscoder.js';import _0x3c2b4a from'../Core/KTX2Transcoder.js';import _0x14471c from'./Enum/ModifyRegionMode.js';import _0x566cd3 from'./shaders/RegionVectex.js';import _0x622c68 from'./shaders/RegionTextureVertex.js';import _0xb82d6 from'./shaders/RegionAltitudeVectex.js';import _0x11df36 from'./shaders/RegionFragment.js';import _0x398a18 from'./S3MDracoDecode.js';import _0x4f809c from'./Enum/SelectColorType.js';import _0x53ae50 from'./Enum/MixColorType.js';var _0x59fd86=new Cesium['Matrix4'](0x0,0x0,0x1,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x0,0x1),_0x9eb517={'Altitude':0x0,'Color':0x1,'Texture':0x2};function _0x588517(_0x12cab2){_0x12cab2=Cesium['defaultValue'](_0x12cab2,Cesium['defaultValue']['EMPTY_OBJECT']),Cesium['Check']['defined']('options.context',_0x12cab2['context']),Cesium['Check']['defined']('Authentication\x20error',_0x12cab2['rss']),this['id']=Cesium['createGuid'](),this['name']=_0x12cab2['name'],this['context']=_0x12cab2['context'],this['_isS3MB']=Cesium['defaultValue'](_0x12cab2['isS3MB'],!![]),this['_isS3MBlock']=Cesium['defaultValue'](_0x12cab2['isS3MBlock'],![]),this['_url']=undefined,this['_basePath']=undefined,this['_baseResource']=undefined,this['modelMatrix']=new Cesium['Matrix4'](),this['invModelMatrix']=new Cesium['Matrix4'](),this['fileType']=undefined,this['dataVersion']=0x1,this['_position']=undefined,this['_rectangle']=undefined,this['_rootTiles']=[],this['_schuduler']=new _0x422f6e(),this['_requestTiles']=[],this['_processTiles']=[],this['_renderQueue']=[],this['_cache']=new _0x37e5b9(),this['_vertexCompressionType']=_0x12cab2['vertexCompressionType'],this['_textureCompressType']=_0x2993ae['None'],this['_maximumMemoryUsage']=-0x1,this['_totalMemoryUsageInBytes']=0x0,this['_maximumPriority']={'foveatedFactor':-Number['MAX_VALUE'],'depth':-Number['MAX_VALUE'],'distance':-Number['MAX_VALUE'],'pixel':-Number['MAX_VALUE']},this['_minimumPriority']={'foveatedFactor':Number['MAX_VALUE'],'depth':Number['MAX_VALUE'],'distance':Number['MAX_VALUE'],'pixel':Number['MAX_VALUE']},this['_readyPromise']=_0x5b95a9(),this['_selectEnabled']=Cesium['defaultValue'](_0x12cab2['selectEnabled'],!![]),this['_multiChoose']=![],this['_sceneMode']=Cesium['defaultValue'](_0x12cab2['sceneMode'],Cesium['SceneMode']['SCENE3D']),this['_selections']=[],this['_selectedColor']=new Cesium['Color'](0.7,0.7,0x1,0x1),this['_objsOperationList']=new Cesium['AssociativeArray'](),this['_objsVisibleList']=new Cesium['AssociativeArray'](),this['_objsHideList']=new Cesium['AssociativeArray'](),this['_objsVisibleMap']={},this['_objsColorList']={},this['_allObjsHide']=![],this['_flattenTextureWidth']=0x400,this['_clipMode']=_0x5a20e6['CLIP_NOTHING'],this['_excavationMode']=_0x14471c['CLIP_INSIDE'],this['_excavationTexture']=undefined,this['_excavationRegions']=new Cesium['AssociativeArray'](),this['_excavationBounds']=new Cesium['Cartesian4'](),this['_excavateRegionCommands']=new Cesium['AssociativeArray'](),this['_excavationUpdate']=![],this['_hasExcavation']=![],this['_enableClip']=![],this['_enableClipPlane']=![],this['_clipPlane']=[new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0)],this['_oriClipPlane']=[new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0)],this['_hypsometric']=new _0x55fcf7({}),this['_flattenPar']=new _0xb49015(),this['_minCategory']=0x0,this['_maxCategory']=0x0,this['_minHeight']=0x0,this['_maxHeight']=0x0,this['_swipeRegion']=new Cesium['Cartesian4'](0x0,0x0,0x1,0x1),this['_swipeEnabled']=![],this['_brightness']=Cesium['defaultValue'](_0x12cab2['brightness'],0x1),this['_contrast']=Cesium['defaultValue'](_0x12cab2['constrast'],0x1),this['_hue']=Cesium['defaultValue'](_0x12cab2['hue'],0x0),this['_saturation']=Cesium['defaultValue'](_0x12cab2['saturation'],0x1),this['_gamma']=Cesium['defaultValue'](_0x12cab2['gamma'],0x1),this['_visibleDistanceMax']=Cesium['defaultValue'](_0x12cab2['maxVisibleDistance'],Number['MAX_VALUE']),this['_visibleDistanceMin']=Cesium['defaultValue'](_0x12cab2['minVisibleDistance'],0x0),this['_minVisibleAltitude']=Cesium['defaultValue'](_0x12cab2['minVisibleAltitude'],0x0),this['_maxVisibleAltitude']=Cesium['defaultValue'](_0x12cab2['maxVisibleAltitude'],Number['MAX_VALUE']),this['_lodRangeScale']=Cesium['defaultValue'](_0x12cab2['lodRangeScale'],0x1),this['_visible']=Cesium['defaultValue'](_0x12cab2['isVisible'],!![]),this['_style3D']=Cesium['defaultValue'](_0x12cab2['style3D'],new _0x1298ab()),this['_isTransparencyOptimization']=![],this['_polygonOffsetConfig']=_0x12cab2['polygonOffset'],this['_visibleViewport']=0xfff,this['_waterParameters']=undefined,this['_waterPlanes']=undefined,this['_edgeDistanceFalloffFactor']=0x0,this['_edgeCurrentTotalLength']=0x0,this['_edgeCurrentCount']=0x0,this['_blockCache']=_0x416bf8['getSingleInstance'](),this['_materialManager']=undefined,this['_subTextureManager']=undefined,this['_isOverlapDisplayed']=![],this['_iconRelatedTextLayerID']=undefined,this['_subdomainConfig']=Cesium['defaultValue'](_0x12cab2['subdomainConfig'],{}),this['_PBRMaterialParams']={'pbrMetallicRoughness':{'metallicFactor':0x0,'roughnessFactor':0x0,'baseColor':new Cesium['Cartesian4'](0x1,0x1,0x1,0x1),'baseColorTextureIndex':-0x1,'emissiveFactor':Cesium['Cartesian3']['ZERO'],'emissiveTextureIndex':-0x1,'occlusionTextureIndex':-0x1,'normalTextureIndex':-0x1,'normalTexture':undefined,'baseColorTexture':undefined}},this['_customRequestHeaders']=_0x12cab2['customRequestHeaders'],this['_overlapWeightAttributeName']=undefined,this['_heightRangeAttributeName']=undefined,this['_pickObjs']={},this['_selectColorType']=_0x4f809c['MIX'],this['_mixColorType']=_0x53ae50['MIX'],this['loadConfig'](_0x12cab2['url']);}Object['defineProperties'](_0x588517['prototype'],{'ready':{'get':function(){if(this['fileType']==='OSGBCacheFile_Water')return this['_waterParameters']!==undefined&&this['_rootTiles']['length']>0x0;return this['_rootTiles']['length']>0x0;}},'readyPromise':{'get':function(){return this['_readyPromise']['promise'];}},'visible':{'get':function(){return this['_visible'];},'set':function(_0x217f94){this['_visible']=_0x217f94;}},'show':{'get':function(){return this['_visible'];},'set':function(_0xc76d97){this['_visible']=_0xc76d97;}},'style3D':{'get':function(){return this['_style3D'];}},'rectangle':{'get':function(){return this['_rectangle'];}},'totalMemoryUsageInBytes':{'get':function(){return this['_totalMemoryUsageInBytes'];},'set':function(_0x424b35){this['_totalMemoryUsageInBytes']=_0x424b35;}},'maximumMemoryUsage':{'get':function(){return this['_maximumMemoryUsage'];},'set':function(_0x3698d8){this['_maximumMemoryUsage']=_0x3698d8;}},'lodRangeScale':{'get':function(){return this['_lodRangeScale'];},'set':function(_0x11b2fb){Cesium['Check']['typeOf']['number']('set\x20layer\x20lod\x20range\x20scale',_0x11b2fb),this['_lodRangeScale']=_0x11b2fb;}},'selectedColor':{'get':function(){return this['_selectedColor'];},'set':function(_0x206100){Cesium['Color']['clone'](_0x206100,this['_selectedColor']);}},'dataMinValue':{'get':function(){return Cesium['defaultValue'](this['_minCategory'],this['_minHeight']);}},'dataMaxValue':{'get':function(){return Cesium['defaultValue'](this['_maxCategory'],this['_maxHeight']);}},'swipeRegion':{'get':function(){return new Cesium['BoundingRectangle'](this['_swipeRegion']['x'],this['_swipeRegion']['y'],this['_swipeRegion']['z']-this['_swipeRegion']['x'],this['_swipeRegion']['w']-this['_swipeRegion']['y']);},'set':function(_0x5a6f6e){if(!_0x5a6f6e)return;if(!(_0x5a6f6e instanceof Cesium['BoundingRectangle']))throw new Cesium['DeveloperError']('swipeRegion\x20must\x20be\x20a\x20instance\x20of\x20BoundingRectangle.');Cesium['Cartesian4']['fromElements'](_0x5a6f6e['x'],_0x5a6f6e['y'],_0x5a6f6e['x']+_0x5a6f6e['width'],_0x5a6f6e['y']+_0x5a6f6e['height'],this['_swipeRegion']);}},'swipeEnabled':{'get':function(){return this['_swipeEnabled'];},'set':function(_0x2a9fa1){if(_0x2a9fa1===this['_swipeEnabled'])return;!_0x2a9fa1&&Cesium['Cartesian4']['fromElements'](0x0,0x0,0x1,0x1,this['_swipeRegion']),this['_swipeEnabled']=_0x2a9fa1,this['_tranverseRenderEntity']({'enable':_0x2a9fa1},_0x4de9df);}},'visibleDistanceMax':{'get':function(){return this['_visibleDistanceMax'];},'set':function(_0x125685){Cesium['Check']['typeOf']['number']('max\x20visible\x20distance',_0x125685),this['_visibleDistanceMax']=_0x125685;}},'visibleDistanceMin':{'get':function(){return this['_visibleDistanceMin'];},'set':function(_0x3f051f){Cesium['Check']['typeOf']['number']('min\x20visible\x20distance',_0x3f051f),this['_visibleDistanceMin']=_0x3f051f;}},'minVisibleAltitude':{'get':function(){return this['_minVisibleAltitude'];},'set':function(_0x37bdad){Cesium['Check']['typeOf']['number']('min\x20visible\x20altitude',_0x37bdad),this['_minVisibleAltitude']=_0x37bdad;}},'maxVisibleAltitude':{'get':function(){return this['_maxVisibleAltitude'];},'set':function(_0x35a4b7){Cesium['Check']['typeOf']['number']('max\x20visible\x20altitude',_0x35a4b7),this['_maxVisibleAltitude']=_0x35a4b7;}},'hypsometricSetting':{'get':function(){return{'hypsometricSetting':this['_hypsometric']['setting'],'analysisMode':this['_hypsometric']['analysisMode']};},'set':function(_0x217211){let _0x1fa1f9=this['_hypsometric'];if(!_0x217211||!_0x217211['hypsometricSetting']){_0x1fa1f9['isUseHypColorTable']=![],_0x1fa1f9['setting']=_0x1fa1f9['setting']&&_0x1fa1f9['setting']['destroy'](),this['_tranverseRenderEntity']({'enable':![]},_0x211cc1);return;}_0x1fa1f9['region']=_0x1fa1f9['region']&&_0x1fa1f9['region']['destroy'](),!_0x1fa1f9['renderTexture']&&(_0x1fa1f9['renderTexture']=new Cesium['Texture']({'context':this['context'],'width':0x400,'height':0x400,'pixelFormat':Cesium['PixelFormat']['RGBA']})),!_0x1fa1f9['texture']&&(_0x1fa1f9['texture']=new Cesium['Texture']({'context':this['context'],'width':0x400,'height':0x40,'pixelFormat':Cesium['PixelFormat']['RGBA'],'flipY':![]})),_0x1fa1f9['analysisMode']=Cesium['defaultValue'](_0x217211['analysisMode'],_0x1fa1f9['analysisMode']),_0x1fa1f9['setting']=_0x2b1482['clone'](_0x217211['hypsometricSetting'],_0x1fa1f9['setting']),_0x1fa1f9['setting']['ColorTable']&&(_0x1fa1f9['setting']['ColorTable']['generateBuffer'](),this['_hypsometric']['texture']&&this['_hypsometric']['texture']['copyFrom']({'width':0x400,'height':0x40,'arrayBufferView':_0x1fa1f9['setting']['ColorTable']['_imageBuffer']})),_0x1fa1f9['isUseHypColorTable']=_0x1fa1f9['analysisMode']!==_0x5467b0['AnalysisRegionMode']['ARM_NONE'],this['_tranverseRenderEntity']({'enable':_0x1fa1f9['isUseHypColorTable']},_0x211cc1);}},'selectEnabled':{'get':function(){return this['_selectEnabled'];},'set':function(_0x4ef3bc){Cesium['Check']['defined']('value',_0x4ef3bc),Cesium['Check']['typeOf']['bool']('value',_0x4ef3bc),this['_selectEnabled']=_0x4ef3bc;}},'subdomains':{'get':function(){return this['_subdomainConfig']['subdomains'];},'set':function(_0x4032aa){if(defined(_0x4032aa)&&!defined(_0x4032aa['length']))throw new DeveloperError('Excepted\x20S3MTilesLayer.subdomains\x20to\x20be\x20type\x20of\x20Array.');this['_subdomainConfig']['subdomains']=_0x4032aa;}},'customRequestHeaders':{'get':function(){return this['_customRequestHeaders'];},'set':function(_0x10c0bf){this['_customRequestHeaders']=_0x10c0bf;}},'iconRelatedTextLayerID':{'get':function(){return this['_iconRelatedTextLayerID'];},'set':function(_0x38a439){this['_iconRelatedTextLayerID']=_0x38a439;}},'isOverlapDisplayed':{'get':function(){return this['_isOverlapDisplayed'];},'set':function(_0x26d726){Cesium['Check']['typeOf']['bool']('isOverlapDisplayed',_0x26d726),this['_isOverlapDisplayed']=_0x26d726,this['_isOverlapDisplayed']?this['setOnlyObjsVisible']([],![],![],!![]):this['setOnlyObjsVisible']([],!![],![],!![]);}},'overlapWeightAttributeName':{'get':function(){return this['_overlapWeightAttributeName'];},'set':function(_0x5dd02e){this['_overlapWeightAttributeName']=_0x5dd02e;}},'heightRangeAttributeName':{'get':function(){return this['_heightRangeAttributeName'];},'set':function(_0x1838ec){this['_heightRangeAttributeName']=_0x1838ec;}},'selectColorType':{'get':function(){return this['_selectColorType'];},'set':function(_0x2ac60b){if(this['_selectColorType']===_0x2ac60b)return;this['_selectColorType']=_0x2ac60b;var _0xb272a2={};_0xb272a2['layer']=this,_0xb272a2['selectColorType']=_0x2ac60b,this['_tranverseRenderEntity'](_0xb272a2,_0x5b4db8);}},'mixColorType':{'get':function(){return this['_mixColorType'];},'set':function(_0x214aaf){if(this['_mixColorType']===_0x214aaf)return;this['_mixColorType']=_0x214aaf;var _0x42382b={'layer':this,'mixColorType':_0x214aaf};this['_tranverseRenderEntity'](_0x42382b,_0x5d967d);}}});function _0x5b3a5a(_0x2ccb88){let _0x5cf1f4={},_0xb69254=_0x2ccb88['firstChild'];_0x5cf1f4['version']=_0xad0174['queryStringValue'](_0xb69254,'Version'),_0x5cf1f4['fileType']=_0xad0174['queryStringValue'](_0xb69254,'FileType');let _0x57c757=_0xad0174['queryFirstNode'](_0xb69254,'WaterEffect');_0x5cf1f4['averageHeight']=_0xad0174['queryNumericValue'](_0x57c757,'AverageHeight');let _0x36d38e=_0xad0174['queryNodes'](_0x57c757,'GpuProgramParameters');_0x5cf1f4['gpuProgramParameters']=[];for(let _0x2db0de=0x0,_0x5ab927=_0x36d38e['length'];_0x2db0de<_0x5ab927;_0x2db0de++){let _0x2345bb={};_0x2345bb['gpuConstants']=[],_0x2345bb['atuoConstants']=[];let _0x21fd62=_0x36d38e[_0x2db0de],_0x16bd65=_0xad0174['queryFirstNode'](_0x21fd62,'GpuConstants');if(_0x16bd65){let _0x49c123=_0xad0174['queryNodes'](_0x16bd65,'GpuConstantDefinition');for(let _0x30407a=0x0,_0x596d82=_0x49c123['length'];_0x30407a<_0x596d82;_0x30407a++){let _0x454797={},_0x48b8be=_0x49c123[_0x30407a];_0x454797['constType']=_0xad0174['queryNumericValue'](_0x48b8be,'ConstType'),_0x454797['index']=_0xad0174['queryNumericValue'](_0x48b8be,'Index'),_0x454797['name']=_0xad0174['queryStringValue'](_0x48b8be,'Name'),_0x454797['arraySize']=_0xad0174['queryNumericValue'](_0x48b8be,'ArraySize'),_0x454797['multiple']=_0xad0174['queryNumericValue'](_0x48b8be,'Multiple');let _0x3f2cc1=_0xad0174['queryFirstNode'](_0x48b8be,'ArrayFloat');_0x454797['arrayFloat']=[];if(_0x3f2cc1){let _0x2a6e40=_0xad0174['queryNodes'](_0x3f2cc1,'Float'),_0x1d7cfe=0x0;while(_0x1d7cfe<_0x454797['arraySize']){let _0x1786a5=parseFloat(_0x2a6e40[_0x1d7cfe]['textContent']);_0x454797['arrayFloat']['push'](_0x1786a5),_0x1d7cfe++;}}_0x2345bb['gpuConstants']['push'](_0x454797);}}let _0x197f85=_0xad0174['queryFirstNode'](_0x21fd62,'AutoConstants');if(_0x197f85){let _0x51f3b7=_0xad0174['queryNodes'](_0x197f85,'AutoConstantEntry');for(let _0x35de0a=0x0,_0x5f070a=_0x51f3b7['length'];_0x35de0a<_0x5f070a;_0x35de0a++){let _0x261f04={},_0x735514=_0x51f3b7[_0x35de0a];_0x261f04['paramType']=_0xad0174['queryNumericValue'](_0x735514,'ParamType'),_0x261f04['name']=_0xad0174['queryStringValue'](_0x735514,'Name'),_0x261f04['physicalIndex']=_0xad0174['queryNumericValue'](_0x735514,'PhysicalIndex'),_0x261f04['elementCount']=_0xad0174['queryNumericValue'](_0x735514,'ElementCount'),_0x261f04['data']=_0xad0174['queryNumericValue'](_0x735514,'Data'),_0x261f04['fData']=_0xad0174['queryNumericValue'](_0x735514,'FData'),_0x261f04['isReal']=_0xad0174['queryBooleanValue'](_0x735514,'IsReal'),_0x2345bb['atuoConstants']['push'](_0x261f04);}}_0x5cf1f4['gpuProgramParameters']['push'](_0x2345bb);}return _0x5cf1f4;}function _0x2d7ab0(_0x53a0e9,_0x593554){let _0x101a87=_0x593554['_basePath'],_0xd2dfbf=_0x593554['_basePath']['indexOf']('realspace')>-0x1;if(!_0xd2dfbf)return _0x53a0e9;let _0x3fd5fc=_0x101a87['replace'](/(.*realspace)/,''),_0x33a9f5=_0x101a87['replace'](/\/rest\/realspace/g,'')['replace'](_0x3fd5fc,'');return _0x33a9f5+'/rest/realspace'+_0x3fd5fc+'data/path/'+_0x53a0e9['replace'](/^\.*/,'')['replace'](/^\//,'')['replace'](/\/$/,'');}function _0x5a9541(_0x23758e,_0x1404c3){let _0x18b59d=_0x1404c3['extensions'];if(!_0x18b59d||!_0x18b59d['attachFiles'])return;let _0x4e22e3=_0x18b59d['attachFiles'],_0x1c63ff=[],_0x2961e7=_0x23758e['_basePath'],_0x2c5f09=![];for(let _0x58ecee=0x0,_0xb2e0e=_0x4e22e3['length'];_0x58ecee<_0xb2e0e;_0x58ecee++){let _0x41a089=_0x4e22e3[_0x58ecee]['attachFile'];if(_0x41a089['indexOf']('.water')>0x0){let _0x3219a3=_0x2d7ab0(_0x41a089,_0x23758e),_0x3c7d1f=_0x23758e['_baseResource']['getDerivedResource']({'url':_0x3219a3});_0x1c63ff['push'](_0x3c7d1f['fetchXML']()),_0x2c5f09=!![];}}if(!_0x1c63ff['length'])return;Promise['all'](_0x1c63ff)['then'](_0x3c13f7=>{let _0x7949c5=[];for(let _0x5929c7=0x0,_0x8cd969=_0x3c13f7['length'];_0x5929c7<_0x8cd969;_0x5929c7++){let _0x2ed6ac=_0x3c13f7[_0x5929c7];if(!_0x2ed6ac)break;let _0x5e6e82=_0x5b3a5a(_0x2ed6ac);_0x7949c5['push'](_0x5e6e82);}_0x23758e['_waterPlanes']=new Cesium['AssociativeArray'](),_0x23758e['_waterParameters']={};let _0x174c9e=_0x7949c5[0x0];_0x23758e['_waterParameters']['averageHeight']=_0x174c9e['averageHeight'];for(let _0x52112c=0x0;_0x52112c<_0x174c9e['gpuProgramParameters']['length'];_0x52112c++){let _0xe04c1d=_0x174c9e['gpuProgramParameters'][_0x52112c];for(let _0x40bc14=0x0;_0x40bc14<_0xe04c1d['atuoConstants']['length'];_0x40bc14++){let _0xf3c52c=_0xe04c1d['atuoConstants'][_0x40bc14];if(_0xf3c52c['name']==='timeVal'){_0x23758e['_waterParameters'][_0xf3c52c['name']]=_0xf3c52c['fData'];break;}}for(let _0x489ccd=0x0;_0x489ccd<_0xe04c1d['gpuConstants']['length'];_0x489ccd++){let _0x4548af=_0xe04c1d['gpuConstants'][_0x489ccd],_0x274973=null;switch(_0x4548af['arraySize']){case 0x1:_0x274973=_0x4548af['arrayFloat'][0x0];break;case 0x2:_0x274973=new Cesium['Cartesian2'](),Cesium['Cartesian2']['unpack'](_0x4548af['arrayFloat'],0x0,_0x274973);break;case 0x3:_0x274973=new Cesium['Cartesian3'](),Cesium['Cartesian3']['unpack'](_0x4548af['arrayFloat'],0x0,_0x274973);break;case 0x4:_0x274973=new Cesium['Cartesian4'](),Cesium['Cartesian4']['unpack'](_0x4548af['arrayFloat'],0x0,_0x274973);break;default:break;}if(!_0x274973)continue;_0x23758e['_waterParameters'][_0x4548af['name']]=_0x274973;}}_0x23758e['fileType']+='_Water';})['catch'](_0x248c04=>{console['log'](_0x248c04);});}_0x588517['prototype']['loadConfig']=function(_0x3f673e){let _0xbe5b4c=this;Promise['resolve'](_0x3f673e)['then'](function(_0x1deef7){let _0xe524ef,_0x51d296=Cesium['Resource']['createIfNeeded'](_0x1deef7);_0xe524ef=_0x51d296['getBaseUri'](!![]);let _0x2e6617=new _0x2c3b1e(_0xe524ef);_0x2e6617['query']=undefined,_0xe524ef=_0x2e6617['toString'](),_0xbe5b4c['_url']=_0x51d296['url'],_0xbe5b4c['_basePath']=_0xe524ef,_0xbe5b4c['_baseResource']=_0x51d296;Cesium['defined'](_0xbe5b4c['_subdomainConfig']['subdomains'])&&(_0xbe5b4c['_basePath']=_0xbe5b4c['_subdomainConfig']['urlScheme']);if(_0xbe5b4c['_isS3MB']||_0xbe5b4c['_isS3MBlock'])return _0x51d296['fetchJson']();return _0x51d296['fetchXML']();})['then'](function(_0x14bab7){if(_0xbe5b4c['_isS3MB']||_0xbe5b4c['_isS3MBlock']){let _0x2f2dcb=_0x14bab7['extensions'];_0xbe5b4c['fileType']=_0x2f2dcb['s3m:FileType'];let _0x3cf849=_0x14bab7['position']['x'],_0x52f552=_0x14bab7['position']['y'],_0x5a42da=_0x14bab7['position']['z'],_0x58d619=_0x14bab7['position']['units'];_0xbe5b4c['lon']=_0x3cf849,_0xbe5b4c['lat']=_0x52f552,_0xbe5b4c['height']=_0x5a42da;if(_0xbe5b4c['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0xbe5b4c['_position']=Cesium['Cartesian3']['fromDegrees'](_0x3cf849,_0x52f552,_0x5a42da),_0xbe5b4c['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0xbe5b4c['_position']),_0xbe5b4c['invModelMatrix']=Cesium['Matrix4']['inverse'](_0xbe5b4c['modelMatrix'],_0xbe5b4c['invModelMatrix']);else{if(_0x3cf849>0xb4||_0x3cf849<-0xb4||_0x52f552>0xb4||_0x52f552<-0xb4||_0x58d619==='Meter'){let _0x44574a=_0x3cf849,_0xe71aed=_0x52f552;_0xbe5b4c['_position']=new Cesium['Cartesian3'](_0x44574a,_0xe71aed,_0x5a42da);}else{let _0x51ab01=new Cesium['GeographicProjection'](),_0x2aef97=Cesium['Cartesian3']['fromDegrees'](_0x3cf849,_0x52f552,_0x5a42da),_0x2e3a83=_0x51ab01['ellipsoid']['cartesianToCartographic'](_0x2aef97);_0xbe5b4c['_position']=_0x51ab01['project'](_0x2e3a83);}Cesium['Matrix4']['fromTranslation'](_0xbe5b4c['_position'],_0xbe5b4c['modelMatrix']),Cesium['Matrix4']['multiply'](_0x59fd86,_0xbe5b4c['modelMatrix'],_0xbe5b4c['modelMatrix']),_0xbe5b4c['invModelMatrix']=Cesium['Matrix4']['inverse'](_0xbe5b4c['modelMatrix'],_0xbe5b4c['invModelMatrix']);}if(Cesium['defined'](_0x14bab7['geoBounds'])){let _0x28887b=_0x14bab7['geoBounds']['left'],_0x3842ba=_0x14bab7['geoBounds']['top'],_0x53493d=_0x14bab7['geoBounds']['right'],_0x3c88ea=_0x14bab7['geoBounds']['bottom'];_0x28887b>0xb4||_0x3c88ea>0xb4||_0x53493d>0xb4||_0x3842ba>0xb4?(_0x28887b/=0x615299,_0x3c88ea/=0x615299,_0x53493d/=0x615299,_0x3842ba/=0x615299,_0xbe5b4c['_rectangle']=new Cesium['Rectangle'](_0x28887b,_0x3c88ea,_0x53493d,_0x3842ba)):_0xbe5b4c['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x28887b,_0x3c88ea,_0x53493d,_0x3842ba);}_0x14bab7['heightRange']&&(_0xbe5b4c['_minHeight']=_0x14bab7['heightRange']['min'],_0xbe5b4c['_maxHeight']=_0x14bab7['heightRange']['max']);if(_0x14bab7['wDescript']){let _0x1fff29=_0x14bab7['wDescript']['range'];_0xbe5b4c['_minWValue']=_0x1fff29['min'],_0xbe5b4c['_maxWValue']=_0x1fff29['max'];}_0x2f2dcb['hasOwnProperty']('s3m:TransparencyOptimization')&&(_0xbe5b4c['_isTransparencyOptimization']=_0x2f2dcb['s3m:TransparencyOptimization']==='TRUE');_0x2f2dcb['hasOwnProperty']('s3m:VertexCompressionType')&&(_0xbe5b4c['_vertexCompressionType']=_0x2f2dcb['s3m:VertexCompressionType']);_0x2f2dcb['hasOwnProperty']('s3m:TextureCompressionType')&&(_0xbe5b4c['_textureCompressType']=_0x2f2dcb['s3m:TextureCompressionType']);const _0x488356=_0x14bab7['tiles']||_0x14bab7['rootTiles'];if(_0x488356['length']>0x0){let _0x346a42=Cesium['getExtensionFromUri'](_0x488356[0x0]['url']);_0x346a42==='s3mblock'&&(_0xbe5b4c['_isS3MBlock']=!![]);}for(let _0x442423=0x0,_0x595009=_0x488356['length'];_0x442423<_0x595009;_0x442423++){let _0x21b696=_0x488356[_0x442423]['url'],_0x343023={'box':_0x488356[_0x442423]['boundingbox']},_0x1203ca=new _0x56b847(_0xbe5b4c,undefined,_0x343023,_0x21b696);_0x1203ca['isRootTile']=!![],_0x1203ca['blockKey']=_0x21b696,_0xbe5b4c['_cache']['add'](_0x1203ca),_0xbe5b4c['_rootTiles']['push'](_0x1203ca);}_0x5a9541(_0xbe5b4c,_0x14bab7);}else{let _0x1ef351=_0x14bab7['firstChild'],_0x15cc1a=_0x1ef351['namespace'];_0xbe5b4c['fileType']=_0xad0174['queryStringValue'](_0x1ef351,'FileType',_0x15cc1a);let _0x5c7df3=_0xad0174['queryFirstNode'](_0x1ef351,'Position',_0x15cc1a),_0x22e053=_0xad0174['queryNumericValue'](_0x5c7df3,'X',_0x15cc1a),_0x3fed93=_0xad0174['queryNumericValue'](_0x5c7df3,'Y',_0x15cc1a),_0xeca040=_0xad0174['queryNumericValue'](_0x5c7df3,'Z',_0x15cc1a);_0xbe5b4c['lon']=_0x22e053,_0xbe5b4c['lat']=_0x3fed93,_0xbe5b4c['height']=_0xeca040,_0xbe5b4c['_position']=Cesium['Cartesian3']['fromDegrees'](_0x22e053,_0x3fed93,_0xeca040),_0xbe5b4c['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0xbe5b4c['_position']),_0xbe5b4c['invModelMatrix']=Cesium['Matrix4']['inverse'](_0xbe5b4c['modelMatrix'],_0xbe5b4c['invModelMatrix']);let _0x28c68f=_0xad0174['queryFirstNode'](_0x1ef351,'Bounds',_0x15cc1a),_0x25e14b=_0xad0174['queryFirstNode'](_0x1ef351,'BoundingBox',_0x15cc1a);if(_0x28c68f){let _0x5a384d=_0xad0174['queryNumericValue'](_0x28c68f,'Left',_0x15cc1a),_0x2f412d=_0xad0174['queryNumericValue'](_0x28c68f,'Top',_0x15cc1a),_0x12a196=_0xad0174['queryNumericValue'](_0x28c68f,'Right',_0x15cc1a),_0x1ea5c4=_0xad0174['queryNumericValue'](_0x28c68f,'Bottom',_0x15cc1a);_0xbe5b4c['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x5a384d,_0x1ea5c4,_0x12a196,_0x2f412d);}else{if(_0x25e14b){let _0xb4d3f8=_0xad0174['queryNumericValue'](_0x25e14b,'MinX',_0x15cc1a),_0x2afdbe=_0xad0174['queryNumericValue'](_0x25e14b,'MinY',_0x15cc1a),_0x431150=_0xad0174['queryNumericValue'](_0x25e14b,'MinZ',_0x15cc1a),_0x1dcb2f=_0xad0174['queryNumericValue'](_0x25e14b,'MaxX',_0x15cc1a),_0xa6a96f=_0xad0174['queryNumericValue'](_0x25e14b,'MaxY',_0x15cc1a),_0x29cfcb=_0xad0174['queryNumericValue'](_0x25e14b,'MaxZ',_0x15cc1a);_0xb4d3f8=0xb4*Math['abs'](_0xb4d3f8)/(Math['PI']*0x615299),_0x2afdbe=0xb4*Math['abs'](_0x2afdbe)/(Math['PI']*0x615299),_0x1dcb2f=0xb4*Math['abs'](_0x1dcb2f)/(Math['PI']*0x615299),_0xa6a96f=0xb4*Math['abs'](_0xa6a96f)/(Math['PI']*0x615299),_0xbe5b4c['_rectangle']=Cesium['Rectangle']['fromDegrees'](_0x22e053-_0xb4d3f8,_0x3fed93-_0x2afdbe,_0x22e053+_0x1dcb2f,_0x3fed93+_0xa6a96f);}}let _0x113e25=_0xad0174['queryFirstNode'](_0x1ef351,'HeightRange',_0x15cc1a);_0x113e25&&(_0xbe5b4c['_minHeight']=_0xad0174['queryNumericValue'](_0x113e25,'MinHeight',_0x15cc1a),_0xbe5b4c['_maxHeight']=_0xad0174['queryNumericValue'](_0x113e25,'MaxHeight',_0x15cc1a));let _0x123ff2=_0xad0174['queryFirstNode'](_0x1ef351,'CategoryRange',_0x15cc1a);_0x123ff2&&(_0xbe5b4c['_maxWValue']=_0xad0174['queryNumericValue'](_0x123ff2,'MaxCategory',_0x15cc1a),_0xbe5b4c['_minWValue']=_0xad0174['queryNumericValue'](_0x123ff2,'MinCategory',_0x15cc1a));let _0x308635=_0xad0174['queryFirstNode'](_0x1ef351,'Extensions',_0x15cc1a);_0xbe5b4c['_isTransparencyOptimization']=_0xad0174['queryBooleanValue'](_0x308635,'TransparencyOptimization',_0x15cc1a);let _0xcafcf1=/\\+/g,_0x144cb4=_0xad0174['queryFirstNode'](_0x1ef351,'OSGFiles',_0x15cc1a),_0x1d26e4=_0xad0174['queryNodes'](_0x144cb4,'Files',_0x15cc1a);if(_0x1d26e4['length']>0x0)for(let _0x37392d=0x0,_0x570d1c=_0x1d26e4['length'];_0x37392d<_0x570d1c;_0x37392d++){let _0x1e4def=_0x1d26e4[_0x37392d],_0x41c4e6=_0xad0174['queryStringValue'](_0x1e4def,'FileName',_0x15cc1a);_0x41c4e6=_0x41c4e6['replace'](_0xcafcf1,'/'),_0x41c4e6=_0x41c4e6['replace'](/(\.osgb)/gi,'.s3m');let _0x30afbd=_0xad0174['queryFirstNode'](_0x1e4def,'BoundingSphere',_0x15cc1a),_0x17c05d={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}};if(_0x30afbd&&_0x30afbd['childNodes']['length']){let _0x4defda=_0xad0174['queryNumericValue'](_0x30afbd,'CenterX',_0x15cc1a),_0x2f8322=_0xad0174['queryNumericValue'](_0x30afbd,'CenterY',_0x15cc1a),_0x377100=_0xad0174['queryNumericValue'](_0x30afbd,'CenterZ',_0x15cc1a),_0x2e6f5b=_0xad0174['queryNumericValue'](_0x30afbd,'Radius',_0x15cc1a);_0x17c05d={'sphere':{'center':{'x':_0x4defda,'y':_0x2f8322,'z':_0x377100},'radius':_0x2e6f5b}};}let _0x145b88=new _0x56b847(_0xbe5b4c,undefined,_0x17c05d,_0x41c4e6);_0x145b88['isRootTile']=!![],_0xbe5b4c['_cache']['add'](_0x145b88),_0xbe5b4c['_rootTiles']['push'](_0x145b88);}else{let _0x1dda1a=_0xad0174['queryNodes'](_0x144cb4,'FileName',_0x15cc1a);for(let _0x314d7c=0x0,_0x2d7564=_0x1dda1a['length'];_0x314d7c<_0x2d7564;_0x314d7c++){let _0x125bdf=_0x1dda1a[_0x314d7c]['textContent'];_0x125bdf=_0x125bdf['replace'](_0xcafcf1,'/'),_0x125bdf=_0x125bdf['replace'](/(\.osgb)/gi,'.s3m');let _0x1c9d7e={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}},_0x453e6c=new _0x56b847(_0xbe5b4c,undefined,_0x1c9d7e,_0x125bdf);_0x453e6c['isRootTile']=!![],_0xbe5b4c['_cache']['add'](_0x453e6c),_0xbe5b4c['_rootTiles']['push'](_0x453e6c);}}}_0xbe5b4c['_readyPromise']['resolve'](_0xbe5b4c);},_0x1aedf5=>{_0xbe5b4c['_readyPromise']['reject'](_0x1aedf5);});};function _0x180a37(_0x59e684,_0x1c562d){return _0x59e684['priority']-_0x1c562d['priority'];}function _0x3fdd22(_0x571da5){let _0x534f27=_0x571da5['_requestTiles'],_0x4a53ac=_0x534f27['length'];_0x534f27['sort'](_0x180a37);for(let _0x15eacf=0x0;_0x15eacf<_0x4a53ac;++_0x15eacf){let _0x3021b1=_0x534f27[_0x15eacf];_0x3021b1['requestContent']();}}function _0x5b1dcf(_0x5c3014,_0x2a21b9){let _0x97a4bd=_0x5c3014['_processTiles'],_0x472885=_0x97a4bd['length'];for(let _0x12c94=0x0;_0x12c94<_0x472885;++_0x12c94){let _0x53e65a=_0x97a4bd[_0x12c94];_0x53e65a['transformResource'](_0x2a21b9,_0x5c3014);}}function _0x89ad01(_0x560604,_0x2ef8b8){for(let _0x35b410=0x0,_0x2732e0=_0x560604['_renderQueue']['length'];_0x35b410<_0x2732e0;_0x35b410++){const _0xa24ad3=_0x560604['_renderQueue'][_0x35b410];_0xa24ad3['update'](_0x2ef8b8,_0x560604);}}function _0x158992(_0x5932a4,_0x50af89){_0x50af89['free']();}function _0x2b50a3(_0x4a2d7d){_0x4a2d7d['_isS3MBlock']?_0x4a2d7d['_cache']['unloadBlockTiles'](_0x4a2d7d,_0x158992):_0x4a2d7d['_cache']['unloadTiles'](_0x4a2d7d,_0x158992);}_0x588517['prototype']['releaseSelection']=function(){if(this['_selections']['length']<0x1)return;this['_removeObjsOperationType'](this['_selections'],_0x4f70a0['SELECTED']),this['_selections']['length']=0x0;},_0x588517['prototype']['setLodRangeScale']=function(_0x2e3afe){this['_lodRangeScale']=_0x2e3afe;},_0x588517['prototype']['setSelection']=function(_0x463e94){Cesium['Check']['defined']('setSelection\x20ids',_0x463e94);if(!this['_selectEnabled'])return;!Array['isArray'](_0x463e94)&&(_0x463e94=[_0x463e94]),!this['_multiChoose']&&this['releaseSelection'](),this['_selections']=this['_selections']['concat'](_0x463e94),this['_setObjsOperationType'](_0x463e94,_0x4f70a0['SELECTED']);},_0x588517['prototype']['getSelection']=function(){return[]['concat'](this['_selections']);},_0x588517['prototype']['setObjsColor']=function(_0x53d831,_0x52dd46){Cesium['Check']['defined']('setObjsColor\x20ids',_0x53d831),Cesium['Check']['defined']('setObjsColor\x20color',_0x52dd46),Cesium['Check']['typeOf']['object']('setObjsColor\x20color',_0x52dd46);!Array['isArray'](_0x53d831)&&(_0x53d831=[_0x53d831]);let _0x4aac52={};for(let _0x5e0a77=0x0,_0x309f12=_0x53d831['length'];_0x5e0a77<_0x309f12;_0x5e0a77++){let _0x14fc39=_0x53d831[_0x5e0a77]+'';if(!Cesium['defined'](_0x14fc39))continue;this['_objsColorList'][_0x14fc39]=_0x52dd46,_0x4aac52[_0x14fc39]=_0x52dd46;}this['_updateObjsColor'](_0x4aac52);},_0x588517['prototype']['removeObjsColor']=function(_0x150ff5){Cesium['Check']['defined']('removeObjsColor\x20ids',_0x150ff5);!Array['isArray'](_0x150ff5)&&(_0x150ff5=[_0x150ff5]);let _0x618b9b={};for(let _0x31b37c=0x0,_0x11aaf3=_0x150ff5['length'];_0x31b37c<_0x11aaf3;_0x31b37c++){let _0x5d2c10=_0x150ff5[_0x31b37c];Cesium['defined'](this['_objsColorList'][_0x5d2c10])&&(_0x618b9b[_0x5d2c10]=Cesium['Color']['TRANSPARENT'],delete this['_objsColorList'][_0x5d2c10]);}this['_removeObjsOperationType'](_0x150ff5,_0x4f70a0['SetColor']),this['_updateObjsColor'](_0x618b9b);},_0x588517['prototype']['setOnlyObjsVisible']=function(_0x22898d,_0x57e4b5,_0x3f9136,_0x47868f){Cesium['Check']['defined']('setOnlyObjsVisible\x20ids',_0x22898d),Cesium['Check']['typeOf']['bool']('setOnlyObjsVisible\x20isVisible',_0x57e4b5),_0x3f9136=Cesium['defaultValue'](_0x3f9136,!![]),_0x47868f=Cesium['defaultValue'](_0x47868f,![]);!Array['isArray'](_0x22898d)&&(_0x22898d=[_0x22898d]);var _0x32c3ac=this['_objsVisibleList'],_0x2c5566=this['_objsHideList'],_0x504a5b=this['_objsVisibleMap'];if(_0x22898d['length']===0x0){if(_0x3f9136){this['_allObjsHide']=_0x57e4b5,this['_objsVisibleList']['removeAll']();var _0x116d35=Object['keys'](this['_objsHideList']['_hash']);this['_removeObjsOperationType'](_0x116d35,_0x4f70a0['HIDE']),this['_objsHideList']['removeAll'](),this['_updateAllObjsVisible'](!_0x57e4b5),this['_objsVisibleMap']={},this['_objsVisibleMap']['_allObjsHide']=_0x57e4b5;return;}if(_0x57e4b5)this['_allObjsHide']=_0x57e4b5,this['_objsVisibleList']['removeAll'](),this['_objsHideList']['removeAll'](),_0x47868f&&this['_updateAllObjsVisible'](!_0x57e4b5);else{if(_0x504a5b['_allObjsHide'])return;if(_0x47868f){let _0x54528a=Object['keys'](this['_objsHideList']['_hash'])['filter'](_0xbc22b4=>{return _0x504a5b[_0xbc22b4]!==![];});this['_removeObjsOperationType'](_0x54528a,_0x4f70a0['HIDE']);return;}let _0x2adb35=Object['keys'](_0x504a5b)['filter'](_0x14cc90=>{return _0x504a5b[_0x14cc90];});this['_removeObjsOperationType'](_0x2adb35,_0x4f70a0['HIDE']);}return;}!_0x57e4b5?(_0x22898d['map'](function(_0x248888){_0x32c3ac['remove'](_0x248888),_0x2c5566['set'](_0x248888,!![]),_0x3f9136&&(_0x504a5b[_0x248888]=![]);}),this['_setObjsOperationType'](_0x22898d,_0x4f70a0['HIDE'])):(_0x22898d['map'](function(_0x44de5b){_0x32c3ac['set'](_0x44de5b,!![]),_0x2c5566['remove'](_0x44de5b),_0x3f9136&&(_0x504a5b[_0x44de5b]=!![]);}),this['_removeObjsOperationType'](_0x22898d,_0x4f70a0['HIDE']));},_0x588517['prototype']['setObjsVisible']=function(_0x115bd7,_0x3e841f){if(_0x115bd7['length']===0x0){this['setOnlyObjsVisible']([],_0x3e841f);return;}this['setOnlyObjsVisible']([],_0x3e841f),this['setOnlyObjsVisible'](_0x115bd7,_0x3e841f);};function _0x2e2424(_0x1e4e85,_0x4ae9bb,_0x19f02b){let _0xa81d15=new Cesium['Cartesian3'](),_0x45264d=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0x4ae9bb,_0x1e4e85,_0xa81d15),Cesium['Cartesian3']['subtract'](_0x19f02b,_0x1e4e85,_0x45264d);let _0x44b831=new Cesium['Cartesian3']();Cesium['Cartesian3']['cross'](_0xa81d15,_0x45264d,_0x44b831),Cesium['Cartesian3']['normalize'](_0x44b831,_0x44b831);let _0x272f63=-Cesium['Cartesian3']['dot'](_0x44b831,_0x1e4e85);return new Cesium['Cartesian4'](_0x44b831['x'],_0x44b831['y'],_0x44b831['z'],_0x272f63);}function _0x47f51b(_0x273961,_0x3b15e4){_0x273961['clip'](_0x3b15e4);}_0x588517['prototype']['setCustomClipPlane']=function(_0x1ed79f,_0x38c7d4,_0x165bb5,_0x3ee907){this['_sceneMode']===Cesium['SceneMode']['COLUMBUS_VIEW']&&(_0x1ed79f=_0x105d2b(_0x1ed79f),_0x38c7d4=_0x105d2b(_0x38c7d4),_0x165bb5=_0x105d2b(_0x165bb5)),this['_oriClipPlane'][0x0]=_0x2e2424(_0x1ed79f,_0x38c7d4,_0x165bb5),this['_clipMode']=_0x5a20e6['CLIP_BEHIND_ALL_PLANE'],this['_enableClipPlane']=!![],!this['_enableClip']&&this['_tranverseRenderEntity']({'enable':!![]},_0x47f51b),this['_enableClip']=!![];},_0x588517['prototype']['setCustomClipBox']=function(_0x311709){_0x311709=_0x311709||{};if((!_0x311709['dimensions']||!_0x311709['position'])&&(!_0x311709['planePos']||!_0x311709['planeNormal']))throw new Cesium['DeveloperError']('dimensions\x20position\x20is\x20required\x20to\x20create\x20CustomClipBox');this['_clipMode']=_0x5a20e6['CLIP_BEHIND_ALL_PLANE'];if(Cesium['defined'](_0x311709['clipMode']))switch(_0x311709['clipMode']){case'clip_behind_any_plane':this['_clipMode']=_0x5a20e6['CLIP_BEHIND_ANY_PLANE'];break;case'clip_behind_all_plane':this['_clipMode']=_0x5a20e6['CLIP_BEHIND_ALL_PLANE'];break;case'only_keep_line':this['_clipMode']=_0x5a20e6['ONLY_KEEP_LINE'];break;default:break;}if(_0x311709['dimensions']){let _0x481448=new Cesium['Matrix4'](),_0x68f1ad=_0x311709['position'],_0x45b084,_0x17c071,_0x48358b;_0x45b084=_0x311709['heading']||0x0,_0x17c071=_0x311709['pitch']||0x0,_0x48358b=_0x311709['roll']||0x0;let _0x5cdafc=new Cesium['HeadingPitchRoll'](_0x45b084,_0x17c071,_0x48358b);if(this['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0x481448=Cesium['Transforms']['headingPitchRollToFixedFrame'](_0x68f1ad,_0x5cdafc,Cesium['Ellipsoid']['WGS84']);else{_0x5cdafc=new Cesium['HeadingPitchRoll'](_0x17c071,-_0x48358b,-_0x45b084);let _0x31e1a6=_0x105d2b(_0x68f1ad);Cesium['Matrix4']['setTranslation'](Cesium['Matrix4']['clone'](Cesium['Matrix4']['IDENTITY']),_0x31e1a6,_0x481448);let _0x20b159=Cesium['Matrix3']['fromHeadingPitchRoll'](_0x5cdafc);Cesium['Matrix4']['multiplyByMatrix3'](_0x481448,_0x20b159,_0x481448);}let _0x179535,_0x1b7767,_0x5e4f7b;this['_sceneMode']===Cesium['SceneMode']['SCENE3D']?(_0x179535=_0x311709['dimensions']['x']*0.5,_0x1b7767=_0x311709['dimensions']['y']*0.5,_0x5e4f7b=_0x311709['dimensions']['z']*0.5):(_0x179535=_0x311709['dimensions']['z']*0.5,_0x1b7767=_0x311709['dimensions']['x']*0.5,_0x5e4f7b=_0x311709['dimensions']['y']*0.5);let _0x4f9fb0=[];_0x4f9fb0[0x0]=new Cesium['Cartesian4'](-_0x179535,_0x1b7767,_0x5e4f7b,0x1),_0x4f9fb0[0x1]=new Cesium['Cartesian4'](_0x179535,_0x1b7767,_0x5e4f7b,0x1),_0x4f9fb0[0x2]=new Cesium['Cartesian4'](_0x179535,-_0x1b7767,_0x5e4f7b,0x1),_0x4f9fb0[0x3]=new Cesium['Cartesian4'](-_0x179535,-_0x1b7767,_0x5e4f7b,0x1),_0x4f9fb0[0x4]=new Cesium['Cartesian4'](-_0x179535,_0x1b7767,-_0x5e4f7b,0x1),_0x4f9fb0[0x5]=new Cesium['Cartesian4'](_0x179535,_0x1b7767,-_0x5e4f7b,0x1),_0x4f9fb0[0x6]=new Cesium['Cartesian4'](_0x179535,-_0x1b7767,-_0x5e4f7b,0x1),_0x4f9fb0[0x7]=new Cesium['Cartesian4'](-_0x179535,-_0x1b7767,-_0x5e4f7b,0x1);for(let _0x514949=0x0;_0x514949<0x8;_0x514949++){Cesium['Matrix4']['multiplyByVector'](_0x481448,_0x4f9fb0[_0x514949],_0x4f9fb0[_0x514949]);}this['_oriClipPlane'][0x0]=Cesium['Cartesian4']['clone'](_0x2e2424(_0x4f9fb0[0x0],_0x4f9fb0[0x1],_0x4f9fb0[0x2])),this['_oriClipPlane'][0x1]=Cesium['Cartesian4']['clone'](_0x2e2424(_0x4f9fb0[0x0],_0x4f9fb0[0x4],_0x4f9fb0[0x1])),this['_oriClipPlane'][0x2]=Cesium['Cartesian4']['clone'](_0x2e2424(_0x4f9fb0[0x0],_0x4f9fb0[0x3],_0x4f9fb0[0x4])),this['_oriClipPlane'][0x3]=Cesium['Cartesian4']['clone'](_0x2e2424(_0x4f9fb0[0x6],_0x4f9fb0[0x2],_0x4f9fb0[0x5])),this['_oriClipPlane'][0x4]=Cesium['Cartesian4']['clone'](_0x2e2424(_0x4f9fb0[0x6],_0x4f9fb0[0x7],_0x4f9fb0[0x2])),this['_oriClipPlane'][0x5]=Cesium['Cartesian4']['clone'](_0x2e2424(_0x4f9fb0[0x6],_0x4f9fb0[0x5],_0x4f9fb0[0x7]));}else for(let _0x25c63a=0x0;_0x25c63a<_0x311709['planePos']['length'];_0x25c63a++){let _0x22d14f=_0x311709['planePos'][_0x25c63a],_0x5bb360=_0x311709['planeNormal'][_0x25c63a];this['_oriClipPlane'][_0x25c63a]['x']=_0x5bb360['x'],this['_oriClipPlane'][_0x25c63a]['y']=_0x5bb360['y'],this['_oriClipPlane'][_0x25c63a]['z']=_0x5bb360['z'],this['_oriClipPlane'][_0x25c63a]['w']=-Cesium['Cartesian3']['dot'](_0x22d14f,_0x5bb360);}!this['_enableClip']&&this['_tranverseRenderEntity']({'enable':!![]},_0x47f51b),this['_enableClip']=!![];};function _0x105d2b(_0x141627){var _0x5b13f5=new Cesium['GeographicProjection'](),_0x55235e=_0x5b13f5['ellipsoid'],_0x23ab5d=new Cesium['Cartesian3'](),_0x306464=new Cesium['Cartographic']();return _0x55235e['cartesianToCartographic'](_0x141627,_0x306464),_0x5b13f5['project'](_0x306464,_0x23ab5d),Cesium['Cartesian3']['fromElements'](_0x23ab5d['z'],_0x23ab5d['x'],_0x23ab5d['y']);}_0x588517['prototype']['clearCustomClipBox']=function(){this['_enableClip']=![],this['_enableClipPlane']=![],this['_tranverseRenderEntity']({'enable':![]},_0x47f51b);},_0x588517['prototype']['setModifyRegions']=function(_0x38734a,_0x3c9d98){this['clearModifyRegions']();if(_0x3c9d98==_0x14471c['CLIP_INSIDE']||_0x3c9d98==_0x14471c['CLIP_OUTSIDE']){var _0x26c94c=_0x38734a['length'];for(var _0x591712=0x0;_0x591712<_0x26c94c;_0x591712++){var _0x4e8945={'position':_0x38734a[_0x591712],'name':'modify_'+_0x591712};this['addExcavationRegion'](_0x4e8945);}}this['_excavationMode']=_0x3c9d98;},_0x588517['prototype']['clearModifyRegions']=function(){var _0x29f476=Object['keys'](this['_excavationRegions']['_hash']);for(var _0x1b8fec=0x0,_0x7249b3=_0x29f476['length'];_0x1b8fec<_0x7249b3;_0x1b8fec++){var _0x2edffc=_0x29f476[_0x1b8fec];_0x2edffc['startsWith']('modify_')&&this['removeExcavationRegion'](_0x2edffc);}},_0x588517['prototype']['removeExcavationRegion']=function(_0xb0574f){var _0x27a8a9=this['_excavationRegions']['get'](_0xb0574f),_0x16f5d8=this['_excavationRegions']['remove'](_0xb0574f);if(!_0x16f5d8)return![];_0x27a8a9['destroy'](),this['_removeExcavationCommands'](_0xb0574f),this['_excavationUpdate']=!![];if(this['_excavationRegions']['values']['length']===0x0){this['_hasExcavation']=![],this['_excavationUpdate']=![];var _0x5d8c92={};_0x5d8c92['layer']=this,_0x5d8c92['enable']=![],this['_tranverseRenderEntity'](_0x5d8c92,_0x2a5cec);}return!![];},_0x588517['prototype']['_removeExcavationCommands']=function(_0x4881b1){var _0x1322a6=this['_excavateRegionCommands']['get'](_0x4881b1+'side'),_0x57466c=this['_excavateRegionCommands']['get'](_0x4881b1+'bottom');_0x1322a6&&(_0x1322a6['vertexArray']=_0x1322a6['vertexArray']&&!_0x1322a6['vertexArray']['isDestroyed']()&&_0x1322a6['vertexArray']['destroy']()),_0x57466c&&(_0x57466c['vertexArray']=_0x57466c['vertexArray']&&!_0x57466c['vertexArray']['isDestroyed']()&&_0x57466c['vertexArray']['destroy']()),this['_excavateRegionCommands']['remove'](_0x4881b1+'side'),this['_excavateRegionCommands']['remove'](_0x4881b1+'bottom');},_0x588517['prototype']['addExcavationRegion']=function(_0xbba613){var _0x5c2542=_0xbba613['name'],_0x58fd4c=_0xbba613['position'],_0x25f527=_0xbba613['height'];!Cesium['defined'](_0x5c2542)&&Check['typeOf']['string']('options.name',_0x5c2542);!Cesium['defined'](_0x58fd4c)&&Check['typeOf']['string']('options.position',_0x58fd4c);var _0x54a3f2=this['_excavationRegions']['get'](_0x5c2542);if(Cesium['defined'](_0x54a3f2))return![];!Cesium['defined'](this['_excavationTexture'])&&(this['_excavationTexture']=new Cesium['Texture']({'context':this['context'],'width':this['_flattenTextureWidth'],'height':this['_flattenTextureWidth'],'pixelFormat':Cesium['PixelFormat']['RGBA']}),window['texture']=this['_excavationTexture']);var _0x2bdeb0=this['_createRasterRegion'](_0x58fd4c,_0x25f527,Cesium['defined'](_0x25f527));_0x2bdeb0['name']=_0x5c2542,this['_excavationRegions']['set'](_0x5c2542,_0x2bdeb0),this['_excavationUpdate']=!![],this['_hasExcavation']=!![];if(this['_excavationRegions']['values']['length']===0x1){var _0x22a77f={};_0x22a77f['layer']=this,_0x22a77f['enable']=!![],this['_tranverseRenderEntity'](_0x22a77f,_0x2a5cec);}return!![];};function _0x2a5cec(_0x3a0bac,_0xfe1f){_0x3a0bac['enableExcavation'](_0xfe1f);}_0x588517['prototype']['_tranverseRenderEntity']=function(_0x121e2e,_0x435c4a){let _0xeb91ab=[];for(let _0x376b52=0x0,_0xf62d4d=this['_rootTiles']['length'];_0x376b52<_0xf62d4d;_0x376b52++){let _0x275dfb=this['_rootTiles'][_0x376b52];_0xeb91ab['push'](_0x275dfb);}while(_0xeb91ab['length']){let _0x565d84=_0xeb91ab['pop']();for(let _0x34dd60=0x0,_0x4cce69=_0x565d84['pageLods']['length'];_0x34dd60<_0x4cce69;_0x34dd60++){const _0x2e742=_0x565d84['pageLods'][_0x34dd60],_0x33160b=_0x2e742['renderEntities'];for(let _0x59fc26=0x0,_0xd22cf3=_0x33160b['length'];_0x59fc26<_0xd22cf3;_0x59fc26++){const _0x4aa3e5=_0x33160b[_0x59fc26];_0x4aa3e5['ready']&&_0x435c4a(_0x4aa3e5,_0x121e2e);}_0x2e742['childTile']&&_0xeb91ab['push'](_0x2e742['childTile']);}}};function _0x2dc46a(_0x155364,_0xe285ad){_0x155364['updateObjsOperation'](_0xe285ad['ids'],_0xe285ad);}_0x588517['prototype']['_updateObjsOperation']=function(_0x3d0679){this['_tranverseRenderEntity']({'ids':_0x3d0679},_0x2dc46a);};function _0x233a2a(_0x1c0e4c,_0x179c0a){_0x1c0e4c['updateObjsColor'](_0x179c0a['ids'],_0x179c0a);}_0x588517['prototype']['_updateObjsColor']=function(_0x218444){this['_tranverseRenderEntity']({'ids':_0x218444},_0x233a2a);};function _0xf4de9d(_0x2b9c61,_0x520473){_0x2b9c61['updateAllObjsVisible'](_0x520473['isVisible']);}_0x588517['prototype']['_updateAllObjsVisible']=function(_0x1b77c2){this['_tranverseRenderEntity']({'isVisible':_0x1b77c2},_0xf4de9d);},_0x588517['prototype']['_setObjsOperationType']=function(_0x28d233,_0x2ff89f){Cesium['Check']['defined']('set\x20Objs\x20Operation\x20ids',_0x28d233),Cesium['Check']['defined']('set\x20Objs\x20Operation\x20operationType',_0x2ff89f);!Array['isArray'](_0x28d233)&&(_0x28d233=[_0x28d233]);let _0xdb24f0=new Cesium['AssociativeArray'](),_0x5b097c;for(let _0x2d5b7e=0x0,_0x75f547=_0x28d233['length'];_0x2d5b7e<_0x75f547;_0x2d5b7e++){_0x5b097c=_0x28d233[_0x2d5b7e];if(!Cesium['defined'](_0x5b097c))continue;let _0xa53e76=Cesium['defaultValue'](this['_objsOperationList']['get'](_0x5b097c),0x0);if(_0xa53e76===_0x2ff89f)continue;_0xa53e76=_0xa53e76|_0x2ff89f,this['_objsOperationList']['set'](_0x5b097c,_0xa53e76),_0xdb24f0['set'](_0x5b097c,_0xa53e76);}_0xdb24f0['length']>0x0&&this['_updateObjsOperation'](_0xdb24f0);},_0x588517['prototype']['_removeObjsOperationType']=function(_0x21d2ed,_0x27b07c){Cesium['Check']['defined']('set\x20Objs\x20Operation\x20ids',_0x21d2ed);!Array['isArray'](_0x21d2ed)&&(_0x21d2ed=[_0x21d2ed]);let _0x38a6e7=_0x4f70a0['ALL']^_0x27b07c,_0xacaf33=new Cesium['AssociativeArray'](),_0x4d79f0;for(let _0x56ac97=0x0,_0x59ea8b=_0x21d2ed['length'];_0x56ac97<_0x59ea8b;_0x56ac97++){_0x4d79f0=_0x21d2ed[_0x56ac97];let _0x7ee220=this['_objsOperationList']['get'](_0x4d79f0);if(!Cesium['defined'](_0x7ee220))continue;_0x7ee220&=_0x38a6e7,_0x7ee220===_0x4f70a0['RESET']?this['_objsOperationList']['remove'](_0x4d79f0):this['_objsOperationList']['set'](_0x4d79f0,_0x7ee220),_0xacaf33['set'](_0x4d79f0,_0x7ee220);}_0xacaf33['length']>0x0&&this['_updateObjsOperation'](_0xacaf33);},_0x588517['prototype']['_createRasterRegion']=function(_0x48194d){let _0x1ec27e=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x48194d),_0x13b1ae=new Cesium['PolygonGeometry']({'polygonHierarchy':{'positions':_0x1ec27e},'perPositionHeight':!![]}),_0x14682d=Cesium['PolygonGeometry']['createGeometry'](_0x13b1ae),_0xa74a44=new _0x278752();return _0xa74a44['updateGeometry'](_0x14682d,this['invModelMatrix']),_0xa74a44['updateGeoBounds'](_0x14682d),_0xa74a44;};function _0x1a653f(_0x57107a,_0x74a6d9){_0x57107a['flatten'](_0x74a6d9);}_0x588517['prototype']['addFlattenRegion']=function(_0x462bf0){let _0x2359d3=_0x462bf0['name'],_0x3abfdc=_0x462bf0['position'];if(!_0x2359d3||!_0x3abfdc)return;let _0x1c94f5=this['_flattenPar'],_0x169e19=_0x1c94f5['regions'];if(_0x169e19['contains'](_0x2359d3))return;!_0x1c94f5['texture']&&(_0x1c94f5['texture']=new Cesium['Texture']({'context':this['context'],'width':_0x1c94f5['textureWidth'],'height':_0x1c94f5['textureHeight'],'pixelFormat':Cesium['PixelFormat']['RGBA']}));let _0x31cf3d=this['_createRasterRegion'](_0x3abfdc);_0x169e19['set'](_0x2359d3,_0x31cf3d),_0x1c94f5['isUpdate']=!![],_0x169e19['values']['length']===0x1&&this['_tranverseRenderEntity']({'enable':!![]},_0x1a653f);};function _0x211cc1(_0x4c110b,_0x43e0f6){_0x4c110b['hypsometric'](_0x43e0f6);}function _0x4de9df(_0x1a2d56,_0x3e7b2f){_0x1a2d56['swipe'](_0x3e7b2f);}function _0x5b4db8(_0x278837,_0x3285eb){_0x278837['selectColorTypeChange'](_0x3285eb);}function _0x5d967d(_0x1c293,_0x1c7120){_0x1c293['mixColorTypeChange'](_0x1c7120);}function _0x57f50f(_0x382401){let _0xb15a8c=new Cesium['Cartesian4'](Number['MAX_VALUE'],Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);for(let _0x459b2=0x0;_0x459b2<_0x382401['length'];_0x459b2++){const _0x78bd97=_0x382401[_0x459b2]['bounds'];_0xb15a8c['x']=Math['min'](_0x78bd97['x'],_0xb15a8c['x']),_0xb15a8c['y']=Math['min'](_0x78bd97['y'],_0xb15a8c['y']),_0xb15a8c['z']=Math['max'](_0x78bd97['z'],_0xb15a8c['z']),_0xb15a8c['w']=Math['max'](_0x78bd97['w'],_0xb15a8c['w']);}return _0xb15a8c;}_0x588517['prototype']['_updateFlattenFramebuffer']=function(_0x12d00f){let _0xf799fd=this['_flattenPar'];if(!_0xf799fd['isUpdate'])return;_0xf799fd['isUpdate']=![];let _0x5dc87c=_0xf799fd['regions'],_0x3f6c93=_0x5dc87c['values']['length'];_0xf799fd['flattening']=_0x3f6c93>0x0,_0xf799fd['bounds']=_0x57f50f(_0x5dc87c['values']);let _0x36fd61=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x1,0x1,0x1,0x1),'depth':0x1});!_0xf799fd['texture']&&(_0xf799fd['texture']=new Cesium['Texture']({'context':this['context'],'width':_0xf799fd['textureWidth'],'height':_0xf799fd['textureHeight'],'pixelFormat':Cesium['PixelFormat']['RGBA']}));!_0xf799fd['fbo']&&(_0xf799fd['fbo']=new Cesium['Framebuffer']({'context':this['context'],'colorTextures':[_0xf799fd['texture']],'destroyAttachments':![]}));_0x36fd61['framebuffer']=_0xf799fd['fbo'],_0x36fd61['renderState']=Cesium['RenderState']['fromCache'](),_0x36fd61['execute'](this['context']);for(let _0x5cd9a7=0x0;_0x5cd9a7<_0x3f6c93;_0x5cd9a7++){let _0x2a0934=_0x5dc87c['values'][_0x5cd9a7];_0x2a0934['createCommand'](this['context'],_0xf799fd['fbo']),_0x2a0934['command']['uniformMap']={'uRect':function(){return _0xf799fd['bounds'];}},_0x2a0934['command']['execute'](this['context']);}},_0x588517['prototype']['setVisibleInViewport']=function(_0x118e08,_0x22763a){if(_0x118e08>0x8)throw new Cesium['DeveloperError']('the\x20index\x20is\x200~8');_0x22763a?this['_visibleViewport']=0x1<<_0x118e08|this['_visibleViewport']:this['_visibleViewport']=~(0x1<<_0x118e08)&this['_visibleViewport'];},_0x588517['prototype']['getVisibleInViewport']=function(_0x57fddd){if(_0x57fddd>0x8)throw new Cesium['DeveloperError']('the\x20index\x20is\x200~3');return 0x1<<_0x57fddd&this['_visibleViewport'];},_0x588517['prototype']['_updateEdgeDistanceFalloffFactor']=function(){if(this['_edgeCurrentCount']===0x0){this['_edgeCurrentTotalLength']=0x0;return;}this['_edgeDistanceFalloffFactor']=this['_edgeCurrentTotalLength']/this['_edgeCurrentCount']*0x28,this['_edgeCurrentTotalLength']=0x0,this['_edgeCurrentCount']=0x0;},_0x588517['prototype']['_addRenderedEdge']=function(_0x16fd1c,_0x1542ed){this['_edgeCurrentTotalLength']+=_0x16fd1c,this['_edgeCurrentCount']+=_0x1542ed;};function _0x41c724(_0x2c2b90,_0x47498d){if(!_0x2c2b90['_waterPlanes'])return;let _0x12a383=_0x2c2b90['_waterPlanes'];_0x47498d['curDis']===undefined&&(_0x47498d['curDis']=0x615299);_0x47498d['heightOffset']===undefined&&(_0x47498d['heightOffset']=0x0);let _0x205fa8=_0x47498d['camera']['positionWC'];for(let _0x129bfc in _0x12a383['_hash']){if(_0x12a383['_hash']['hasOwnProperty'](_0x129bfc)){let _0x513786=_0x12a383['get'](_0x129bfc),_0x2a293a=_0x513786['boundingVolume'];if(_0x47498d['cullingVolume']['computeVisibility'](_0x2a293a)===Cesium['Intersect']['OUTSIDE'])continue;let _0xcf63e4=Cesium['Cartesian3']['distance'](_0x2a293a['center'],_0x205fa8)-_0x2a293a['radius'];_0xcf63e4=_0xcf63e4<0.01?0.01:_0xcf63e4,_0xcf63e4<_0x47498d['curDis']&&(_0x47498d['curDis']=_0xcf63e4,_0x47498d['heightOffset']=_0x513786['distance']);}}}_0x588517['prototype']['addWaterPlane']=function(_0x4d2157){let _0x15414c=this['_waterPlanes']['length'];return this['_waterPlanes']['set'](_0x15414c,_0x4d2157),_0x15414c;},_0x588517['prototype']['removeWaterPlane']=function(_0x510c98){this['_waterPlanes']['remove'](_0x510c98);},_0x588517['prototype']['prePassesUpdate']=function(_0x3c840e){if(!this['ready'])return;_0x3c840e['newFrame']&&(this['_cache']['reset'](),this['_requestTiles']['length']=0x0,this['_processTiles']['length']=0x0,this['_renderQueue']['length']=0x0,Cesium['defined'](_0x3c840e['brdfLutGenerator'])&&_0x3c840e['brdfLutGenerator']['update'](_0x3c840e),_0x41c724(this,_0x3c840e));};let _0x519aeb=new Cesium['Matrix4']();_0x588517['prototype']['postPassesUpdate']=function(_0x36b100){if(!this['ready'])return;_0x2b50a3(this),this['_updateFlattenFramebuffer'](_0x36b100),this['_updateEdgeDistanceFalloffFactor'](),this['_updateExcavationFrameBuffer'](_0x36b100),this['_subTextureManager']&&this['_subTextureManager']['processRequests'](this['id']);};function _0x4eaade(_0x14001c,_0x5faf14){let _0x439b95=_0x5faf14['camera'];if(_0x439b95['positionCartographic']['height']<_0x14001c['_minVisibleAltitude']||_0x439b95['positionCartographic']['height']>_0x14001c['_maxVisibleAltitude'])return![];if(!_0x14001c['getVisibleInViewport'](_0x5faf14['multiViewportIndex']))return![];return _0x14001c['visible'];}function _0x5b3e61(_0x5c98d1,_0x56a58b){if(_0x5c98d1['_enableClip']){let _0x3cd8a4=_0x56a58b['camera']['inverseViewMatrix'];Cesium['Matrix4']['transpose'](_0x3cd8a4,_0x519aeb);for(let _0x5d64ae=0x0;_0x5d64ae<0x6;_0x5d64ae++){Cesium['Matrix4']['multiplyByVector'](_0x519aeb,_0x5c98d1['_oriClipPlane'][_0x5d64ae],_0x5c98d1['_clipPlane'][_0x5d64ae]);}}}function _0x5d4f9d(_0x115804){var _0x7a4325=0x0;Cesium['defined'](_0x115804['style3D'])&&(_0x7a4325=_0x115804['style3D']['bottomAltitude']);var _0x66561a=_0x115804['height']+_0x7a4325,_0x4818c2=_0x115804['lon'],_0x28a501=_0x115804['lat'];if(_0x115804['_sceneMode']===Cesium['SceneMode']['SCENE3D'])_0x115804['_position']=Cesium['Cartesian3']['fromDegrees'](_0x4818c2,_0x28a501,_0x66561a),_0x115804['modelMatrix']=Cesium['Transforms']['eastNorthUpToFixedFrame'](_0x115804['_position']),_0x115804['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x115804['modelMatrix'],_0x115804['invModelMatrix']);else{if(_0x4818c2>0xb4||_0x4818c2<-0xb4||_0x28a501>0xb4||_0x28a501<-0xb4){let _0x2216ad=_0x4818c2,_0xf1d6d4=_0x28a501;_0x115804['_position']=new Cesium['Cartesian3'](_0x2216ad,_0xf1d6d4,_0x66561a);}else{let _0x4abb62=new Cesium['GeographicProjection'](),_0x43439e=Cesium['Cartesian3']['fromDegrees'](_0x4818c2,_0x28a501,_0x66561a),_0x16dd2b=_0x4abb62['ellipsoid']['cartesianToCartographic'](_0x43439e);_0x115804['_position']=_0x4abb62['project'](_0x16dd2b);}Cesium['Matrix4']['fromTranslation'](_0x115804['_position'],_0x115804['modelMatrix']),Cesium['Matrix4']['multiply'](_0x59fd86,_0x115804['modelMatrix'],_0x115804['modelMatrix']),_0x115804['invModelMatrix']=Cesium['Matrix4']['inverse'](_0x115804['modelMatrix'],_0x115804['invModelMatrix']);}}_0x588517['prototype']['update']=function(_0x3785ca){if(!this['ready']||!_0x4eaade(this,_0x3785ca))return;this['_PBRMaterialParams']['loadingTexture']&&this['_updatePBRMaterial']();if(this['_textureCompressType']===_0x2993ae['CRN_DXT5']&&!_0x1cc62b['wasmReady']){_0x1cc62b['init']();return;}if(this['_textureCompressType']===_0x2993ae['KTX2']&&!_0x3c2b4a['wasmReady']){_0x3c2b4a['init'](this['context']);return;}if(this['_vertexCompressionType']==='DRACO'&&!_0x398a18['wasmReady']){_0x398a18['init']();return;}this['_schuduler']['schedule'](this,_0x3785ca),_0x3fdd22(this),_0x5b1dcf(this,_0x3785ca),_0x89ad01(this,_0x3785ca),_0x5b3e61(this,_0x3785ca);var _0x2df2d9=this['_excavateRegionCommands']['values']['length'];for(var _0x5645af=0x0;_0x5645af<_0x2df2d9;_0x5645af++){var _0x29a859=this['_excavateRegionCommands']['values'][_0x5645af];_0x3785ca['commandList']['push'](_0x29a859);}this['_style3D']['_dirty']&&(_0x5d4f9d(this),this['_style3D']['_dirty']=![]),this['_frameState']=_0x3785ca;},_0x588517['prototype']['setPBRMaterialFromJSON']=function(_0x1f95f0){var _0x4b7651=this,_0x1ad91a=typeof _0x1f95f0==='string';_0x4b7651['_PBRMaterialParams']['baseUri']=_0x1ad91a?Cesium['getBaseUri'](_0x1f95f0):'';if(_0x1ad91a){let _0x19b711=Cesium['Resource']['createIfNeeded'](_0x1f95f0);_0x19b711['fetchJson'](_0x1f95f0)['then'](function(_0xc6db97){_0x39b6d2(_0xc6db97,_0x4b7651);});}else _0x39b6d2(_0x1f95f0,_0x4b7651);};function _0x39b6d2(_0x5be273,_0x3afdaa){var _0x127912=_0x3afdaa,_0x292ad4=_0x127912['_PBRMaterialParams']['baseUri'];_0x127912['_PBRMaterialParams']=_0x5be273['material'],_0x127912['_PBRMaterialParams']['baseUri']=_0x292ad4,_0x127912['_loadMaterialTexture'](_0x127912['_PBRMaterialParams'],_0x292ad4);var _0x5e2ef2=_0x127912['_PBRMaterialParams']['pbrMetallicRoughness'],_0x481de5=_0x127912['_PBRMaterialParams']['textureunitstates'];Cesium['defined'](_0x5e2ef2['volume'])&&(_0x127912['_PBRMaterialParams']['pbrMetallicRoughness']['volume']={'thickness':0x1,'tintColor':Cesium['Cartesian4']['fromElements'](0x1,0x1,0x1,0x1),'diffusionDistance':Cesium['Cartesian4']['fromElements'](0x1,0x1,0x1,0x1),'transmissionFactor':0x1});Cesium['defined'](_0x5e2ef2['clearcoat'])&&(_0x127912['_PBRMaterialParams']['pbrMetallicRoughness']['clearcoat']={'clearcoatFactor':0x0,'clearcoatRoughnessFactor':0x0});if(Cesium['defined'](_0x5e2ef2['snowEffect'])&&_0x5e2ef2['snowEffect']['snowNormalTextureIndex']!==-0x1){var _0x33f5a0=_0x292ad4+_0x481de5[_0x5e2ef2['snowEffect']['snowNormalTextureIndex']]['textureunitstate']['url'];_0x127912['_PBRMaterialParams']['pendingTextureCount']++,_0x33875f(_0x127912['context'],_0x33f5a0,_0x127912['_PBRMaterialParams'],_0x127912['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect'],'snowNormalTexture');}if(Cesium['defined'](_0x5e2ef2['snowEffect'])&&_0x5e2ef2['snowEffect']['snowMaskTextureIndex']!==-0x1){var _0x33f5a0=_0x292ad4+_0x481de5[_0x5e2ef2['snowEffect']['snowMaskTextureIndex']]['textureunitstate']['url'];_0x127912['_PBRMaterialParams']['pendingTextureCount']++,_0x33875f(_0x127912['context'],_0x33f5a0,_0x127912['_PBRMaterialParams'],_0x127912['_PBRMaterialParams']['pbrMetallicRoughness']['snowEffect'],'snowMaskTexture');}if(Cesium['defined'](_0x5e2ef2['rainEffect'])&&_0x5e2ef2['rainEffect']['rippleTextureIndex']!==-0x1){var _0x33f5a0=_0x292ad4+_0x481de5[_0x5e2ef2['rainEffect']['rippleTextureIndex']]['textureunitstate']['url'];_0x127912['_PBRMaterialParams']['pendingTextureCount']++,_0x33875f(_0x127912['context'],_0x33f5a0,_0x127912['_PBRMaterialParams'],_0x127912['_PBRMaterialParams']['pbrMetallicRoughness']['rainEffect'],'rippleTexture');}}function _0x1bf5f0(_0x4081d3,_0x119645){_0x4081d3['pbrParameterChange'](_0x119645);}_0x588517['prototype']['_updatePBRMaterial']=function(){if(!Cesium['defined'](this['_PBRMaterialParams'])||!Cesium['defined'](this['_PBRMaterialParams']['pendingTextureCount']))return;if(this['_PBRMaterialParams']['pendingTextureCount']===this['_PBRMaterialParams']['readyTextureCount']){var _0x80ae7f={};_0x80ae7f['enable']=!![],_0x80ae7f['layer']=this,this['_tranverseRenderEntity'](_0x80ae7f,_0x1bf5f0),this['_PBRMaterialParams']['loadingTexture']=![];}},_0x588517['prototype']['removePBRMaterial']=function(){var _0x25dbd8=this['_PBRMaterialParams']['pbrMetallicRoughness'];for(var _0x122331 in _0x25dbd8){_0x25dbd8['hasOwnProperty'](_0x122331)&&_0x25dbd8[_0x122331]instanceof Cesium['Texture']&&_0x25dbd8[_0x122331]['destroy']();}this['_PBRMaterialParams']={'pbrMetallicRoughness':{'metallicFactor':0x0,'roughnessFactor':0x0,'baseColor':new Cartesian4(0x1,0x1,0x1,0x1),'baseColorTextureIndex':-0x1,'emissiveFactor':Cartesian3['ZERO'],'emissiveTextureIndex':-0x1,'occlusionTextureIndex':-0x1,'metallicRoughnessTextureIndex':-0x1,'normalTextureIndex':-0x1,'normalTexture':undefined,'baseColorTexture':undefined,'intensityScale':0x1,'snowEffect':undefined,'rainEffect':undefined,'volume':undefined,'clearcoat':undefined,'anisotropy':undefined},'loadingTexture':undefined};var _0x42a6fd={};_0x42a6fd['enable']=!![],_0x42a6fd['layer']=this,this['_tranverseRenderEntity'](_0x42a6fd,_0x1bf5f0);};function _0x33875f(_0x2f882b,_0x4e9e9e,_0x5af446,_0x30e7f1,_0x1d1dfd){var _0x73071a=Cesium['Resource']['createIfNeeded'](_0x4e9e9e),_0x175dc9=_0x73071a['fetchImage']()['then'](function(_0x39b87c){var _0x1ce935=new Cesium['Texture']({'context':_0x2f882b,'source':_0x39b87c,'sampler':new Cesium['Sampler']({'wrapS':Cesium['TextureWrap']['REPEAT'],'wrapT':Cesium['TextureWrap']['REPEAT'],'minificationFilter':Cesium['TextureMinificationFilter']['LINEAR_MIPMAP_LINEAR'],'magnificationFilter':Cesium['TextureMinificationFilter']['LINEAR']})}),_0x126d20=!Cesium['Math']['isPowerOfTwo'](_0x1ce935['width'])||!Cesium['Math']['isPowerOfTwo'](_0x1ce935['height']);!_0x126d20&&_0x1ce935['generateMipmap'](Cesium['MipmapHint']['NICEST']),_0x30e7f1[_0x1d1dfd]=_0x1ce935,_0x5af446['readyTextureCount']++;},_0x2c3dbf=>{console['error'](_0x2c3dbf),_0x5af446['pendingTextureCount']--;});_0x30e7f1[_0x1d1dfd]=_0x175dc9;}_0x588517['prototype']['_loadMaterialTexture']=function(_0x33d2de,_0x18e5d1){_0x33d2de['loadingTexture']=!![];var _0x5258ff=_0x33d2de['pbrMetallicRoughness'],_0x288b7e=_0x33d2de['textureunitstates'],_0x383a79=_0x5258ff['baseColorTextureIndex'];!Cesium['defined'](_0x33d2de['pendingTextureCount'])&&(_0x33d2de['pendingTextureCount']=0x0);!Cesium['defined'](_0x33d2de['readyTextureCount'])&&(_0x33d2de['readyTextureCount']=0x0);var _0x20e36f,_0x1bc6c5,_0x37658c=this['context'],_0x2d6b72=Cesium['defined'](_0x18e5d1)?_0x18e5d1:this['_baseUri']+this['_materialRelativePath'];_0x383a79>-0x1&&!Cesium['defined'](_0x5258ff['baseColorTexture'])&&(_0x1bc6c5=_0x288b7e[_0x383a79],_0x20e36f=_0x2d6b72+_0x1bc6c5['textureunitstate']['url'],_0x33875f(_0x37658c,_0x20e36f,_0x33d2de,_0x33d2de['pbrMetallicRoughness'],'baseColorTexture'),_0x33d2de['pendingTextureCount']++);var _0x22e29d=_0x5258ff['emissiveTextureIndex'];_0x22e29d>-0x1&&!Cesium['defined'](_0x5258ff['emissiveTexture'])&&(_0x1bc6c5=_0x288b7e[_0x22e29d],_0x20e36f=_0x2d6b72+_0x1bc6c5['textureunitstate']['url'],_0x33875f(_0x37658c,_0x20e36f,_0x33d2de,_0x33d2de['pbrMetallicRoughness'],'emissiveTexture'),_0x33d2de['pendingTextureCount']++);var _0x40ee96=_0x5258ff['normalTextureIndex'];_0x40ee96>-0x1&&!Cesium['defined'](_0x5258ff['normalTexture'])&&(_0x1bc6c5=_0x288b7e[_0x40ee96],_0x20e36f=_0x2d6b72+_0x1bc6c5['textureunitstate']['url'],_0x33875f(_0x37658c,_0x20e36f,_0x33d2de,_0x33d2de['pbrMetallicRoughness'],'normalTexture'),_0x33d2de['pendingTextureCount']++);var _0x4a20e5=_0x5258ff['metallicRoughnessTextureIndex'];_0x4a20e5>-0x1&&!Cesium['defined'](_0x5258ff['metallicRoughnessTexture'])&&(_0x1bc6c5=_0x288b7e[_0x4a20e5],_0x20e36f=_0x2d6b72+_0x1bc6c5['textureunitstate']['url'],_0x33875f(_0x37658c,_0x20e36f,_0x33d2de,_0x33d2de['pbrMetallicRoughness'],'metallicRoughnessTexture'),_0x33d2de['pendingTextureCount']++);var _0x3d7ba8=_0x5258ff['occlusionTextureIndex'];_0x3d7ba8>-0x1&&!Cesium['defined'](_0x5258ff['occlusionTexture'])&&(_0x1bc6c5=_0x288b7e[_0x3d7ba8],_0x20e36f=_0x2d6b72+_0x1bc6c5['textureunitstate']['url'],_0x33875f(_0x37658c,_0x20e36f,_0x33d2de,_0x33d2de['pbrMetallicRoughness'],'occlusionTexture'),_0x33d2de['pendingTextureCount']++);},_0x588517['prototype']['_updateExcavationFrameBuffer']=function(_0x2269ae){if(!this['_excavationUpdate'])return;let _0x4d06c7=this['context'];for(var _0x2eb461 in _0x2269ae['_framebufferList']){_0x2eb461['indexOf']('_excavationHeightLayer')>-0x1&&!Cesium['defined'](this['_excavationRegions']['get'](_0x2eb461['slice'](0x16)))&&(_0x2269ae['_framebufferList'][_0x2eb461]=!_0x2269ae['_framebufferList'][_0x2eb461]['isDestroyed']()&&_0x2269ae['_framebufferList'][_0x2eb461]['destroy'](),delete _0x2269ae['_framebufferList'][_0x2eb461]);}var _0x5adaa4=this['_excavationRegions']['values']['length'];this['_hasExcavation']=_0x5adaa4>0x0,this['_excavationUpdate']=![],this['_excavationBounds']=_0x57f50f(this['_excavationRegions']['values']);var _0x3baa95=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x0,0x0,0x0,0x0),'depth':0x1});_0x3baa95['framebuffer']=new Cesium['Framebuffer']({'context':_0x4d06c7,'colorTextures':[this['_excavationTexture']],'destroyAttachments':![]}),_0x3baa95['renderState']=Cesium['RenderState']['fromCache'](),_0x3baa95['execute'](_0x4d06c7);for(var _0x35e40e=0x0;_0x35e40e<_0x5adaa4;_0x35e40e++){var _0xcc3bfb=this['_excavationRegions']['values'][_0x35e40e];this['createRasterRegionDrawCommand'](_0x4d06c7,_0xcc3bfb,this['_excavationTexture'],_0x9eb517['Color']);var _0x5313cf=this;_0xcc3bfb['_command']['uniformMap']={'uRect':function(){return _0x5313cf['_excavationBounds'];}},_0xcc3bfb['_command']['execute'](_0x4d06c7);}_0x3baa95['framebuffer']['destroy']();},_0x588517['prototype']['createRasterRegionDrawCommand']=function(_0xf341ed,_0x5780ad,_0x222007,_0x51fd55){if(!Cesium['defined'](_0x5780ad)||Cesium['defined'](_0x5780ad['_command']))return;var _0xf68d8d=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['TRIANGLES']});_0x5780ad['_command']=_0xf68d8d;var _0x7af7c6={'position':0x0};_0xf68d8d['vertexArray']=Cesium['VertexArray']['fromGeometry']({'context':_0xf341ed,'geometry':_0x5780ad['geometry'],'attributeLocations':_0x7af7c6,'bufferUsage':Cesium['BufferUsage']['STATIC_DRAW'],'interleave':!![],'owner':this['name']});var _0x2f64c7=new Cesium['ShaderSource']({'sources':[_0x11df36]});if(_0x51fd55==_0x9eb517['Altitude'])_0x2f64c7['defines']['push']('Mode_Height'),_0x222007['pixelDatatype']===PixelDatatype['FLOAT']&&_0x2f64c7['defines']['push']('UseFloatTexture'),_0xf68d8d['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionAltitudeSp','context':_0xf341ed,'vertexShaderSource':_0xb82d6,'fragmentShaderSource':_0x2f64c7,'attributeLocations':_0x7af7c6});else _0x51fd55==_0x9eb517['Texture']?(_0x2f64c7['defines']['push']('OVERLAY'),_0xf68d8d['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionTextureSp','context':_0xf341ed,'vertexShaderSource':_0x622c68,'fragmentShaderSource':_0x2f64c7,'attributeLocations':_0x7af7c6})):_0xf68d8d['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'name':'RegionRasterSp','context':_0xf341ed,'vertexShaderSource':_0x566cd3,'fragmentShaderSource':_0x2f64c7,'attributeLocations':_0x7af7c6});_0xf68d8d['framebuffer']=new Cesium['Framebuffer']({'context':_0xf341ed,'colorTextures':[_0x222007],'destroyAttachments':![]}),_0xf68d8d['renderState']=Cesium['RenderState']['fromCache']({'viewport':new Cesium['BoundingRectangle'](0x0,0x0,this['_flattenTextureWidth'],this['_flattenTextureWidth'])});},_0x588517['prototype']['isDestroyed']=function(){return![];},_0x588517['prototype']['destroy']=function(){this['_cache']['reset'](),_0x2b50a3(this),this['_rootTiles']['length']=0x0,this['_requestTiles']['length']=0x0,this['_processTiles']['length']=0x0,this['_renderQueue']['length']=0x0,this['_selections']['length']=0x0,this['_objsOperationList']['removeAll'](),this['_objsVisibleList']['removeAll'](),this['_objsHideList']['removeAll'](),this['_objsVisibleMap']={},this['_objsColorList']={},this['_hypsometric']['destroy'](),this['_flattenPar']['destroy']();var _0x1fcd7a=Object['keys'](this['_excavationRegions']['_hash']);for(var _0x54f65f=0x0,_0x58d82b=_0x1fcd7a['length'];_0x54f65f<_0x58d82b;_0x54f65f++){var _0x19b499=_0x1fcd7a[_0x54f65f],_0x3aaded=this['_excavationRegions']['get'](_0x19b499);_0x3aaded['destroy'](),this['_removeExcavationCommands'](_0x19b499);}return this['_excavationRegions']['removeAll'](),delete this['_excavationBounds'],this['_excavationBounds']=null,defined(this['_excavationTexture'])&&(this['_excavationTexture']['destroy'](),this['_excavationTexture']=null),defined(this['_excavationSideTexture'])&&(this['_excavationSideTexture']['destroy'](),this['_excavationSideTexture']=null),defined(this['_excavationBottomTexture'])&&(this['_excavationBottomTexture']['destroy'](),this['_excavationBottomTexture']=null),Cesium['destroyObject'](this);};export default _0x588517;