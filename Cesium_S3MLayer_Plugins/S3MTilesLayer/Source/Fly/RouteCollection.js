const _0x5d016=(function(){let _0x546e60=!![];return function(_0x5187d1,_0x76ce0f){const _0x15a707=_0x546e60?function(){if(_0x76ce0f){const _0x2231a1=_0x76ce0f['apply'](_0x5187d1,arguments);return _0x76ce0f=null,_0x2231a1;}}:function(){};return _0x546e60=![],_0x15a707;};}()),_0x26f388=_0x5d016(this,function(){return _0x26f388['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x26f388)['search']('(((.+)+)+)+$');});_0x26f388();import _0x413032 from'../ThirdParty/defer.js';import _0x2936f9 from'./Route.js';const _0x318e7d=Cesium['Cartesian3'],_0x2991c6=Cesium['DeveloperError'],_0x19a972=Cesium['defined'];function _0x26a61d(_0x45b409){this['_entityCollection']=_0x45b409,this['_routes']=[],this['_ready']=![],this['_readyPromise']=_0x413032();}Object['defineProperties'](_0x26a61d['prototype'],{'routes':{'get':function(){return this['_routes'];}},'ready':{'get':function(){return this['_ready'];}},'readyPromise':{'get':function(){return this['_readyPromise']['promise'];}}}),_0x26a61d['prototype']['addRoute']=function(_0x3ba645){if(_0x3ba645){this['_routes']['push'](_0x3ba645);if(_0x3ba645['isLineVisible']&&_0x19a972(this['_entityCollection'])){const _0x22dabf=_0x3ba645['stopCollection'];let _0x4d0059=_0x22dabf['length'],_0x202925=[];while(_0x4d0059--){_0x202925['push'](_0x22dabf[_0x4d0059]['point']);}_0x3ba645['lineEntity']=this['_entityCollection']['add']({'name':_0x3ba645['routeName'],'polyline':{'positions':_0x202925,'width':0x5}});}}},_0x26a61d['prototype']['get']=function(_0x3cf7a4){return this['_routes'][_0x3cf7a4];},_0x26a61d['prototype']['fromFile']=function(_0x2ca363){const _0x4e7fcc=this;Promise['resolve'](_0x2ca363)['then'](_0x5d37d4=>{const _0x4808e8=Cesium['Resource']['createIfNeeded'](_0x5d37d4);return _0x4808e8['fetchXML']();})['then'](_0x3cacc1=>{_0x5d2f84(_0x4e7fcc,_0x3cacc1);});},_0x26a61d['prototype']['fromXML']=function(_0x3e5e31){if(!_0x19a972(_0x3e5e31))throw new _0x2991c6('xml\x20content\x20is\x20required\x20to\x20create\x20routes!');let _0x533545=new DOMParser();const _0x3c7dc4=_0x533545['parseFromString'](_0x3e5e31,'text/xml');try{_0x5d2f84(this,_0x3c7dc4);}catch(_0x4d26f4){throw new _0x2991c6(_0x4d26f4);}};function _0x5d2f84(_0x5c339f,_0x180f3a){const _0x191eff=_0x5c339f,_0x3e694f=_0x180f3a['firstChild'],_0x39aec0=_0x3e694f['namespaceURI'],_0x29183a=_0x50f1f6(_0x3e694f,'route',_0x39aec0);for(let _0x3fae9f=0x0,_0x2f3cf9=_0x29183a['length'];_0x3fae9f<_0x2f3cf9;_0x3fae9f++){const _0x3a0794=_0x29183a[_0x3fae9f],_0x494d1a=_0x50f1f6(_0x3a0794,'routestop',_0x39aec0),_0x5a4aa6=_0x12d67b(_0x3a0794,'speed',_0x39aec0),_0x17c676=_0x43711e(_0x3a0794,'name',_0x39aec0),_0x291377=_0x408d5f(_0x3a0794,'showroutestop',_0x39aec0),_0x39e7e1=_0x408d5f(_0x3a0794,'showrouteline',_0x39aec0),_0x122d57=_0x408d5f(_0x3a0794,'flycircle',_0x39aec0),_0x2eecc6=_0x408d5f(_0x3a0794,'alongline',_0x39aec0),_0x10e06c=_0x408d5f(_0x3a0794,'headingfree',_0x39aec0),_0xec032e=_0x408d5f(_0x3a0794,'tiltfree',_0x39aec0),_0x30737c=_0x408d5f(_0x3a0794,'altitudefree',_0x39aec0),_0x5b1c8a=new _0x2936f9({'entityCollection':_0x191eff['_entityCollection'],'routeName':_0x17c676,'speed':_0x5a4aa6,'isLineVisible':_0x39e7e1,'isFlyLoop':_0x122d57,'isStopVisible':_0x291377,'isAlongline':_0x2eecc6,'isHeadingFree':_0x10e06c,'isTiltFree':_0xec032e,'isAltitudeFree':_0x30737c,'stopsInfo':{'stopNodes':_0x494d1a,'namespace':_0x39aec0}});_0x5b1c8a['init'](),_0x191eff['addRoute'](_0x5b1c8a),_0x191eff['_ready']=!![];}_0x191eff['_readyPromise']['resolve']();}function _0x12d67b(_0x1a75e2,_0x12712f){if(!_0x19a972(_0x1a75e2))return undefined;let _0x4e42a7=_0x1a75e2['getAttribute'](_0x12712f);if(_0x4e42a7!==null){const _0x46eaa5=parseFloat(_0x4e42a7);return!isNaN(_0x46eaa5)?_0x46eaa5:undefined;}return undefined;}function _0x43711e(_0x5577df,_0x2d5efa){if(!_0x19a972(_0x5577df))return undefined;let _0x301bd8=_0x5577df['getAttribute'](_0x2d5efa);return _0x301bd8!==null?_0x301bd8:undefined;}function _0x408d5f(_0x1ec645,_0x5cc879){if(!_0x19a972(_0x1ec645))return undefined;let _0x5698c7=_0x1ec645['getAttribute'](_0x5cc879);_0x5698c7=_0x5698c7['toLowerCase']();if('false'===_0x5698c7)return![];if('true'===_0x5698c7)return!![];return undefined;}function _0x1b4724(_0x321a66,_0x578c69,_0x4f3d33){if(!_0x19a972(_0x321a66))return undefined;const _0x30cb6d=_0x321a66['childNodes'],_0x2f2819=_0x30cb6d['length'];for(let _0x28b26b=0x0;_0x28b26b<_0x2f2819;_0x28b26b++){const _0x196485=_0x30cb6d[_0x28b26b];if(_0x196485['localName']===_0x578c69&&_0x4f3d33['indexOf'](_0x196485['namespaceURI'])!==-0x1)return _0x196485;}return undefined;}function _0x3bf483(_0x5e17c3,_0x5d34aa,_0x55e6fa){if(!_0x19a972(_0x5e17c3))return undefined;let _0x4dcde5=[];const _0x214d2d=_0x5e17c3['getElementsByTagNameNS']('*',_0x5d34aa),_0x575836=_0x214d2d['length'];for(let _0x49da64=0x0;_0x49da64<_0x575836;_0x49da64++){let _0x52e1fd=_0x214d2d[_0x49da64];_0x52e1fd['localName']===_0x5d34aa&&_0x55e6fa['indexOf'](_0x52e1fd['namespaceURI'])!==-0x1&&_0x4dcde5['push'](_0x52e1fd);}return _0x4dcde5;}function _0x50f1f6(_0xe8bf85,_0x17304d,_0x440225){if(!_0x19a972(_0xe8bf85))return[];let _0x30e57c=[],_0x42f308=_0xe8bf85['childNodes'],_0x3e3da1=_0x42f308['length'];for(let _0x4410ba=0x0;_0x4410ba<_0x3e3da1;_0x4410ba++){let _0x475dd8=_0x42f308[_0x4410ba];_0x475dd8['localName']===_0x17304d&&_0x440225['indexOf'](_0x475dd8['namespaceURI'])!==-0x1&&_0x30e57c['push'](_0x475dd8);}return _0x30e57c;}function _0x4f5ace(_0xabca69,_0x1d0337,_0x49e997){const _0x1f7dec=_0x1b4724(_0xabca69,_0x1d0337,_0x49e997);if(_0x19a972(_0x1f7dec)){const _0x4eed8c=parseFloat(_0x1f7dec['textContent']);return!isNaN(_0x4eed8c)?_0x4eed8c:undefined;}return undefined;}function _0xd3be22(_0xf9bf63,_0x45ecc6,_0xf790){let _0x156e95=_0x1b4724(_0xf9bf63,_0x45ecc6,_0xf790);if(_0x19a972(_0x156e95))return _0x156e95['textContent']['trim']();return undefined;}function _0xf7bbed(_0x54562c,_0x1ab840,_0x447363){let _0x46ee9a=_0x1b4724(_0x54562c,_0x1ab840,_0x447363);if(_0x19a972(_0x46ee9a)){let _0x38bcce=_0x46ee9a['textContent']['trim']();return _0x38bcce==='1'||/^true$/i['test'](_0x38bcce);}return undefined;}function _0x5f2daf(_0x5a8709,_0x56c000,_0x2c0ea2){const _0x5dd039=_0x5a8709['x']+(_0x56c000['x']-_0x5a8709['x'])*_0x2c0ea2,_0x23d837=_0x5a8709['y']+(_0x56c000['y']-_0x5a8709['y'])*_0x2c0ea2,_0x5bc937=_0x5a8709['z']+(_0x56c000['z']-_0x5a8709['z'])*_0x2c0ea2;return new _0x318e7d(_0x5dd039,_0x23d837,_0x5bc937);}export default _0x26a61d;