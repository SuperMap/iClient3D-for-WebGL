const _0x2aa94e=(function(){let _0x3f809d=!![];return function(_0x38c544,_0x1fe774){const _0x2e14e6=_0x3f809d?function(){if(_0x1fe774){const _0x4b9d91=_0x1fe774['apply'](_0x38c544,arguments);return _0x1fe774=null,_0x4b9d91;}}:function(){};return _0x3f809d=![],_0x2e14e6;};}()),_0x4b93da=_0x2aa94e(this,function(){return _0x4b93da['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x4b93da)['search']('(((.+)+)+)+$');});_0x4b93da();import _0x5ccaf from'../ThirdParty/defer.js';import _0x20871c from'./Route.js';const _0x1404c0=Cesium['Cartesian3'],_0x1909cb=Cesium['DeveloperError'],_0x886106=Cesium['defined'];function _0x554109(_0x45bd99){this['_entityCollection']=_0x45bd99,this['_routes']=[],this['_ready']=![],this['_readyPromise']=_0x5ccaf();}Object['defineProperties'](_0x554109['prototype'],{'routes':{'get':function(){return this['_routes'];}},'ready':{'get':function(){return this['_ready'];}},'readyPromise':{'get':function(){return this['_readyPromise']['promise'];}}}),_0x554109['prototype']['addRoute']=function(_0x210211){if(_0x210211){this['_routes']['push'](_0x210211);if(_0x210211['isLineVisible']&&_0x886106(this['_entityCollection'])){const _0x4fb257=_0x210211['stopCollection'];let _0x39c3b1=_0x4fb257['length'],_0x21d921=[];while(_0x39c3b1--){_0x21d921['push'](_0x4fb257[_0x39c3b1]['point']);}_0x210211['lineEntity']=this['_entityCollection']['add']({'name':_0x210211['routeName'],'polyline':{'positions':_0x21d921,'width':0x5}});}}},_0x554109['prototype']['get']=function(_0x5319bc){return this['_routes'][_0x5319bc];},_0x554109['prototype']['fromFile']=function(_0x306e19){const _0x2839cf=this;Promise['resolve'](_0x306e19)['then'](_0x2b3b92=>{const _0x40e9ef=Cesium['Resource']['createIfNeeded'](_0x2b3b92);return _0x40e9ef['fetchXML']();})['then'](_0x4aebe0=>{_0x42efd2(_0x2839cf,_0x4aebe0);});},_0x554109['prototype']['fromXML']=function(_0x69d075){if(!_0x886106(_0x69d075))throw new _0x1909cb('xml\x20content\x20is\x20required\x20to\x20create\x20routes!');let _0x51442b=new DOMParser();const _0x305bf4=_0x51442b['parseFromString'](_0x69d075,'text/xml');try{_0x42efd2(this,_0x305bf4);}catch(_0x330b6c){throw new _0x1909cb(_0x330b6c);}};function _0x42efd2(_0x1b86dc,_0x4f92fc){const _0x26469d=_0x1b86dc,_0x4d0415=_0x4f92fc['firstChild'],_0x2b8254=_0x4d0415['namespaceURI'],_0x392209=_0x3b7714(_0x4d0415,'route',_0x2b8254);for(let _0x35e9d7=0x0,_0x4874da=_0x392209['length'];_0x35e9d7<_0x4874da;_0x35e9d7++){const _0x152a8b=_0x392209[_0x35e9d7],_0x5da508=_0x3b7714(_0x152a8b,'routestop',_0x2b8254),_0x1e7443=_0x3edd6f(_0x152a8b,'speed',_0x2b8254),_0x24ce67=_0x2184fe(_0x152a8b,'name',_0x2b8254),_0x1eb8c0=_0x4f0344(_0x152a8b,'showroutestop',_0x2b8254),_0x158c4e=_0x4f0344(_0x152a8b,'showrouteline',_0x2b8254),_0x50a1bb=_0x4f0344(_0x152a8b,'flycircle',_0x2b8254),_0x14803f=_0x4f0344(_0x152a8b,'alongline',_0x2b8254),_0x1ec510=_0x4f0344(_0x152a8b,'headingfree',_0x2b8254),_0x345d5f=_0x4f0344(_0x152a8b,'tiltfree',_0x2b8254),_0x22bab4=_0x4f0344(_0x152a8b,'altitudefree',_0x2b8254),_0x542fa4=new _0x20871c({'entityCollection':_0x26469d['_entityCollection'],'routeName':_0x24ce67,'speed':_0x1e7443,'isLineVisible':_0x158c4e,'isFlyLoop':_0x50a1bb,'isStopVisible':_0x1eb8c0,'isAlongline':_0x14803f,'isHeadingFree':_0x1ec510,'isTiltFree':_0x345d5f,'isAltitudeFree':_0x22bab4,'stopsInfo':{'stopNodes':_0x5da508,'namespace':_0x2b8254}});_0x542fa4['init'](),_0x26469d['addRoute'](_0x542fa4),_0x26469d['_ready']=!![];}_0x26469d['_readyPromise']['resolve']();}function _0x3edd6f(_0x340351,_0x42a26a){if(!_0x886106(_0x340351))return undefined;let _0x1f3d9e=_0x340351['getAttribute'](_0x42a26a);if(_0x1f3d9e!==null){const _0x1c9f5b=parseFloat(_0x1f3d9e);return!isNaN(_0x1c9f5b)?_0x1c9f5b:undefined;}return undefined;}function _0x2184fe(_0x7f508d,_0x2bca33){if(!_0x886106(_0x7f508d))return undefined;let _0x34039a=_0x7f508d['getAttribute'](_0x2bca33);return _0x34039a!==null?_0x34039a:undefined;}function _0x4f0344(_0x52e93f,_0x392174){if(!_0x886106(_0x52e93f))return undefined;let _0x259e58=_0x52e93f['getAttribute'](_0x392174);_0x259e58=_0x259e58['toLowerCase']();if('false'===_0x259e58)return![];if('true'===_0x259e58)return!![];return undefined;}function _0x3debbd(_0x55abb1,_0x343d85,_0x369df4){if(!_0x886106(_0x55abb1))return undefined;const _0x1ac573=_0x55abb1['childNodes'],_0x76e004=_0x1ac573['length'];for(let _0x567e30=0x0;_0x567e30<_0x76e004;_0x567e30++){const _0x22c749=_0x1ac573[_0x567e30];if(_0x22c749['localName']===_0x343d85&&_0x369df4['indexOf'](_0x22c749['namespaceURI'])!==-0x1)return _0x22c749;}return undefined;}function _0x299e7d(_0x538bb8,_0x1e2aa4,_0x19fb49){if(!_0x886106(_0x538bb8))return undefined;let _0x5310bb=[];const _0x29c84c=_0x538bb8['getElementsByTagNameNS']('*',_0x1e2aa4),_0x538e9e=_0x29c84c['length'];for(let _0x555be8=0x0;_0x555be8<_0x538e9e;_0x555be8++){let _0x3efbfe=_0x29c84c[_0x555be8];_0x3efbfe['localName']===_0x1e2aa4&&_0x19fb49['indexOf'](_0x3efbfe['namespaceURI'])!==-0x1&&_0x5310bb['push'](_0x3efbfe);}return _0x5310bb;}function _0x3b7714(_0x2e30ce,_0x2f4957,_0x395770){if(!_0x886106(_0x2e30ce))return[];let _0x8e3cc0=[],_0x299110=_0x2e30ce['childNodes'],_0x22827b=_0x299110['length'];for(let _0x34e770=0x0;_0x34e770<_0x22827b;_0x34e770++){let _0x5151e6=_0x299110[_0x34e770];_0x5151e6['localName']===_0x2f4957&&_0x395770['indexOf'](_0x5151e6['namespaceURI'])!==-0x1&&_0x8e3cc0['push'](_0x5151e6);}return _0x8e3cc0;}function _0x31035b(_0x31fac9,_0x3b49e5,_0x23962b){const _0x2bd5e9=_0x3debbd(_0x31fac9,_0x3b49e5,_0x23962b);if(_0x886106(_0x2bd5e9)){const _0xb67365=parseFloat(_0x2bd5e9['textContent']);return!isNaN(_0xb67365)?_0xb67365:undefined;}return undefined;}function _0x5ec3a7(_0xe34f0c,_0x3e54f6,_0x4b9206){let _0x45c53a=_0x3debbd(_0xe34f0c,_0x3e54f6,_0x4b9206);if(_0x886106(_0x45c53a))return _0x45c53a['textContent']['trim']();return undefined;}function _0x436038(_0x350088,_0x447562,_0x1c0e26){let _0x1a1efa=_0x3debbd(_0x350088,_0x447562,_0x1c0e26);if(_0x886106(_0x1a1efa)){let _0xf64cd9=_0x1a1efa['textContent']['trim']();return _0xf64cd9==='1'||/^true$/i['test'](_0xf64cd9);}return undefined;}function _0x16cd9b(_0x4d2a00,_0x320bf3,_0x32d437){const _0x36b6db=_0x4d2a00['x']+(_0x320bf3['x']-_0x4d2a00['x'])*_0x32d437,_0x13fbe8=_0x4d2a00['y']+(_0x320bf3['y']-_0x4d2a00['y'])*_0x32d437,_0x1303b9=_0x4d2a00['z']+(_0x320bf3['z']-_0x4d2a00['z'])*_0x32d437;return new _0x1404c0(_0x36b6db,_0x13fbe8,_0x1303b9);}export default _0x554109;