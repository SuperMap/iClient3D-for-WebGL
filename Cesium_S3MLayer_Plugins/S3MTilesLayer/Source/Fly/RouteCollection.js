const _0x5329fa=(function(){let _0x3ffa88=!![];return function(_0x44be34,_0x389c9e){const _0x45e774=_0x3ffa88?function(){if(_0x389c9e){const _0x46880f=_0x389c9e['apply'](_0x44be34,arguments);return _0x389c9e=null,_0x46880f;}}:function(){};return _0x3ffa88=![],_0x45e774;};}()),_0x463816=_0x5329fa(this,function(){return _0x463816['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x463816)['search']('(((.+)+)+)+$');});_0x463816();import _0x2372a2 from'../ThirdParty/defer.js';import _0x4525a3 from'./Route.js';const _0x557819=Cesium['Cartesian3'],_0x2c37b3=Cesium['DeveloperError'],_0x4ffcc0=Cesium['defined'];function _0x31b4e0(_0x56e4ce){this['_entityCollection']=_0x56e4ce,this['_routes']=[],this['_ready']=![],this['_readyPromise']=_0x2372a2();}Object['defineProperties'](_0x31b4e0['prototype'],{'routes':{'get':function(){return this['_routes'];}},'ready':{'get':function(){return this['_ready'];}},'readyPromise':{'get':function(){return this['_readyPromise']['promise'];}}}),_0x31b4e0['prototype']['addRoute']=function(_0x35da0f){if(_0x35da0f){this['_routes']['push'](_0x35da0f);if(_0x35da0f['isLineVisible']&&_0x4ffcc0(this['_entityCollection'])){const _0xe3f922=_0x35da0f['stopCollection'];let _0x37e7c7=_0xe3f922['length'],_0x4f6053=[];while(_0x37e7c7--){_0x4f6053['push'](_0xe3f922[_0x37e7c7]['point']);}_0x35da0f['lineEntity']=this['_entityCollection']['add']({'name':_0x35da0f['routeName'],'polyline':{'positions':_0x4f6053,'width':0x5}});}}},_0x31b4e0['prototype']['get']=function(_0x569835){return this['_routes'][_0x569835];},_0x31b4e0['prototype']['fromFile']=function(_0x4525e3){const _0x2063c9=this;Promise['resolve'](_0x4525e3)['then'](_0x1385c9=>{const _0x3453bc=Cesium['Resource']['createIfNeeded'](_0x1385c9);return _0x3453bc['fetchXML']();})['then'](_0x52afe9=>{_0x32e69e(_0x2063c9,_0x52afe9);});},_0x31b4e0['prototype']['fromXML']=function(_0x5f3b40){if(!_0x4ffcc0(_0x5f3b40))throw new _0x2c37b3('xml\x20content\x20is\x20required\x20to\x20create\x20routes!');let _0x576328=new DOMParser();const _0xe75c82=_0x576328['parseFromString'](_0x5f3b40,'text/xml');try{_0x32e69e(this,_0xe75c82);}catch(_0x199256){throw new _0x2c37b3(_0x199256);}};function _0x32e69e(_0x3aecb2,_0x14fcc1){const _0x3afbc7=_0x3aecb2,_0x31a94b=_0x14fcc1['firstChild'],_0x2bacf8=_0x31a94b['namespaceURI'],_0x2eeb67=_0x205df9(_0x31a94b,'route',_0x2bacf8);for(let _0x29db46=0x0,_0x34f202=_0x2eeb67['length'];_0x29db46<_0x34f202;_0x29db46++){const _0x346c7c=_0x2eeb67[_0x29db46],_0x3a477e=_0x205df9(_0x346c7c,'routestop',_0x2bacf8),_0x529ace=_0x3d8a6a(_0x346c7c,'speed',_0x2bacf8),_0x1a0ce9=_0xbe8110(_0x346c7c,'name',_0x2bacf8),_0x24a46e=_0x4617d6(_0x346c7c,'showroutestop',_0x2bacf8),_0x4b9195=_0x4617d6(_0x346c7c,'showrouteline',_0x2bacf8),_0x3a0be1=_0x4617d6(_0x346c7c,'flycircle',_0x2bacf8),_0x5bf08a=_0x4617d6(_0x346c7c,'alongline',_0x2bacf8),_0x5743ed=_0x4617d6(_0x346c7c,'headingfree',_0x2bacf8),_0x7c3e93=_0x4617d6(_0x346c7c,'tiltfree',_0x2bacf8),_0x2db096=_0x4617d6(_0x346c7c,'altitudefree',_0x2bacf8),_0x5d997e=new _0x4525a3({'entityCollection':_0x3afbc7['_entityCollection'],'routeName':_0x1a0ce9,'speed':_0x529ace,'isLineVisible':_0x4b9195,'isFlyLoop':_0x3a0be1,'isStopVisible':_0x24a46e,'isAlongline':_0x5bf08a,'isHeadingFree':_0x5743ed,'isTiltFree':_0x7c3e93,'isAltitudeFree':_0x2db096,'stopsInfo':{'stopNodes':_0x3a477e,'namespace':_0x2bacf8}});_0x5d997e['init'](),_0x3afbc7['addRoute'](_0x5d997e),_0x3afbc7['_ready']=!![];}_0x3afbc7['_readyPromise']['resolve']();}function _0x3d8a6a(_0x39196f,_0x212f1f){if(!_0x4ffcc0(_0x39196f))return undefined;let _0x58886b=_0x39196f['getAttribute'](_0x212f1f);if(_0x58886b!==null){const _0x2087f5=parseFloat(_0x58886b);return!isNaN(_0x2087f5)?_0x2087f5:undefined;}return undefined;}function _0xbe8110(_0x248583,_0x58ae74){if(!_0x4ffcc0(_0x248583))return undefined;let _0x1d028d=_0x248583['getAttribute'](_0x58ae74);return _0x1d028d!==null?_0x1d028d:undefined;}function _0x4617d6(_0x49aa06,_0x210a03){if(!_0x4ffcc0(_0x49aa06))return undefined;let _0x2bebb9=_0x49aa06['getAttribute'](_0x210a03);_0x2bebb9=_0x2bebb9['toLowerCase']();if('false'===_0x2bebb9)return![];if('true'===_0x2bebb9)return!![];return undefined;}function _0x18309d(_0x59a964,_0x32d95a,_0x1818f8){if(!_0x4ffcc0(_0x59a964))return undefined;const _0x3e653e=_0x59a964['childNodes'],_0x88d180=_0x3e653e['length'];for(let _0x4bc731=0x0;_0x4bc731<_0x88d180;_0x4bc731++){const _0x1f5bfd=_0x3e653e[_0x4bc731];if(_0x1f5bfd['localName']===_0x32d95a&&_0x1818f8['indexOf'](_0x1f5bfd['namespaceURI'])!==-0x1)return _0x1f5bfd;}return undefined;}function _0x2e64d2(_0x4d931f,_0x2cb1ff,_0x32a153){if(!_0x4ffcc0(_0x4d931f))return undefined;let _0xb30a91=[];const _0x57ebc1=_0x4d931f['getElementsByTagNameNS']('*',_0x2cb1ff),_0x3fa956=_0x57ebc1['length'];for(let _0x8bdac4=0x0;_0x8bdac4<_0x3fa956;_0x8bdac4++){let _0x964327=_0x57ebc1[_0x8bdac4];_0x964327['localName']===_0x2cb1ff&&_0x32a153['indexOf'](_0x964327['namespaceURI'])!==-0x1&&_0xb30a91['push'](_0x964327);}return _0xb30a91;}function _0x205df9(_0xb62807,_0x378f92,_0x3a6e5c){if(!_0x4ffcc0(_0xb62807))return[];let _0x52e9b9=[],_0x1785b7=_0xb62807['childNodes'],_0x79b53d=_0x1785b7['length'];for(let _0x34ff26=0x0;_0x34ff26<_0x79b53d;_0x34ff26++){let _0x232ae2=_0x1785b7[_0x34ff26];_0x232ae2['localName']===_0x378f92&&_0x3a6e5c['indexOf'](_0x232ae2['namespaceURI'])!==-0x1&&_0x52e9b9['push'](_0x232ae2);}return _0x52e9b9;}function _0x3eb9d8(_0x5c4d26,_0x5aedd8,_0x4dcd06){const _0x4d8221=_0x18309d(_0x5c4d26,_0x5aedd8,_0x4dcd06);if(_0x4ffcc0(_0x4d8221)){const _0x111b9c=parseFloat(_0x4d8221['textContent']);return!isNaN(_0x111b9c)?_0x111b9c:undefined;}return undefined;}function _0x50a43d(_0x32642f,_0x18c1f6,_0xc02737){let _0x16627a=_0x18309d(_0x32642f,_0x18c1f6,_0xc02737);if(_0x4ffcc0(_0x16627a))return _0x16627a['textContent']['trim']();return undefined;}function _0x3dcf4a(_0x40ac67,_0x1cd7b6,_0x43b7d0){let _0x34a99d=_0x18309d(_0x40ac67,_0x1cd7b6,_0x43b7d0);if(_0x4ffcc0(_0x34a99d)){let _0xe32dcb=_0x34a99d['textContent']['trim']();return _0xe32dcb==='1'||/^true$/i['test'](_0xe32dcb);}return undefined;}function _0x22a714(_0x5aa974,_0x316c6e,_0x3b5cbf){const _0x17c8bc=_0x5aa974['x']+(_0x316c6e['x']-_0x5aa974['x'])*_0x3b5cbf,_0x249273=_0x5aa974['y']+(_0x316c6e['y']-_0x5aa974['y'])*_0x3b5cbf,_0x2458b9=_0x5aa974['z']+(_0x316c6e['z']-_0x5aa974['z'])*_0x3b5cbf;return new _0x557819(_0x17c8bc,_0x249273,_0x2458b9);}export default _0x31b4e0;