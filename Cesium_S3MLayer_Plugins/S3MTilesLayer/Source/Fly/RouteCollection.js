const _0x398033=(function(){let _0x2f62fb=!![];return function(_0x2b97f0,_0x5bda96){const _0x5042de=_0x2f62fb?function(){if(_0x5bda96){const _0x2a6f95=_0x5bda96['apply'](_0x2b97f0,arguments);return _0x5bda96=null,_0x2a6f95;}}:function(){};return _0x2f62fb=![],_0x5042de;};}()),_0x4ecf53=_0x398033(this,function(){return _0x4ecf53['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x4ecf53)['search']('(((.+)+)+)+$');});_0x4ecf53();import _0x211723 from'../ThirdParty/defer.js';import _0x4b027c from'./Route.js';const _0x3064c0=Cesium['Cartesian3'],_0x1a02db=Cesium['DeveloperError'],_0x2a1662=Cesium['defined'];function _0x238a12(_0x116ccf){this['_entityCollection']=_0x116ccf,this['_routes']=[],this['_ready']=![],this['_readyPromise']=_0x211723();}Object['defineProperties'](_0x238a12['prototype'],{'routes':{'get':function(){return this['_routes'];}},'ready':{'get':function(){return this['_ready'];}},'readyPromise':{'get':function(){return this['_readyPromise']['promise'];}}}),_0x238a12['prototype']['addRoute']=function(_0x42e36d){if(_0x42e36d){this['_routes']['push'](_0x42e36d);if(_0x42e36d['isLineVisible']&&_0x2a1662(this['_entityCollection'])){const _0x24debe=_0x42e36d['stopCollection'];let _0x26bfa2=_0x24debe['length'],_0x3ea625=[];while(_0x26bfa2--){_0x3ea625['push'](_0x24debe[_0x26bfa2]['point']);}_0x42e36d['lineEntity']=this['_entityCollection']['add']({'name':_0x42e36d['routeName'],'polyline':{'positions':_0x3ea625,'width':0x5}});}}},_0x238a12['prototype']['get']=function(_0x2f6e56){return this['_routes'][_0x2f6e56];},_0x238a12['prototype']['fromFile']=function(_0x2c12b4){const _0x55a8c5=this;Promise['resolve'](_0x2c12b4)['then'](_0x445be3=>{const _0x524594=Cesium['Resource']['createIfNeeded'](_0x445be3);return _0x524594['fetchXML']();})['then'](_0x1eb25c=>{_0x27c64f(_0x55a8c5,_0x1eb25c);});},_0x238a12['prototype']['fromXML']=function(_0x469e83){if(!_0x2a1662(_0x469e83))throw new _0x1a02db('xml\x20content\x20is\x20required\x20to\x20create\x20routes!');let _0x8352e5=new DOMParser();const _0x1b79d8=_0x8352e5['parseFromString'](_0x469e83,'text/xml');try{_0x27c64f(this,_0x1b79d8);}catch(_0x545a29){throw new _0x1a02db(_0x545a29);}};function _0x27c64f(_0x1b357f,_0x2767eb){const _0x4be49c=_0x1b357f,_0x4ab7bc=_0x2767eb['firstChild'],_0x5ef69e=_0x4ab7bc['namespaceURI'],_0x4e8a3a=_0x2ca183(_0x4ab7bc,'route',_0x5ef69e);for(let _0x59b629=0x0,_0x10a37b=_0x4e8a3a['length'];_0x59b629<_0x10a37b;_0x59b629++){const _0xb57522=_0x4e8a3a[_0x59b629],_0x242e62=_0x2ca183(_0xb57522,'routestop',_0x5ef69e),_0x5c425c=_0xcd59d4(_0xb57522,'speed',_0x5ef69e),_0x5b7b20=_0x3972a3(_0xb57522,'name',_0x5ef69e),_0x5d84d1=_0x38dbcc(_0xb57522,'showroutestop',_0x5ef69e),_0x29a97a=_0x38dbcc(_0xb57522,'showrouteline',_0x5ef69e),_0x25f79e=_0x38dbcc(_0xb57522,'flycircle',_0x5ef69e),_0x2f3c14=_0x38dbcc(_0xb57522,'alongline',_0x5ef69e),_0x45b900=_0x38dbcc(_0xb57522,'headingfree',_0x5ef69e),_0x41c32d=_0x38dbcc(_0xb57522,'tiltfree',_0x5ef69e),_0x13bcd2=_0x38dbcc(_0xb57522,'altitudefree',_0x5ef69e),_0x47ea23=new _0x4b027c({'entityCollection':_0x4be49c['_entityCollection'],'routeName':_0x5b7b20,'speed':_0x5c425c,'isLineVisible':_0x29a97a,'isFlyLoop':_0x25f79e,'isStopVisible':_0x5d84d1,'isAlongline':_0x2f3c14,'isHeadingFree':_0x45b900,'isTiltFree':_0x41c32d,'isAltitudeFree':_0x13bcd2,'stopsInfo':{'stopNodes':_0x242e62,'namespace':_0x5ef69e}});_0x47ea23['init'](),_0x4be49c['addRoute'](_0x47ea23),_0x4be49c['_ready']=!![];}_0x4be49c['_readyPromise']['resolve']();}function _0xcd59d4(_0x1f0f37,_0x582fa3){if(!_0x2a1662(_0x1f0f37))return undefined;let _0x13d526=_0x1f0f37['getAttribute'](_0x582fa3);if(_0x13d526!==null){const _0x1aa05a=parseFloat(_0x13d526);return!isNaN(_0x1aa05a)?_0x1aa05a:undefined;}return undefined;}function _0x3972a3(_0x3e3fc5,_0x282aab){if(!_0x2a1662(_0x3e3fc5))return undefined;let _0x55fbda=_0x3e3fc5['getAttribute'](_0x282aab);return _0x55fbda!==null?_0x55fbda:undefined;}function _0x38dbcc(_0x7aaf77,_0x3a6de2){if(!_0x2a1662(_0x7aaf77))return undefined;let _0x5d99b0=_0x7aaf77['getAttribute'](_0x3a6de2);_0x5d99b0=_0x5d99b0['toLowerCase']();if('false'===_0x5d99b0)return![];if('true'===_0x5d99b0)return!![];return undefined;}function _0x1d5350(_0x1ca2d3,_0xeb9c38,_0x3028ba){if(!_0x2a1662(_0x1ca2d3))return undefined;const _0x330163=_0x1ca2d3['childNodes'],_0x3ea4d5=_0x330163['length'];for(let _0x57ea16=0x0;_0x57ea16<_0x3ea4d5;_0x57ea16++){const _0x32d0a8=_0x330163[_0x57ea16];if(_0x32d0a8['localName']===_0xeb9c38&&_0x3028ba['indexOf'](_0x32d0a8['namespaceURI'])!==-0x1)return _0x32d0a8;}return undefined;}function _0x4f63c0(_0x6e7720,_0x2a3739,_0xed36fc){if(!_0x2a1662(_0x6e7720))return undefined;let _0x2adf4b=[];const _0x8740e6=_0x6e7720['getElementsByTagNameNS']('*',_0x2a3739),_0x49f7a8=_0x8740e6['length'];for(let _0x322267=0x0;_0x322267<_0x49f7a8;_0x322267++){let _0x4a9f00=_0x8740e6[_0x322267];_0x4a9f00['localName']===_0x2a3739&&_0xed36fc['indexOf'](_0x4a9f00['namespaceURI'])!==-0x1&&_0x2adf4b['push'](_0x4a9f00);}return _0x2adf4b;}function _0x2ca183(_0x57cc7b,_0x17914a,_0x4d9250){if(!_0x2a1662(_0x57cc7b))return[];let _0x821828=[],_0x357e34=_0x57cc7b['childNodes'],_0x1f964d=_0x357e34['length'];for(let _0x466f9f=0x0;_0x466f9f<_0x1f964d;_0x466f9f++){let _0x2b87b7=_0x357e34[_0x466f9f];_0x2b87b7['localName']===_0x17914a&&_0x4d9250['indexOf'](_0x2b87b7['namespaceURI'])!==-0x1&&_0x821828['push'](_0x2b87b7);}return _0x821828;}function _0x545589(_0xe7e5bb,_0x31870b,_0x3939a5){const _0x2bb1f9=_0x1d5350(_0xe7e5bb,_0x31870b,_0x3939a5);if(_0x2a1662(_0x2bb1f9)){const _0x43d043=parseFloat(_0x2bb1f9['textContent']);return!isNaN(_0x43d043)?_0x43d043:undefined;}return undefined;}function _0x583bb4(_0x1fee8b,_0x41c9eb,_0x831b5a){let _0x31ae6=_0x1d5350(_0x1fee8b,_0x41c9eb,_0x831b5a);if(_0x2a1662(_0x31ae6))return _0x31ae6['textContent']['trim']();return undefined;}function _0x7ee96d(_0x4116c3,_0x598f15,_0x5192bd){let _0x1e8a18=_0x1d5350(_0x4116c3,_0x598f15,_0x5192bd);if(_0x2a1662(_0x1e8a18)){let _0x1f0f0d=_0x1e8a18['textContent']['trim']();return _0x1f0f0d==='1'||/^true$/i['test'](_0x1f0f0d);}return undefined;}function _0x31ef8d(_0x55baac,_0x416562,_0x4d1e1f){const _0x244e60=_0x55baac['x']+(_0x416562['x']-_0x55baac['x'])*_0x4d1e1f,_0x255a15=_0x55baac['y']+(_0x416562['y']-_0x55baac['y'])*_0x4d1e1f,_0x5e15b7=_0x55baac['z']+(_0x416562['z']-_0x55baac['z'])*_0x4d1e1f;return new _0x3064c0(_0x244e60,_0x255a15,_0x5e15b7);}export default _0x238a12;