const _0x3e25a9=(function(){let _0x58c0e9=!![];return function(_0x9825ec,_0x455f31){const _0x34bf71=_0x58c0e9?function(){if(_0x455f31){const _0x302828=_0x455f31['apply'](_0x9825ec,arguments);return _0x455f31=null,_0x302828;}}:function(){};return _0x58c0e9=![],_0x34bf71;};}()),_0xb97ffa=_0x3e25a9(this,function(){return _0xb97ffa['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0xb97ffa)['search']('(((.+)+)+)+$');});_0xb97ffa();import _0x466d70 from'./DepthFramebuffer.js';import _0x3b47e4 from'./Shaders/SightWideLineVS.js';import _0x32ec26 from'./Shaders/SightWideLineFS.js';function _0x3cbd5e(_0x3056ac){this['scene']=_0x3056ac,this['_command']=undefined,this['_viewPosition']=[0x0,0x0,0x0],this['_cameraDir']=new Cesium['Cartesian3'](),this['_viewProjMatrixs']=new Cesium['AssociativeArray'](),this['_renderTextureMatrixs']=new Cesium['AssociativeArray'](),this['_visibleColor']=new Cesium['Color'](0x0,0x1,0x0,0x1),this['_hiddenColor']=new Cesium['Color'](0x1,0x0,0x0,0x1),this['_targetPoints']=new Cesium['AssociativeArray'](),this['_sightlineCameras']=new Cesium['AssociativeArray'](),this['_update']=![],this['_updateAll']=![],this['_barrierPointArray']=new Cesium['AssociativeArray'](),this['_depthBuffers']=new Cesium['AssociativeArray'](),this['_commands']=new Cesium['AssociativeArray'](),this['_lineWidth']=0x2,this['isBuild']=![];}Object['defineProperties'](_0x3cbd5e['prototype'],{'viewPosition':{'get':function(){return this['_viewPosition'];},'set':function(_0x181fae){this['_viewPosition']=_0x181fae,this['_updateAll']=!![],this['_update']=!![];}},'visibleColor':{'get':function(){return this['_visibleColor'];},'set':function(_0x2e956f){if(_0x2e956f===undefined)return;this['_visibleColor']=Cesium['Color']['clone'](_0x2e956f,this['_visibleColor']);}},'hiddenColor':{'get':function(){return this['_hiddenColor'];},'set':function(_0x1b613d){if(_0x1b613d===undefined)return;this['_hiddenColor']=Cesium['Color']['clone'](_0x1b613d,this['_hiddenColor']);}},'lineWidth':{'get':function(){return this['_lineWidth'];},'set':function(_0x5ed05d){if(_0x5ed05d===undefined)return;this['_lineWidth']=_0x5ed05d;}}}),_0x3cbd5e['prototype']['addTargetPoint']=function(_0x5a79d5){const _0x307638=_0x5a79d5['name'],_0x404f74=_0x5a79d5['position'];if(!Cesium['defined'](_0x307638)||!Cesium['defined'](_0x404f74))return![];return this['_targetPoints']['set'](_0x307638,_0x404f74),this['_currentTargetName']=_0x307638,this['_currentTargetPoint']=_0x404f74,this['_update']=!![],this['_barrierPointArray']['set'](_0x307638,{}),!![];},_0x3cbd5e['prototype']['removeTargetPoint']=function(_0x27c74e){this['_barrierPointArray']['remove'](_0x27c74e);const _0x175c0b=this['_targetPoints']['remove'](_0x27c74e);this['_sightlineCameras']['remove'](_0x27c74e);if(!_0x175c0b)return![];this['_viewProjMatrixs']['remove'](_0x27c74e),this['_renderTextureMatrixs']['remove'](_0x27c74e);const _0x2e21f1=this['_depthBuffers']['get'](_0x27c74e);Cesium['defined'](_0x2e21f1)&&(_0x2e21f1['destroy'](),this['_depthBuffers']['remove'](_0x27c74e));const _0x30ef47=this['_commands']['get'](_0x27c74e);if(Cesium['defined'](_0x30ef47)){for(let _0x3504ec=0x0;_0x3504ec<_0x30ef47['length'];_0x3504ec++){const _0x2b30bd=_0x30ef47[_0x3504ec];_0x2b30bd['shaderProgram']=_0x2b30bd['shaderProgram']&&!_0x2b30bd['shaderProgram']['isDestroyed']()&&_0x2b30bd['shaderProgram']['destroy'](),_0x2b30bd['vertexArray']=_0x2b30bd['vertexArray']&&!_0x2b30bd['vertexArray']['isDestroyed']()&&_0x2b30bd['vertexArray']['destroy']();}this['_commands']['remove'](_0x27c74e);}return this['_update']=!![],!![];},_0x3cbd5e['prototype']['removeAllTargetPoint']=function(){this['_barrierPointArray']['removeAll'](),this['_targetPoints']['removeAll'](),this['_sightlineCameras']['removeAll']();for(let _0x3d4d58 in this['_depthBuffers']['_hash']){this['_depthBuffers']['_hash']['hasOwnProperty'](_0x3d4d58)&&this['_depthBuffers']['_hash'][_0x3d4d58]['destroy']();}this['_depthBuffers']['removeAll']();for(let _0x376c54=0x0,_0x3c1a81=this['_commands']['length'];_0x376c54<_0x3c1a81;_0x376c54++){const _0x4f9818=this['_commands']['values'][_0x376c54];for(let _0x3cca04=0x0;_0x3cca04<_0x4f9818['length'];_0x3cca04++){const _0x257e38=_0x4f9818[_0x3cca04];_0x257e38['shaderProgram']=_0x257e38['shaderProgram']&&!_0x257e38['shaderProgram']['isDestroyed']()&&_0x257e38['shaderProgram']['destroy'](),_0x257e38['vertexArray']=_0x257e38['vertexArray']&&!_0x257e38['vertexArray']['isDestroyed']()&&_0x257e38['vertexArray']['destroy']();}}this['_commands']['removeAll'](),this['_viewProjMatrixs']['removeAll'](),this['_renderTextureMatrixs']['removeAll'](),this['_update']=!![];};function _0x2d60a3(_0x56b63a,_0x44f0fe,_0x15b897){const _0x13566d=_0x15b897['camera'],_0x35b134=_0x13566d['_projection'];let _0xab8bb8;if(_0x56b63a['scene']['mode']===Cesium['SceneMode']['SCENE3D'])_0xab8bb8=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x56b63a['_viewPosition'])[0x0];else{const _0x1ec641=Cesium['Cartographic']['fromDegrees'](_0x56b63a['_viewPosition'][0x0],_0x56b63a['_viewPosition'][0x1],_0x56b63a['_viewPosition'][0x2]);_0xab8bb8=_0x35b134['project'](_0x1ec641,new Cesium['Cartesian3']());}const _0xb27e39=new Cesium['Cartesian3'](0x0,0x0,0x0),_0x5e5614=_0x56b63a['_targetPoints']['_hash'];let _0x320c77=0x0;const _0x2003c5=_0x56b63a['_currentTargetPoint'];let _0xeed48c;if(_0x56b63a['scene']['mode']===Cesium['SceneMode']['SCENE3D'])_0xeed48c=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x2003c5)[0x0];else{const _0x40f0ff=Cesium['Cartographic']['fromDegrees'](_0x2003c5[0x0],_0x2003c5[0x1],_0x2003c5[0x2]);_0xeed48c=_0x35b134['project'](_0x40f0ff,new Cesium['Cartesian3']());}const _0xde359a=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0xeed48c,_0xab8bb8,_0xde359a),Cesium['Cartesian3']['normalize'](_0xde359a,_0xde359a),Cesium['Cartesian3']['add'](_0xb27e39,_0xde359a,_0xb27e39),_0x320c77=Math['max'](_0x320c77,Cesium['Cartesian3']['distance'](_0xeed48c,_0xab8bb8)),Cesium['Cartesian3']['normalize'](_0xb27e39,_0xb27e39),Cesium['Cartesian3']['clone'](_0xb27e39,_0x56b63a['_cameraDir']);const _0x36f43c=new Cesium['Cartesian3'](),_0x2e102a=new Cesium['Cartesian3'](),_0x5c75c2=new Cesium['Cartesian3']();let _0x276b49=_0x13566d['frustum']['fov'];Cesium['Cartesian3']['clone'](_0x13566d['position'],_0x36f43c),Cesium['Cartesian3']['clone'](_0x13566d['direction'],_0x2e102a),Cesium['Cartesian3']['clone'](_0x13566d['up'],_0x5c75c2);const _0x3fda7f=Cesium['Math']['PI']*0x2/0x3,_0x1930d9=_0x13566d['frustum']['near'],_0x3fa13a=_0x13566d['frustum']['far'],_0x177b33=_0x15b897['useLogDepth'],_0x46a26c=_0x56b63a['_currentTargetName'];let _0x56fee5=_0x56b63a['_depthBuffers']['get'](_0x46a26c);!Cesium['defined'](_0x56fee5)&&(_0x56fee5=new _0x466d70(_0x44f0fe),_0x56b63a['_depthBuffers']['set'](_0x46a26c,_0x56fee5)),_0x56fee5['isUpdate']=!![],_0x56fee5['beginFunc']=()=>{_0x15b897['useLogDepth']=![],Cesium['Cartesian3']['clone'](_0x13566d['position'],_0x36f43c),Cesium['Cartesian3']['clone'](_0x13566d['direction'],_0x2e102a),Cesium['Cartesian3']['clone'](_0x13566d['up'],_0x5c75c2),_0x276b49=_0x13566d['frustum']['fov'],_0x13566d['frustum']['fov']=_0x3fda7f;const _0x595be8=_0xb27e39;let _0x9c3f82=new Cesium['Cartesian3']();_0x9c3f82=Cesium['Cartesian3']['clone'](_0xab8bb8,_0x9c3f82),_0x9c3f82=Cesium['Cartesian3']['normalize'](_0x9c3f82,_0x9c3f82);Math['abs'](Cesium['Cartesian3']['dot'](_0x9c3f82,_0x595be8))>=0x1&&(Math['abs'](Cesium['Cartesian3']['dot'](_0x595be8,Cesium['Cartesian3']['UNIT_Y']))<0x1?_0x9c3f82=Cesium['Cartesian3']['clone'](Cartesian3['UNIT_Y'],_0x9c3f82):_0x9c3f82=Cesium['Cartesian3']['clone'](Cesium['Cartesian3']['UNIT_Z'],_0x9c3f82));let _0x2afaf4=new Cesium['Cartesian3']();Cesium['Cartesian3']['cross'](_0x9c3f82,_0x595be8,_0x2afaf4),_0x2afaf4=Cesium['Cartesian3']['normalize'](_0x2afaf4,_0x2afaf4),Cesium['Cartesian3']['cross'](_0x595be8,_0x2afaf4,_0x9c3f82),_0x9c3f82=Cesium['Cartesian3']['normalize'](_0x9c3f82,_0x9c3f82);const _0x347c24={'destination':_0xab8bb8,'orientation':{'direction':_0x595be8,'up':_0x9c3f82},'convert':![]};_0x13566d['setView'](_0x347c24),_0x56b63a['_sightlineCameras']['set'](_0x46a26c,_0x347c24),_0x13566d['frustum']['near']=0x1,_0x13566d['frustum']['far']=Math['ceil'](Math['max'](_0x320c77,0xa));const _0x27f5e1=_0x56b63a['scene']['_primitives']['_primitives'];for(let _0x21caf2=0x0;_0x21caf2<_0x27f5e1['length'];++_0x21caf2){const _0xecea98=_0x27f5e1[_0x21caf2];!Cesium['defined'](_0xecea98['fileType'])&&(_0xecea98['preShow']=_0xecea98['show'],_0xecea98['show']=![]);}const _0x1da975=new Cesium['Matrix4']();Cesium['Matrix4']['multiply'](_0x13566d['frustum']['projectionMatrix'],_0x13566d['viewMatrix'],_0x1da975),_0x56b63a['_viewProjMatrixs']['set'](_0x46a26c,_0x1da975),_0x56b63a['_renderTextureMatrixs']['set'](_0x46a26c,new Cesium['Matrix4']());},_0x56fee5['endFunc']=function(){_0x15b897['useLogDepth']=_0x177b33,_0x13566d['frustum']['fov']=_0x276b49,_0x13566d['setView']({'destination':_0x36f43c,'orientation':{'direction':_0x2e102a,'up':_0x5c75c2},'convert':![]}),_0x13566d['frustum']['near']=_0x1930d9,_0x13566d['frustum']['far']=_0x3fa13a,_0x56fee5['isUpdate']=![];const _0x47dd67=_0x56b63a['scene']['_primitives']['_primitives'];for(let _0x485d90=0x0;_0x485d90<_0x47dd67['length'];++_0x485d90){const _0x56e28b=_0x47dd67[_0x485d90];!Cesium['defined'](_0x56e28b['fileType'])&&(_0x56e28b['show']=_0x56e28b['preShow']);}if(!_0x56b63a['_update']){const _0x39d7d7=_0x187965(_0x56b63a,_0x46a26c);_0x56b63a['_barrierPointArray']['set'](_0x46a26c,_0x39d7d7);}};}const _0x5100bb=new Cesium['Matrix4'](0x0,0x0,0x1,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x0,0x1);let _0x9626e8=null;function _0x2ec3b9(_0x353954){if(Cesium['defined'](_0x9626e8))return _0x9626e8;const _0x4452e2=new Float32Array(0x8);let _0x250b89=0x0;return _0x4452e2[_0x250b89++]=0x0,_0x4452e2[_0x250b89++]=0x0,_0x4452e2[_0x250b89++]=0x0,_0x4452e2[_0x250b89++]=0x1,_0x4452e2[_0x250b89++]=0x1,_0x4452e2[_0x250b89++]=0x1,_0x4452e2[_0x250b89++]=0x1,_0x4452e2[_0x250b89++]=0x0,_0x9626e8=Cesium['Buffer']['createVertexBuffer']({'context':_0x353954,'typedArray':_0x4452e2,'usage':Cesium['BufferUsage']['STATIC_DRAW']}),_0x9626e8['vertexArrayDestroyable']=![],_0x9626e8;}function _0x52399f(_0x223479,_0x351791){const _0x4e62ff=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['FLOAT'],0x2*0x3);return _0x4e62ff[0x0]=0x0,_0x4e62ff[0x1]=0x0,_0x4e62ff[0x2]=0x0,_0x4e62ff[0x3]=_0x351791['x'],_0x4e62ff[0x4]=_0x351791['y'],_0x4e62ff[0x5]=_0x351791['z'],Cesium['Buffer']['createVertexBuffer']({'context':_0x223479,'typedArray':_0x4e62ff,'usage':Cesium['BufferUsage']['STATIC_DRAW']});}function _0x30196f(){const _0x44f7d5=new Uint16Array(0x6);let _0x22908a=0x0;return _0x44f7d5[_0x22908a++]=0x2,_0x44f7d5[_0x22908a++]=0x1,_0x44f7d5[_0x22908a++]=0x0,_0x44f7d5[_0x22908a++]=0x3,_0x44f7d5[_0x22908a++]=0x2,_0x44f7d5[_0x22908a++]=0x0,_0x44f7d5;}let _0x48913c=null;function _0x565010(_0x5b82e3){if(Cesium['defined'](_0x48913c))return _0x48913c;return _0x48913c=Cesium['Buffer']['createIndexBuffer']({'context':_0x5b82e3,'typedArray':_0x30196f(),'usage':Cesium['BufferUsage']['STATIC_DRAW'],'indexDatatype':Cesium['IndexDatatype']['UNSIGNED_SHORT']}),_0x48913c['vertexArrayDestroyable']=![],_0x48913c;}let _0x25f379=new Cesium['Color'](),_0x25ce1a=new Cesium['Color']();function _0x444ef2(_0x59af5b,_0x207e13,_0x2041f4){const _0x3d61be=_0x2041f4['camera'],_0x179a7d=_0x3d61be['_projection'];let _0x1757f2;if(_0x59af5b['scene']['mode']===Cesium['SceneMode']['SCENE3D'])_0x1757f2=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x59af5b['_viewPosition'])[0x0];else{const _0x353b77=Cesium['Cartographic']['fromDegrees'](_0x59af5b['_viewPosition'][0x0],_0x59af5b['_viewPosition'][0x1],_0x59af5b['_viewPosition'][0x2]);_0x1757f2=_0x179a7d['project'](_0x353b77,new Cesium['Cartesian3']());}const _0x3df11d=_0x59af5b['_currentTargetPoint'];let _0x297600;if(_0x59af5b['scene']['mode']===Cesium['SceneMode']['SCENE3D'])_0x297600=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x3df11d)[0x0];else{let _0x4e0052=Cesium['Cartographic']['fromDegrees'](_0x3df11d[0x0],_0x3df11d[0x1],_0x3df11d[0x2]);_0x297600=_0x179a7d['project'](_0x4e0052,new Cesium['Cartesian3']());}const _0x5235cb=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0x297600,_0x1757f2,_0x5235cb);const _0x5166ce=_0x2ec3b9(_0x207e13),_0x545a6c=_0x52399f(_0x207e13,_0x5235cb),_0x829eca=[],_0x314c0f={};_0x314c0f['aSideness']=0x0,_0x829eca['push']({'index':_0x314c0f['aSideness'],'vertexBuffer':_0x5166ce,'componentsPerAttribute':0x2,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x2*0x4,'normalize':![]}),_0x314c0f['aPosition0']=0x1,_0x829eca['push']({'index':_0x314c0f['aPosition0'],'vertexBuffer':_0x545a6c,'componentsPerAttribute':0x3,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x3*0x4,'normalize':![],'instanceDivisor':0x1}),_0x314c0f['aPosition1']=0x2,_0x829eca['push']({'index':_0x314c0f['aPosition1'],'vertexBuffer':_0x545a6c,'componentsPerAttribute':0x3,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x3*0x4,'strideInBytes':0x3*0x4,'normalize':![],'instanceDivisor':0x1});const _0x208bb4=_0x565010(_0x207e13),_0x3e0370=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['TRIANGLES'],'pass':Cesium['Pass']['OPAQUE'],'owner':_0x59af5b,'boundingVolume':new Cesium['BoundingSphere'](_0x1757f2,0x2710),'cull':![]});let _0x5e2066=new Cesium['Matrix4']();Cesium['Matrix4']['clone'](Cesium['Matrix4']['IDENTITY'],_0x5e2066),Cesium['Matrix4']['setTranslation'](_0x5e2066,_0x1757f2,_0x5e2066);_0x59af5b['scene']['mode']!==Cesium['SceneMode']['SCENE3D']&&Cesium['Matrix4']['multiply'](_0x5100bb,_0x5e2066,_0x5e2066);_0x3e0370['modelMatrix']=_0x5e2066,_0x3e0370['vertexArray']=new Cesium['VertexArray']({'context':_0x207e13,'attributes':_0x829eca,'indexBuffer':_0x208bb4}),_0x3e0370['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0x207e13,'vertexShaderSource':_0x3b47e4,'fragmentShaderSource':_0x32ec26,'attributeLocations':_0x314c0f}),_0x3e0370['renderState']=Cesium['RenderState']['fromCache']({'cull':{'enabled':![]},'depthTest':{'enabled':!![]}});const _0x455566=_0x59af5b['_currentTargetName'];_0x3e0370['uniformMap']={'uRenderTextureMatrix':function(){return _0x59af5b['_renderTextureMatrixs']['get'](_0x455566);},'uTexture0':function(){return _0x59af5b['_depthBuffers']['get'](_0x455566)['depthTexture'];},'uVisibleColor':function(){return _0x59af5b['_visibleColor'];},'uHiddenColor':function(){return _0x59af5b['_hiddenColor'];},'uLineWidth':function(){return _0x59af5b['_lineWidth'];}};const _0x4ef965=Cesium['DrawCommand']['shallowClone'](_0x3e0370);_0x4ef965['pass']=Cesium['Pass']['OPAQUE'],_0x4ef965['renderState']=Cesium['RenderState']['fromCache']({'depthMask':![],'depthTest':{'enabled':![]},'blending':Cesium['BlendingState']['ALPHA_BLEND']}),_0x4ef965['uniformMap']['uHiddenColor']=function(){return Cesium['Color']['clone'](_0x59af5b['_hiddenColor'],_0x25f379),_0x25f379['alpha']=0.2,_0x25f379;},_0x4ef965['uniformMap']['uVisibleColor']=function(){return Cesium['Color']['clone'](_0x59af5b['_visibleColor'],_0x25ce1a),_0x25ce1a['alpha']=0.2,_0x25ce1a;},_0x59af5b['_commands']['set'](_0x455566,[_0x4ef965,_0x3e0370]);}_0x3cbd5e['prototype']['update']=function(_0x26e845){if(_0x26e845['fbo']||_0x26e845['passes']['pick']||_0x26e845['passes']['depth'])return;const _0x52ae98=_0x26e845['camera'];for(let _0x5a1248 in this['_viewProjMatrixs']['_hash']){if(this['_viewProjMatrixs']['_hash']['hasOwnProperty'](_0x5a1248)){const _0x2da512=this['_viewProjMatrixs']['get'](_0x5a1248);Cesium['Matrix4']['multiply'](_0x2da512,_0x52ae98['inverseViewMatrix'],this['_renderTextureMatrixs']['get'](_0x5a1248));}}if(this['_update']){this['_update']=![];if(this['_targetPoints']['values']['length']<0x1)return;if(this['_updateAll']){this['_updateAll']=![];for(let _0x1a901d in this['_targetPoints']['_hash']){if(this['_targetPoints']['_hash']['hasOwnProperty'](_0x1a901d)){const _0x20e7cb=this['_targetPoints']['get'](_0x1a901d);this['_currentTargetPoint']=_0x20e7cb,this['_currentTargetName']=_0x1a901d,_0x2d60a3(this,this['scene']['context'],_0x26e845),_0x444ef2(this,this['scene']['context'],_0x26e845);}}}else _0x2d60a3(this,this['scene']['context'],_0x26e845),_0x444ef2(this,this['scene']['context'],_0x26e845);}if(!_0x26e845['passes']['pick']){const _0x22c315=this['_commands']['length'];for(let _0x55ca4b=0x0;_0x55ca4b<_0x22c315;_0x55ca4b++){if(Cesium['defined'](this['_depthBuffers']['values'][_0x55ca4b]['framebuffer'])){const _0x5e1e33=this['_commands']['values'][_0x55ca4b];_0x26e845['commandList']['push'](_0x5e1e33[0x0]),_0x26e845['commandList']['push'](_0x5e1e33[0x1]);}}}},_0x3cbd5e['prototype']['getBarrierPoint']=function(_0x546565,_0x5d568d){const _0x416dab=this['_barrierPointArray']['get'](_0x546565);return Cesium['defined'](_0x5d568d)&&_0x5d568d['bind'](null,_0x416dab)(),_0x416dab;};function _0x187965(_0x2bbd2d,_0x3f23f6){const _0x6c8f86=_0x2bbd2d['_targetPoints']['get'](_0x3f23f6);if(!Cesium['defined'](_0x6c8f86))return;const _0x714457={'isViewer':!![]},_0x3040f0=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x6c8f86)[0x0],_0x2d6fda=new Cesium['Cartesian4'](_0x3040f0['x'],_0x3040f0['y'],_0x3040f0['z'],0x1),_0x1e9b2a=_0x2bbd2d['_viewProjMatrixs']['get'](_0x3f23f6);Cesium['Matrix4']['multiplyByVector'](_0x1e9b2a,_0x2d6fda,_0x2d6fda),Cesium['Cartesian4']['divideByScalar'](_0x2d6fda,_0x2d6fda['w'],_0x2d6fda);if(_0x2d6fda['x']>0x1||_0x2d6fda['x']<-0x1||_0x2d6fda['y']>0x1||_0x2d6fda['y']<-0x1)return _0x714457;const _0x591565=_0x2bbd2d['scene']['context'],_0xc476d=_0x591565['drawingBufferWidth'],_0x100110=_0x591565['drawingBufferHeight'],_0x4f5f94=(_0x2d6fda['x']*0.5+0.5)*_0xc476d-0.5,_0x2c0f0a=(_0x2d6fda['y']*0.5+0.5)*_0x100110-0.5;if(_0x4f5f94<0x0||_0x2c0f0a<0x0)return _0x714457;const _0x4421e4=Math['floor'](_0x4f5f94),_0x34e2b4=_0x4f5f94-_0x4421e4,_0x154f44=Math['floor'](_0x2c0f0a),_0x1e75cf=_0x2c0f0a-_0x154f44,_0x39eca5=_0x2bbd2d['_depthBuffers']['get'](_0x3f23f6),_0x5bdade=_0x591565['readPixels']({'framebuffer':_0x39eca5['framebuffer'],'x':_0x4421e4,'y':_0x154f44,'width':0x2,'height':0x2}),_0xdee2d=new Cesium['Cartesian4'](),_0x441e0e=new Cesium['Cartesian3'](),_0x4556b1=new Cesium['Cartesian4'](0x1/0xff,0x1/0xfe01,0x1/0x99246ff,0x1/0xfc05fc01),_0x265f96=[],_0x6fbccc=_0x2bbd2d['scene'],_0x2ca33b=_0x591565['uniformState'],_0x1355a0=_0x2ca33b['currentFrustum'],_0x1c9bcd=_0x1355a0['x'],_0x288341=_0x1355a0['y'];for(let _0x56240c=0x0;_0x56240c<0x4;_0x56240c++){const _0x113edf=Cesium['Cartesian4']['unpack'](_0x5bdade,0x4*_0x56240c,_0xdee2d),_0x186ec6=Cesium['Cartesian4']['dot'](_0x113edf,_0x4556b1);if(!(_0x186ec6<0x1&&_0x186ec6>0x0))return _0x714457;_0x265f96[_0x56240c]=_0x186ec6*0x2-0x1;}const _0x238189=(0x1-_0x34e2b4)*_0x265f96[0x0]+_0x34e2b4*_0x265f96[0x1],_0x59e9e2=(0x1-_0x34e2b4)*_0x265f96[0x2]+_0x34e2b4*_0x265f96[0x3],_0xe2a429=(0x1-_0x1e75cf)*_0x238189+_0x1e75cf*_0x59e9e2;if(_0x2d6fda['z']-_0xe2a429>0.000001){const _0x2c44c8=new Cesium['Matrix4']();Cesium['Matrix4']['inverse'](_0x1e9b2a,_0x2c44c8),_0x2d6fda['z']=_0xe2a429,Cesium['Matrix4']['multiplyByVector'](_0x2c44c8,_0x2d6fda,_0x2d6fda),Cesium['Cartesian4']['divideByScalar'](_0x2d6fda,_0x2d6fda['w'],_0x2d6fda);const _0x426cd7=Cesium['Cartographic']['fromCartesian'](_0x2d6fda);_0x714457['position']=_0x426cd7,_0x714457['isViewer']=![],_0x714457['st']=new Cesium['Cartesian2'](_0x4421e4,_0x154f44);}return _0x714457;}_0x3cbd5e['prototype']['build']=function(){if(this['isBuild'])return;this['isBuild']=!![],this['scene']['primitives']['add'](this),this['removeListenerFunc']=this['scene']['preUpdate']['addEventListener']((_0x76fc3,_0x3ff132)=>{for(let _0x1ad203 in this['_depthBuffers']['_hash']){if(this['_depthBuffers']['_hash']['hasOwnProperty'](_0x1ad203)){let _0x57787a=this['_depthBuffers']['_hash'][_0x1ad203];_0x57787a['renderToTexture'](_0x76fc3);}}},this);},_0x3cbd5e['prototype']['clear']=function(){if(!this['isBuild'])return;this['isBuild']=![],this['removeListenerFunc'](),this['scene']['primitives']['remove'](this);};var _0x48ac67,_0x443abe,_0x1f8cc8;Cesium['FeatureDetection']['supportsTypedArrays']()&&(_0x48ac67=new ArrayBuffer(0x4),_0x443abe=new Uint32Array(_0x48ac67),_0x1f8cc8=new Uint8Array(_0x48ac67));const _0x77827e=function(_0x1ee5d5,_0x2d6359,_0x67f05,_0x4a5a7d){return _0x1f8cc8[0x0]=_0x1ee5d5,_0x1f8cc8[0x1]=_0x2d6359,_0x1f8cc8[0x2]=_0x67f05,_0x1f8cc8[0x3]=_0x4a5a7d,_0x443abe[0x0];},_0x508e56=function(_0x2e99c6,_0x869b6f){return Cesium['Check']['defined']('pickId',_0x869b6f),_0x2e99c6['_pickObjects'][_0x869b6f];};var _0x33a90e=0x3,_0x5d6553=0x3,_0x1d32af=new Cesium['BoundingRectangle'](0x0,0x0,_0x33a90e,_0x5d6553),_0x11d1f2=new Cesium['Color'](0x0,0x0,0x0,0x0);const _0x5ed0e8=function(_0x2c69f8,_0x555b74){var _0x7871f9=_0x2c69f8['_context'],_0x373993=_0x2c69f8['_defaultView'];_0x2c69f8['_view']=_0x373993;var _0x230726=_0x373993['viewport'];_0x230726['x']=0x0,_0x230726['y']=0x0,_0x230726['width']=_0x7871f9['drawingBufferWidth'],_0x230726['height']=_0x7871f9['drawingBufferHeight'],_0x1d32af['x']=0x0,_0x1d32af['y']=0x0,_0x1d32af['width']=_0x7871f9['drawingBufferWidth'],_0x1d32af['height']=_0x7871f9['drawingBufferHeight'];var _0x42927d=_0x7871f9['uniformState'],_0x1e3c57=_0x2c69f8['_frameState'];_0x2c69f8['updateFrameState'](_0x2c69f8),_0x1e3c57['invertClassification']=![],_0x1e3c57['passes']['pick']=!![],_0x42927d['update'](_0x1e3c57);var _0x8186ae=_0x373993['pickFramebuffer']['begin'](_0x1d32af,_0x230726),_0xefe5cb=_0x2c69f8['camera'],_0xa31e1a=Cesium['Cartesian3']['clone'](_0xefe5cb['position']),_0x1ed609=_0xefe5cb['heading'],_0x29b38e=_0xefe5cb['pitch'],_0x3a6da5=_0xefe5cb['roll'];_0x2c69f8['camera']['setView'](_0x555b74),_0x2c69f8['updateEnvironment'](),_0x2c69f8['updateAndExecuteCommands'](_0x8186ae,_0x11d1f2),_0x2c69f8['resolveFramebuffers'](_0x8186ae),_0x7871f9['endFrame'](),_0xefe5cb['setView']({'destination':_0xa31e1a,'orientation':{'heading':_0x1ed609,'pitch':_0x29b38e,'roll':_0x3a6da5}});};function _0x21c648(_0x4c5f35,_0x3a6781){var _0x47e184=_0x187965(_0x4c5f35,_0x3a6781);if(Cesium['defined'](_0x47e184)&&Cesium['defined'](_0x47e184['position'])&&Cesium['defined'](_0x47e184['st']))return _0x47e184['st'];}_0x3cbd5e['prototype']['getObjectIds']=function(){var _0xbc759e={},_0x5420c5=Object['keys'](this['_targetPoints']['_hash']);for(var _0x2e6dbe=0x0,_0x2c310c=_0x5420c5['length'];_0x2e6dbe<_0x2c310c;_0x2e6dbe++){var _0xfa9d28=_0x5420c5[_0x2e6dbe];_0x5ed0e8(this['scene'],this['_sightlineCameras']['get'](_0xfa9d28));var _0x200af8=this['scene']['_defaultView']['pickFramebuffer'],_0x244ab8=this['scene']['_context'],_0x47323e=_0x21c648(this,_0xfa9d28);if(!Cesium['defined'](_0x47323e))continue;var _0x4a75d8=_0x244ab8['readPixels']({'x':_0x47323e['x'],'y':_0x47323e['y'],'width':0x1,'height':0x1,'framebuffer':_0x200af8['_fb']}),_0x508b28=_0x77827e(_0x4a75d8[0x0],_0x4a75d8[0x1],_0x4a75d8[0x2],_0x4a75d8[0x3]),_0x49054c=_0x508e56(_0x244ab8,_0x508b28);if(Cesium['defined'](_0x49054c)){var _0x21349a=_0x49054c['primitive']['id'],_0x508b28=_0x49054c['id'];!Cesium['defined'](_0xbc759e[_0x21349a])&&(_0xbc759e[_0x21349a]=[]),_0xbc759e[_0x21349a]['indexOf'](_0x508b28)===-0x1&&_0xbc759e[_0x21349a]['push'](_0x508b28);}}return _0xbc759e;},_0x3cbd5e['prototype']['isDestroyed']=function(){return![];},_0x3cbd5e['prototype']['destroy']=function(){return this['removeAllTargetPoint'](),this['scene']['primitives']['remove'](this),Cesium['destroyObject'](this);};export default _0x3cbd5e;