const _0x292d9b=(function(){let _0x4fbb9e=!![];return function(_0x11c250,_0x100cfd){const _0x20df2a=_0x4fbb9e?function(){if(_0x100cfd){const _0x5b495f=_0x100cfd['apply'](_0x11c250,arguments);return _0x100cfd=null,_0x5b495f;}}:function(){};return _0x4fbb9e=![],_0x20df2a;};}()),_0x4e9ec6=_0x292d9b(this,function(){return _0x4e9ec6['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x4e9ec6)['search']('(((.+)+)+)+$');});_0x4e9ec6();import _0x1f751f from'./DepthFramebuffer.js';import _0x11dea8 from'./Shaders/SightWideLineVS.js';import _0x1f84eb from'./Shaders/SightWideLineFS.js';function _0x50e167(_0xb401d4){this['scene']=_0xb401d4,this['_command']=undefined,this['_viewPosition']=[0x0,0x0,0x0],this['_cameraDir']=new Cesium['Cartesian3'](),this['_viewProjMatrixs']=new Cesium['AssociativeArray'](),this['_renderTextureMatrixs']=new Cesium['AssociativeArray'](),this['_visibleColor']=new Cesium['Color'](0x0,0x1,0x0,0x1),this['_hiddenColor']=new Cesium['Color'](0x1,0x0,0x0,0x1),this['_targetPoints']=new Cesium['AssociativeArray'](),this['_sightlineCameras']=new Cesium['AssociativeArray'](),this['_update']=![],this['_updateAll']=![],this['_barrierPointArray']=new Cesium['AssociativeArray'](),this['_depthBuffers']=new Cesium['AssociativeArray'](),this['_commands']=new Cesium['AssociativeArray'](),this['_lineWidth']=0x2,this['isBuild']=![];}Object['defineProperties'](_0x50e167['prototype'],{'viewPosition':{'get':function(){return this['_viewPosition'];},'set':function(_0x1c47a8){this['_viewPosition']=_0x1c47a8,this['_updateAll']=!![],this['_update']=!![];}},'visibleColor':{'get':function(){return this['_visibleColor'];},'set':function(_0x44d434){if(_0x44d434===undefined)return;this['_visibleColor']=Cesium['Color']['clone'](_0x44d434,this['_visibleColor']);}},'hiddenColor':{'get':function(){return this['_hiddenColor'];},'set':function(_0xbf976b){if(_0xbf976b===undefined)return;this['_hiddenColor']=Cesium['Color']['clone'](_0xbf976b,this['_hiddenColor']);}},'lineWidth':{'get':function(){return this['_lineWidth'];},'set':function(_0x3ff87f){if(_0x3ff87f===undefined)return;this['_lineWidth']=_0x3ff87f;}}}),_0x50e167['prototype']['addTargetPoint']=function(_0x3ceef6){const _0x566b93=_0x3ceef6['name'],_0x245f51=_0x3ceef6['position'];if(!Cesium['defined'](_0x566b93)||!Cesium['defined'](_0x245f51))return![];return this['_targetPoints']['set'](_0x566b93,_0x245f51),this['_currentTargetName']=_0x566b93,this['_currentTargetPoint']=_0x245f51,this['_update']=!![],this['_barrierPointArray']['set'](_0x566b93,{}),!![];},_0x50e167['prototype']['removeTargetPoint']=function(_0x3a424d){this['_barrierPointArray']['remove'](_0x3a424d);const _0x47164c=this['_targetPoints']['remove'](_0x3a424d);this['_sightlineCameras']['remove'](_0x3a424d);if(!_0x47164c)return![];this['_viewProjMatrixs']['remove'](_0x3a424d),this['_renderTextureMatrixs']['remove'](_0x3a424d);const _0x2377f4=this['_depthBuffers']['get'](_0x3a424d);Cesium['defined'](_0x2377f4)&&(_0x2377f4['destroy'](),this['_depthBuffers']['remove'](_0x3a424d));const _0x16f1e1=this['_commands']['get'](_0x3a424d);if(Cesium['defined'](_0x16f1e1)){for(let _0x31980=0x0;_0x31980<_0x16f1e1['length'];_0x31980++){const _0x47a8e7=_0x16f1e1[_0x31980];_0x47a8e7['shaderProgram']=_0x47a8e7['shaderProgram']&&!_0x47a8e7['shaderProgram']['isDestroyed']()&&_0x47a8e7['shaderProgram']['destroy'](),_0x47a8e7['vertexArray']=_0x47a8e7['vertexArray']&&!_0x47a8e7['vertexArray']['isDestroyed']()&&_0x47a8e7['vertexArray']['destroy']();}this['_commands']['remove'](_0x3a424d);}return this['_update']=!![],!![];},_0x50e167['prototype']['removeAllTargetPoint']=function(){this['_barrierPointArray']['removeAll'](),this['_targetPoints']['removeAll'](),this['_sightlineCameras']['removeAll']();for(let _0x21782c in this['_depthBuffers']['_hash']){this['_depthBuffers']['_hash']['hasOwnProperty'](_0x21782c)&&this['_depthBuffers']['_hash'][_0x21782c]['destroy']();}this['_depthBuffers']['removeAll']();for(let _0x420566=0x0,_0x38fe3a=this['_commands']['length'];_0x420566<_0x38fe3a;_0x420566++){const _0x3f434c=this['_commands']['values'][_0x420566];for(let _0x27e32c=0x0;_0x27e32c<_0x3f434c['length'];_0x27e32c++){const _0x3a8cb0=_0x3f434c[_0x27e32c];_0x3a8cb0['shaderProgram']=_0x3a8cb0['shaderProgram']&&!_0x3a8cb0['shaderProgram']['isDestroyed']()&&_0x3a8cb0['shaderProgram']['destroy'](),_0x3a8cb0['vertexArray']=_0x3a8cb0['vertexArray']&&!_0x3a8cb0['vertexArray']['isDestroyed']()&&_0x3a8cb0['vertexArray']['destroy']();}}this['_commands']['removeAll'](),this['_viewProjMatrixs']['removeAll'](),this['_renderTextureMatrixs']['removeAll'](),this['_update']=!![];};function _0x43986d(_0x15b42b,_0x162885,_0x3ad313){const _0x5f7e47=_0x3ad313['camera'],_0x15c8bf=_0x5f7e47['_projection'];let _0x176a45;if(_0x15b42b['scene']['mode']===Cesium['SceneMode']['SCENE3D'])_0x176a45=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x15b42b['_viewPosition'])[0x0];else{const _0xcf869d=Cesium['Cartographic']['fromDegrees'](_0x15b42b['_viewPosition'][0x0],_0x15b42b['_viewPosition'][0x1],_0x15b42b['_viewPosition'][0x2]);_0x176a45=_0x15c8bf['project'](_0xcf869d,new Cesium['Cartesian3']());}const _0x13b451=new Cesium['Cartesian3'](0x0,0x0,0x0),_0x4d6bec=_0x15b42b['_targetPoints']['_hash'];let _0x4b2e26=0x0;const _0x75a785=_0x15b42b['_currentTargetPoint'];let _0xb2bee4;if(_0x15b42b['scene']['mode']===Cesium['SceneMode']['SCENE3D'])_0xb2bee4=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x75a785)[0x0];else{const _0x27d5f0=Cesium['Cartographic']['fromDegrees'](_0x75a785[0x0],_0x75a785[0x1],_0x75a785[0x2]);_0xb2bee4=_0x15c8bf['project'](_0x27d5f0,new Cesium['Cartesian3']());}const _0xa1164b=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0xb2bee4,_0x176a45,_0xa1164b),Cesium['Cartesian3']['normalize'](_0xa1164b,_0xa1164b),Cesium['Cartesian3']['add'](_0x13b451,_0xa1164b,_0x13b451),_0x4b2e26=Math['max'](_0x4b2e26,Cesium['Cartesian3']['distance'](_0xb2bee4,_0x176a45)),Cesium['Cartesian3']['normalize'](_0x13b451,_0x13b451),Cesium['Cartesian3']['clone'](_0x13b451,_0x15b42b['_cameraDir']);const _0x12b6e4=new Cesium['Cartesian3'](),_0x339c25=new Cesium['Cartesian3'](),_0x584184=new Cesium['Cartesian3']();let _0x3c9323=_0x5f7e47['frustum']['fov'];Cesium['Cartesian3']['clone'](_0x5f7e47['position'],_0x12b6e4),Cesium['Cartesian3']['clone'](_0x5f7e47['direction'],_0x339c25),Cesium['Cartesian3']['clone'](_0x5f7e47['up'],_0x584184);const _0x3e13d9=Cesium['Math']['PI']*0x2/0x3,_0xe3afae=_0x5f7e47['frustum']['near'],_0x2b466f=_0x5f7e47['frustum']['far'],_0x1432a6=_0x3ad313['useLogDepth'],_0x3311dd=_0x15b42b['_currentTargetName'];let _0x2c99c3=_0x15b42b['_depthBuffers']['get'](_0x3311dd);!Cesium['defined'](_0x2c99c3)&&(_0x2c99c3=new _0x1f751f(_0x162885),_0x15b42b['_depthBuffers']['set'](_0x3311dd,_0x2c99c3)),_0x2c99c3['isUpdate']=!![],_0x2c99c3['beginFunc']=()=>{_0x3ad313['useLogDepth']=![],Cesium['Cartesian3']['clone'](_0x5f7e47['position'],_0x12b6e4),Cesium['Cartesian3']['clone'](_0x5f7e47['direction'],_0x339c25),Cesium['Cartesian3']['clone'](_0x5f7e47['up'],_0x584184),_0x3c9323=_0x5f7e47['frustum']['fov'],_0x5f7e47['frustum']['fov']=_0x3e13d9;const _0x5b5a91=_0x13b451;let _0x3f9ac3=new Cesium['Cartesian3']();_0x3f9ac3=Cesium['Cartesian3']['clone'](_0x176a45,_0x3f9ac3),_0x3f9ac3=Cesium['Cartesian3']['normalize'](_0x3f9ac3,_0x3f9ac3);Math['abs'](Cesium['Cartesian3']['dot'](_0x3f9ac3,_0x5b5a91))>=0x1&&(Math['abs'](Cesium['Cartesian3']['dot'](_0x5b5a91,Cesium['Cartesian3']['UNIT_Y']))<0x1?_0x3f9ac3=Cesium['Cartesian3']['clone'](Cartesian3['UNIT_Y'],_0x3f9ac3):_0x3f9ac3=Cesium['Cartesian3']['clone'](Cesium['Cartesian3']['UNIT_Z'],_0x3f9ac3));let _0x27cb2b=new Cesium['Cartesian3']();Cesium['Cartesian3']['cross'](_0x3f9ac3,_0x5b5a91,_0x27cb2b),_0x27cb2b=Cesium['Cartesian3']['normalize'](_0x27cb2b,_0x27cb2b),Cesium['Cartesian3']['cross'](_0x5b5a91,_0x27cb2b,_0x3f9ac3),_0x3f9ac3=Cesium['Cartesian3']['normalize'](_0x3f9ac3,_0x3f9ac3);const _0x15f693={'destination':_0x176a45,'orientation':{'direction':_0x5b5a91,'up':_0x3f9ac3},'convert':![]};_0x5f7e47['setView'](_0x15f693),_0x15b42b['_sightlineCameras']['set'](_0x3311dd,_0x15f693),_0x5f7e47['frustum']['near']=0x1,_0x5f7e47['frustum']['far']=Math['ceil'](Math['max'](_0x4b2e26,0xa));const _0x1ebad0=_0x15b42b['scene']['_primitives']['_primitives'];for(let _0x53a1a5=0x0;_0x53a1a5<_0x1ebad0['length'];++_0x53a1a5){const _0x4c06a0=_0x1ebad0[_0x53a1a5];!Cesium['defined'](_0x4c06a0['fileType'])&&(_0x4c06a0['preShow']=_0x4c06a0['show'],_0x4c06a0['show']=![]);}const _0x34bbbc=new Cesium['Matrix4']();Cesium['Matrix4']['multiply'](_0x5f7e47['frustum']['projectionMatrix'],_0x5f7e47['viewMatrix'],_0x34bbbc),_0x15b42b['_viewProjMatrixs']['set'](_0x3311dd,_0x34bbbc),_0x15b42b['_renderTextureMatrixs']['set'](_0x3311dd,new Cesium['Matrix4']());},_0x2c99c3['endFunc']=function(){_0x3ad313['useLogDepth']=_0x1432a6,_0x5f7e47['frustum']['fov']=_0x3c9323,_0x5f7e47['setView']({'destination':_0x12b6e4,'orientation':{'direction':_0x339c25,'up':_0x584184},'convert':![]}),_0x5f7e47['frustum']['near']=_0xe3afae,_0x5f7e47['frustum']['far']=_0x2b466f,_0x2c99c3['isUpdate']=![];const _0x205d0e=_0x15b42b['scene']['_primitives']['_primitives'];for(let _0x4c7db7=0x0;_0x4c7db7<_0x205d0e['length'];++_0x4c7db7){const _0x2feab4=_0x205d0e[_0x4c7db7];!Cesium['defined'](_0x2feab4['fileType'])&&(_0x2feab4['show']=_0x2feab4['preShow']);}if(!_0x15b42b['_update']){const _0x21850c=_0x48cfdd(_0x15b42b,_0x3311dd);_0x15b42b['_barrierPointArray']['set'](_0x3311dd,_0x21850c);}};}const _0x27117e=new Cesium['Matrix4'](0x0,0x0,0x1,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x0,0x1);let _0x2c3d1d=null;function _0x12734a(_0x14c280){if(Cesium['defined'](_0x2c3d1d))return _0x2c3d1d;const _0x3bd733=new Float32Array(0x8);let _0x477292=0x0;return _0x3bd733[_0x477292++]=0x0,_0x3bd733[_0x477292++]=0x0,_0x3bd733[_0x477292++]=0x0,_0x3bd733[_0x477292++]=0x1,_0x3bd733[_0x477292++]=0x1,_0x3bd733[_0x477292++]=0x1,_0x3bd733[_0x477292++]=0x1,_0x3bd733[_0x477292++]=0x0,_0x2c3d1d=Cesium['Buffer']['createVertexBuffer']({'context':_0x14c280,'typedArray':_0x3bd733,'usage':Cesium['BufferUsage']['STATIC_DRAW']}),_0x2c3d1d['vertexArrayDestroyable']=![],_0x2c3d1d;}function _0x5503df(_0x1d9fdf,_0x1995dd){const _0x213495=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['FLOAT'],0x2*0x3);return _0x213495[0x0]=0x0,_0x213495[0x1]=0x0,_0x213495[0x2]=0x0,_0x213495[0x3]=_0x1995dd['x'],_0x213495[0x4]=_0x1995dd['y'],_0x213495[0x5]=_0x1995dd['z'],Cesium['Buffer']['createVertexBuffer']({'context':_0x1d9fdf,'typedArray':_0x213495,'usage':Cesium['BufferUsage']['STATIC_DRAW']});}function _0x2149be(){const _0x2a4df1=new Uint16Array(0x6);let _0x2d2ee2=0x0;return _0x2a4df1[_0x2d2ee2++]=0x2,_0x2a4df1[_0x2d2ee2++]=0x1,_0x2a4df1[_0x2d2ee2++]=0x0,_0x2a4df1[_0x2d2ee2++]=0x3,_0x2a4df1[_0x2d2ee2++]=0x2,_0x2a4df1[_0x2d2ee2++]=0x0,_0x2a4df1;}let _0x534bb3=null;function _0x3cf3f1(_0x2813a6){if(Cesium['defined'](_0x534bb3))return _0x534bb3;return _0x534bb3=Cesium['Buffer']['createIndexBuffer']({'context':_0x2813a6,'typedArray':_0x2149be(),'usage':Cesium['BufferUsage']['STATIC_DRAW'],'indexDatatype':Cesium['IndexDatatype']['UNSIGNED_SHORT']}),_0x534bb3['vertexArrayDestroyable']=![],_0x534bb3;}let _0x43508a=new Cesium['Color'](),_0x43d5be=new Cesium['Color']();function _0x441cbd(_0x164d92,_0x4e56c2,_0x101691){const _0x4f066f=_0x101691['camera'],_0x25298e=_0x4f066f['_projection'];let _0x43e87c;if(_0x164d92['scene']['mode']===Cesium['SceneMode']['SCENE3D'])_0x43e87c=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x164d92['_viewPosition'])[0x0];else{const _0x1acc9d=Cesium['Cartographic']['fromDegrees'](_0x164d92['_viewPosition'][0x0],_0x164d92['_viewPosition'][0x1],_0x164d92['_viewPosition'][0x2]);_0x43e87c=_0x25298e['project'](_0x1acc9d,new Cesium['Cartesian3']());}const _0x598f1f=_0x164d92['_currentTargetPoint'];let _0x50a6b7;if(_0x164d92['scene']['mode']===Cesium['SceneMode']['SCENE3D'])_0x50a6b7=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x598f1f)[0x0];else{let _0x2e5c6f=Cesium['Cartographic']['fromDegrees'](_0x598f1f[0x0],_0x598f1f[0x1],_0x598f1f[0x2]);_0x50a6b7=_0x25298e['project'](_0x2e5c6f,new Cesium['Cartesian3']());}const _0x47fe80=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0x50a6b7,_0x43e87c,_0x47fe80);const _0x52eefc=_0x12734a(_0x4e56c2),_0x56f28b=_0x5503df(_0x4e56c2,_0x47fe80),_0x3a8496=[],_0x574ec7={};_0x574ec7['aSideness']=0x0,_0x3a8496['push']({'index':_0x574ec7['aSideness'],'vertexBuffer':_0x52eefc,'componentsPerAttribute':0x2,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x2*0x4,'normalize':![]}),_0x574ec7['aPosition0']=0x1,_0x3a8496['push']({'index':_0x574ec7['aPosition0'],'vertexBuffer':_0x56f28b,'componentsPerAttribute':0x3,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x3*0x4,'normalize':![],'instanceDivisor':0x1}),_0x574ec7['aPosition1']=0x2,_0x3a8496['push']({'index':_0x574ec7['aPosition1'],'vertexBuffer':_0x56f28b,'componentsPerAttribute':0x3,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x3*0x4,'strideInBytes':0x3*0x4,'normalize':![],'instanceDivisor':0x1});const _0x2dc2b0=_0x3cf3f1(_0x4e56c2),_0x4484e7=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['TRIANGLES'],'pass':Cesium['Pass']['OPAQUE'],'owner':_0x164d92,'boundingVolume':new Cesium['BoundingSphere'](_0x43e87c,0x2710),'cull':![]});let _0x9ea4f=new Cesium['Matrix4']();Cesium['Matrix4']['clone'](Cesium['Matrix4']['IDENTITY'],_0x9ea4f),Cesium['Matrix4']['setTranslation'](_0x9ea4f,_0x43e87c,_0x9ea4f);_0x164d92['scene']['mode']!==Cesium['SceneMode']['SCENE3D']&&Cesium['Matrix4']['multiply'](_0x27117e,_0x9ea4f,_0x9ea4f);_0x4484e7['modelMatrix']=_0x9ea4f,_0x4484e7['vertexArray']=new Cesium['VertexArray']({'context':_0x4e56c2,'attributes':_0x3a8496,'indexBuffer':_0x2dc2b0}),_0x4484e7['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0x4e56c2,'vertexShaderSource':_0x11dea8,'fragmentShaderSource':_0x1f84eb,'attributeLocations':_0x574ec7}),_0x4484e7['renderState']=Cesium['RenderState']['fromCache']({'cull':{'enabled':![]},'depthTest':{'enabled':!![]}});const _0x55636b=_0x164d92['_currentTargetName'];_0x4484e7['uniformMap']={'uRenderTextureMatrix':function(){return _0x164d92['_renderTextureMatrixs']['get'](_0x55636b);},'uTexture0':function(){return _0x164d92['_depthBuffers']['get'](_0x55636b)['depthTexture'];},'uVisibleColor':function(){return _0x164d92['_visibleColor'];},'uHiddenColor':function(){return _0x164d92['_hiddenColor'];},'uLineWidth':function(){return _0x164d92['_lineWidth'];}};const _0x3f6233=Cesium['DrawCommand']['shallowClone'](_0x4484e7);_0x3f6233['pass']=Cesium['Pass']['OPAQUE'],_0x3f6233['renderState']=Cesium['RenderState']['fromCache']({'depthMask':![],'depthTest':{'enabled':![]},'blending':Cesium['BlendingState']['ALPHA_BLEND']}),_0x3f6233['uniformMap']['uHiddenColor']=function(){return Cesium['Color']['clone'](_0x164d92['_hiddenColor'],_0x43508a),_0x43508a['alpha']=0.2,_0x43508a;},_0x3f6233['uniformMap']['uVisibleColor']=function(){return Cesium['Color']['clone'](_0x164d92['_visibleColor'],_0x43d5be),_0x43d5be['alpha']=0.2,_0x43d5be;},_0x164d92['_commands']['set'](_0x55636b,[_0x3f6233,_0x4484e7]);}_0x50e167['prototype']['update']=function(_0x28abad){if(_0x28abad['fbo']||_0x28abad['passes']['pick']||_0x28abad['passes']['depth'])return;const _0x47eacf=_0x28abad['camera'];for(let _0x363c99 in this['_viewProjMatrixs']['_hash']){if(this['_viewProjMatrixs']['_hash']['hasOwnProperty'](_0x363c99)){const _0xf9f652=this['_viewProjMatrixs']['get'](_0x363c99);Cesium['Matrix4']['multiply'](_0xf9f652,_0x47eacf['inverseViewMatrix'],this['_renderTextureMatrixs']['get'](_0x363c99));}}if(this['_update']){this['_update']=![];if(this['_targetPoints']['values']['length']<0x1)return;if(this['_updateAll']){this['_updateAll']=![];for(let _0x331d3f in this['_targetPoints']['_hash']){if(this['_targetPoints']['_hash']['hasOwnProperty'](_0x331d3f)){const _0x3295c9=this['_targetPoints']['get'](_0x331d3f);this['_currentTargetPoint']=_0x3295c9,this['_currentTargetName']=_0x331d3f,_0x43986d(this,this['scene']['context'],_0x28abad),_0x441cbd(this,this['scene']['context'],_0x28abad);}}}else _0x43986d(this,this['scene']['context'],_0x28abad),_0x441cbd(this,this['scene']['context'],_0x28abad);}if(!_0x28abad['passes']['pick']){const _0x22de0c=this['_commands']['length'];for(let _0x5212e0=0x0;_0x5212e0<_0x22de0c;_0x5212e0++){if(Cesium['defined'](this['_depthBuffers']['values'][_0x5212e0]['framebuffer'])){const _0x34ae19=this['_commands']['values'][_0x5212e0];_0x28abad['commandList']['push'](_0x34ae19[0x0]),_0x28abad['commandList']['push'](_0x34ae19[0x1]);}}}},_0x50e167['prototype']['getBarrierPoint']=function(_0x3c132b,_0x4cc4b5){const _0x3cf8d9=this['_barrierPointArray']['get'](_0x3c132b);return defined(_0x4cc4b5)&&_0x4cc4b5['bind'](null,_0x3cf8d9)(),_0x3cf8d9;};function _0x48cfdd(_0x1a0e61,_0x213d60){const _0x33c1cc=_0x1a0e61['_targetPoints']['get'](_0x213d60);if(!Cesium['defined'](_0x33c1cc))return;const _0x3be64c={'isViewer':!![]},_0x1acbf1=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x33c1cc)[0x0],_0x1ffecc=new Cesium['Cartesian4'](_0x1acbf1['x'],_0x1acbf1['y'],_0x1acbf1['z'],0x1),_0x5abd8f=_0x1a0e61['_viewProjMatrixs']['get'](_0x213d60);Cesium['Matrix4']['multiplyByVector'](_0x5abd8f,_0x1ffecc,_0x1ffecc),Cesium['Cartesian4']['divideByScalar'](_0x1ffecc,_0x1ffecc['w'],_0x1ffecc);if(_0x1ffecc['x']>0x1||_0x1ffecc['x']<-0x1||_0x1ffecc['y']>0x1||_0x1ffecc['y']<-0x1)return _0x3be64c;const _0x260b29=_0x1a0e61['scene']['context'],_0x128514=_0x260b29['drawingBufferWidth'],_0xff356d=_0x260b29['drawingBufferHeight'],_0x2b318d=(_0x1ffecc['x']*0.5+0.5)*_0x128514-0.5,_0x40f067=(_0x1ffecc['y']*0.5+0.5)*_0xff356d-0.5;if(_0x2b318d<0x0||_0x40f067<0x0)return _0x3be64c;const _0x2fe9c3=Math['floor'](_0x2b318d),_0x382229=_0x2b318d-_0x2fe9c3,_0x17dec4=Math['floor'](_0x40f067),_0x2a14fb=_0x40f067-_0x17dec4,_0x10c82b=_0x1a0e61['_depthBuffers']['get'](_0x213d60),_0x32a4cf=_0x260b29['readPixels']({'framebuffer':_0x10c82b['framebuffer'],'x':_0x2fe9c3,'y':_0x17dec4,'width':0x2,'height':0x2}),_0x52386d=new Cesium['Cartesian4'](),_0x54e4ce=new Cesium['Cartesian3'](),_0x5d474b=new Cesium['Cartesian4'](0x1/0xff,0x1/0xfe01,0x1/0x99246ff,0x1/0xfc05fc01),_0x3048c4=[],_0x2a5908=_0x1a0e61['scene'],_0x108714=_0x260b29['uniformState'],_0x3e2a77=_0x108714['currentFrustum'],_0x5da625=_0x3e2a77['x'],_0x5a315d=_0x3e2a77['y'];for(let _0x2bbf0b=0x0;_0x2bbf0b<0x4;_0x2bbf0b++){const _0x5bf77c=Cesium['Cartesian4']['unpack'](_0x32a4cf,0x4*_0x2bbf0b,_0x52386d),_0x48d865=Cesium['Cartesian4']['dot'](_0x5bf77c,_0x5d474b);if(!(_0x48d865<0x1&&_0x48d865>0x0))return _0x3be64c;_0x3048c4[_0x2bbf0b]=_0x48d865*0x2-0x1;}const _0x498566=(0x1-_0x382229)*_0x3048c4[0x0]+_0x382229*_0x3048c4[0x1],_0x20a38f=(0x1-_0x382229)*_0x3048c4[0x2]+_0x382229*_0x3048c4[0x3],_0xa4a99b=(0x1-_0x2a14fb)*_0x498566+_0x2a14fb*_0x20a38f;if(_0x1ffecc['z']-_0xa4a99b>0.000001){const _0x22ffe5=new Cesium['Matrix4']();Cesium['Matrix4']['inverse'](_0x5abd8f,_0x22ffe5),_0x1ffecc['z']=_0xa4a99b,Cesium['Matrix4']['multiplyByVector'](_0x22ffe5,_0x1ffecc,_0x1ffecc),Cesium['Cartesian4']['divideByScalar'](_0x1ffecc,_0x1ffecc['w'],_0x1ffecc);const _0x243b80=Cesium['Cartographic']['fromCartesian'](_0x1ffecc);_0x3be64c['position']=_0x243b80,_0x3be64c['isViewer']=![],_0x3be64c['st']=new Cesium['Cartesian2'](_0x2fe9c3,_0x17dec4);}return _0x3be64c;}_0x50e167['prototype']['build']=function(){if(this['isBuild'])return;this['isBuild']=!![],this['scene']['primitives']['add'](this),this['removeListenerFunc']=this['scene']['preUpdate']['addEventListener']((_0x1ac450,_0x206f1b)=>{for(let _0x4ad51b in this['_depthBuffers']['_hash']){if(this['_depthBuffers']['_hash']['hasOwnProperty'](_0x4ad51b)){let _0x52bc1a=this['_depthBuffers']['_hash'][_0x4ad51b];_0x52bc1a['renderToTexture'](_0x1ac450);}}},this);},_0x50e167['prototype']['clear']=function(){if(!this['isBuild'])return;this['isBuild']=![],this['removeListenerFunc'](),this['scene']['primitives']['remove'](this);},_0x50e167['prototype']['isDestroyed']=function(){return![];},_0x50e167['prototype']['destroy']=function(){return this['removeAllTargetPoint'](),this['scene']['primitives']['remove'](this),Cesium['destroyObject'](this);};export default _0x50e167;