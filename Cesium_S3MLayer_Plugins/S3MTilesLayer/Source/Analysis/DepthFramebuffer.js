const _0x54e7f8=(function(){let _0x38a792=!![];return function(_0x5410f5,_0x2c955f){const _0x3229d9=_0x38a792?function(){if(_0x2c955f){const _0x45f106=_0x2c955f['apply'](_0x5410f5,arguments);return _0x2c955f=null,_0x45f106;}}:function(){};return _0x38a792=![],_0x3229d9;};}()),_0x26e86f=_0x54e7f8(this,function(){return _0x26e86f['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x26e86f)['search']('(((.+)+)+)+$');});_0x26e86f();function _0x15462b(_0x1a10e1){this['context']=_0x1a10e1,this['sceneFramebuffer']=new Cesium['SceneFramebuffer'](),this['passState']=new Cesium['PassState'](_0x1a10e1),this['passState']['viewport']=new Cesium['BoundingRectangle'](),this['environmentVisible']={'isSunVisible':![],'isMoonVisible':![],'isSkyAtmosphereVisible':![],'isSkyBoxVisible':![],'isGlobalVisible':!![],'isObjectVisible':!![]},this['width']=0x0,this['height']=0x0,this['copyDepthCommand']=undefined,this['clearCommand']=undefined,this['framebuffer']=undefined,this['depthTextureToCopy']=undefined,this['rs']=undefined,this['depthTexture']=undefined,this['framebuffer']=undefined,this['isUpdate']=![];}_0x15462b['prototype']['_updateFramebuffer']=function(_0x2077c0){let _0x41dd2c=_0x2077c0['drawingBufferWidth'],_0x309b15=_0x2077c0['drawingBufferHeight'];(!this['framebuffer']||this['width']!==_0x41dd2c||this['height']!==_0x309b15)&&(this['width']=_0x41dd2c,this['height']=_0x309b15,this['depthTexture']=this['depthTexture']&&!this['depthTexture']['isDestroyed']()&&this['depthTexture']['destroy'](),this['depthTexture']=new Cesium['Texture']({'context':_0x2077c0,'width':_0x41dd2c,'height':_0x309b15,'pixelFormat':Cesium['PixelFormat']['RGBA'],'pixelDatatype':Cesium['PixelDatatype']['UNSIGNED_BYTE'],'sampler':new Cesium['Sampler']({'wrapS':Cesium['TextureWrap']['CLAMP_TO_EDGE'],'wrapT':Cesium['TextureWrap']['CLAMP_TO_EDGE'],'minificationFilter':Cesium['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium['TextureMagnificationFilter']['NEAREST']})}),this['framebuffer']=this['framebuffer']&&!this['framebuffer']['isDestroyed']()&&this['framebuffer']['destroy'](),this['framebuffer']=new Cesium['Framebuffer']({'context':_0x2077c0,'colorTextures':[this['depthTexture']],'destroyAttachments':![]}));},_0x15462b['prototype']['_updateCopyCommand']=function(_0x570857){(!this['rs']||!Cesium['BoundingRectangle']['equals'](this['passState']['viewport'],this['rs']['viewport']))&&(this['rs']=Cesium['RenderState']['fromCache']({'viewport':this['passState']['viewport']}));if(!this['copyDepthCommand']){let _0x36e9d8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20u_depthTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_textureCoordinates;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20czm_packDepth(texture2D(u_depthTexture,\x20v_textureCoordinates).r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20';this['copyDepthCommand']=_0x570857['createViewportQuadCommand'](_0x36e9d8,{'uniformMap':{'u_depthTexture':()=>{return this['depthTextureToCopy'];}},'owner':this});}!this['clearCommand']&&(this['clearCommand']=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x0,0x0,0x0,0x0),'stencil':0x0,'depth':0x1,'owner':this})),this['copyDepthCommand']['renderState']=this['rs'],this['copyDepthCommand']['framebuffer']=this['framebuffer'],this['clearCommand']['framebuffer']=this['framebuffer'];},_0x15462b['prototype']['begin']=function(_0x136900){this['sceneFramebuffer']['update'](_0x136900['context'],_0x136900['view']['viewport'],_0x136900['_hdr']),this['passState']['framebuffer']=this['sceneFramebuffer']['getFramebuffer'](),Cesium['BoundingRectangle']['clone'](_0x136900['view']['viewport'],this['passState']['viewport']);let _0x514447=_0x136900['context'];return this['_updateFramebuffer'](_0x514447),this['_updateCopyCommand'](_0x514447),this['clearCommand']['execute'](_0x514447,this['passState']),_0x136900['frameState']['passes']['depth']=!![],this['beginFunc']&&this['beginFunc'](_0x136900['frameState']),this['passState'];},_0x15462b['prototype']['end']=function(_0x57c892,_0x441232){_0x57c892['passes']['pick']=![],_0x57c892['passes']['depth']=![],this['depthTextureToCopy']=_0x441232['framebuffer']['depthStencilTexture'],this['copyDepthCommand']&&this['copyDepthCommand']['execute'](_0x57c892['context'],_0x441232),this['endFunc']&&this['endFunc'](_0x57c892);},_0x15462b['prototype']['renderToTexture']=function(_0x1c4a1b){if(!this['isUpdate'])return;const _0x4619df=_0x1c4a1b['frameState'];_0x4619df['commandList']['length']=0x0,_0x4619df['fbo']=!![],_0x1c4a1b['useDepthPicking']=![];const _0x51dabd=this['begin'](_0x1c4a1b);_0x1c4a1b['updateEnvironment'](),_0x1c4a1b['updateAndExecuteCommands'](_0x51dabd,Cesium['Color']['BLACK']),this['end'](_0x1c4a1b['frameState'],_0x51dabd),_0x4619df['fbo']=![],_0x1c4a1b['useDepthPicking']=!![];},_0x15462b['prototype']['isDestroyed']=function(){return![];},_0x15462b['prototype']['destroy']=function(){this['depthTexture']=this['depthTexture']&&!this['depthTexture']['isDestroyed']()&&this['depthTexture']['destroy'](),this['framebuffer']=this['framebuffer']&&!this['framebuffer']['isDestroyed']()&&this['framebuffer']['destroy']();if(this['copyDepthCommand']){let _0x248566=this['copyDepthCommand']['sp'];_0x248566=_0x248566&&!_0x248566['isDestroyed']()&&_0x248566['destroy'](),this['copyDepthCommand']=undefined;}return this['clearCommand']=undefined,this['depthTextureToCopy']=undefined,this['isUpdate']=![],Cesium['destroyObject'](this);};export default _0x15462b;