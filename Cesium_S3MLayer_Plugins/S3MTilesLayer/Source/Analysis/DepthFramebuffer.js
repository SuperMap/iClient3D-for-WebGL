const _0x191721=(function(){let _0x2f70e7=!![];return function(_0xdbc3fe,_0x6d1951){const _0x492e92=_0x2f70e7?function(){if(_0x6d1951){const _0x4e9301=_0x6d1951['apply'](_0xdbc3fe,arguments);return _0x6d1951=null,_0x4e9301;}}:function(){};return _0x2f70e7=![],_0x492e92;};}()),_0x3a3b8e=_0x191721(this,function(){return _0x3a3b8e['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x3a3b8e)['search']('(((.+)+)+)+$');});_0x3a3b8e();function _0x3cdabb(_0x514fe4){this['context']=_0x514fe4,this['sceneFramebuffer']=new Cesium['SceneFramebuffer'](),this['passState']=new Cesium['PassState'](_0x514fe4),this['passState']['viewport']=new Cesium['BoundingRectangle'](),this['environmentVisible']={'isSunVisible':![],'isMoonVisible':![],'isSkyAtmosphereVisible':![],'isSkyBoxVisible':![],'isGlobalVisible':!![],'isObjectVisible':!![]},this['width']=0x0,this['height']=0x0,this['copyDepthCommand']=undefined,this['clearCommand']=undefined,this['framebuffer']=undefined,this['depthTextureToCopy']=undefined,this['rs']=undefined,this['depthTexture']=undefined,this['framebuffer']=undefined,this['isUpdate']=![];}_0x3cdabb['prototype']['_updateFramebuffer']=function(_0x28bf52){let _0x1d4cc4=_0x28bf52['drawingBufferWidth'],_0x48bbed=_0x28bf52['drawingBufferHeight'];(!this['framebuffer']||this['width']!==_0x1d4cc4||this['height']!==_0x48bbed)&&(this['width']=_0x1d4cc4,this['height']=_0x48bbed,this['depthTexture']=this['depthTexture']&&!this['depthTexture']['isDestroyed']()&&this['depthTexture']['destroy'](),this['depthTexture']=new Cesium['Texture']({'context':_0x28bf52,'width':_0x1d4cc4,'height':_0x48bbed,'pixelFormat':Cesium['PixelFormat']['RGBA'],'pixelDatatype':Cesium['PixelDatatype']['UNSIGNED_BYTE'],'sampler':new Cesium['Sampler']({'wrapS':Cesium['TextureWrap']['CLAMP_TO_EDGE'],'wrapT':Cesium['TextureWrap']['CLAMP_TO_EDGE'],'minificationFilter':Cesium['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium['TextureMagnificationFilter']['NEAREST']})}),this['framebuffer']=this['framebuffer']&&!this['framebuffer']['isDestroyed']()&&this['framebuffer']['destroy'](),this['framebuffer']=new Cesium['Framebuffer']({'context':_0x28bf52,'colorTextures':[this['depthTexture']],'destroyAttachments':![]}));},_0x3cdabb['prototype']['_updateCopyCommand']=function(_0x3452a0){(!this['rs']||!Cesium['BoundingRectangle']['equals'](this['passState']['viewport'],this['rs']['viewport']))&&(this['rs']=Cesium['RenderState']['fromCache']({'viewport':this['passState']['viewport']}));if(!this['copyDepthCommand']){let _0xc88fc5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20u_depthTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_textureCoordinates;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20czm_packDepth(texture2D(u_depthTexture,\x20v_textureCoordinates).r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20';this['copyDepthCommand']=_0x3452a0['createViewportQuadCommand'](_0xc88fc5,{'uniformMap':{'u_depthTexture':()=>{return this['depthTextureToCopy'];}},'owner':this});}!this['clearCommand']&&(this['clearCommand']=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x0,0x0,0x0,0x0),'stencil':0x0,'depth':0x1,'owner':this})),this['copyDepthCommand']['renderState']=this['rs'],this['copyDepthCommand']['framebuffer']=this['framebuffer'],this['clearCommand']['framebuffer']=this['framebuffer'];},_0x3cdabb['prototype']['begin']=function(_0x108421){this['sceneFramebuffer']['update'](_0x108421['context'],_0x108421['view']['viewport'],_0x108421['_hdr']),this['passState']['framebuffer']=this['sceneFramebuffer']['getFramebuffer'](),Cesium['BoundingRectangle']['clone'](_0x108421['view']['viewport'],this['passState']['viewport']);let _0x4aee6b=_0x108421['context'];return this['_updateFramebuffer'](_0x4aee6b),this['_updateCopyCommand'](_0x4aee6b),this['clearCommand']['execute'](_0x4aee6b,this['passState']),_0x108421['frameState']['passes']['depth']=!![],this['beginFunc']&&this['beginFunc'](_0x108421['frameState']),this['passState'];},_0x3cdabb['prototype']['end']=function(_0x24af85,_0x3a81f3){_0x24af85['passes']['pick']=![],_0x24af85['passes']['depth']=![],this['depthTextureToCopy']=_0x3a81f3['framebuffer']['depthStencilTexture'],this['copyDepthCommand']&&this['copyDepthCommand']['execute'](_0x24af85['context'],_0x3a81f3),this['endFunc']&&this['endFunc'](_0x24af85);},_0x3cdabb['prototype']['renderToTexture']=function(_0xc62843){if(!this['isUpdate'])return;const _0x55d334=_0xc62843['frameState'];_0x55d334['commandList']['length']=0x0,_0x55d334['fbo']=!![],_0xc62843['useDepthPicking']=![];const _0x3d55dc=this['begin'](_0xc62843);_0xc62843['updateEnvironment'](),_0xc62843['updateAndExecuteCommands'](_0x3d55dc,Cesium['Color']['BLACK']),this['end'](_0xc62843['frameState'],_0x3d55dc),_0x55d334['fbo']=![],_0xc62843['useDepthPicking']=!![];},_0x3cdabb['prototype']['isDestroyed']=function(){return![];},_0x3cdabb['prototype']['destroy']=function(){this['depthTexture']=this['depthTexture']&&!this['depthTexture']['isDestroyed']()&&this['depthTexture']['destroy'](),this['framebuffer']=this['framebuffer']&&!this['framebuffer']['isDestroyed']()&&this['framebuffer']['destroy']();if(this['copyDepthCommand']){let _0x4a115d=this['copyDepthCommand']['sp'];_0x4a115d=_0x4a115d&&!_0x4a115d['isDestroyed']()&&_0x4a115d['destroy'](),this['copyDepthCommand']=undefined;}return this['clearCommand']=undefined,this['depthTextureToCopy']=undefined,this['isUpdate']=![],Cesium['destroyObject'](this);};export default _0x3cdabb;