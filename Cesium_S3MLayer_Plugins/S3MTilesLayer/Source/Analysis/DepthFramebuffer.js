const _0x4a5813=(function(){let _0x3b5e58=!![];return function(_0x4b1a87,_0x37ee25){const _0x171e10=_0x3b5e58?function(){if(_0x37ee25){const _0x410b19=_0x37ee25['apply'](_0x4b1a87,arguments);return _0x37ee25=null,_0x410b19;}}:function(){};return _0x3b5e58=![],_0x171e10;};}()),_0x251726=_0x4a5813(this,function(){return _0x251726['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x251726)['search']('(((.+)+)+)+$');});_0x251726();function _0xac4424(_0x19e097){this['context']=_0x19e097,this['sceneFramebuffer']=new Cesium['SceneFramebuffer'](),this['passState']=new Cesium['PassState'](_0x19e097),this['passState']['viewport']=new Cesium['BoundingRectangle'](),this['environmentVisible']={'isSunVisible':![],'isMoonVisible':![],'isSkyAtmosphereVisible':![],'isSkyBoxVisible':![],'isGlobalVisible':!![],'isObjectVisible':!![]},this['width']=0x0,this['height']=0x0,this['copyDepthCommand']=undefined,this['clearCommand']=undefined,this['framebuffer']=undefined,this['depthTextureToCopy']=undefined,this['rs']=undefined,this['depthTexture']=undefined,this['framebuffer']=undefined,this['isUpdate']=![];}_0xac4424['prototype']['_updateFramebuffer']=function(_0x1c3130){let _0x277092=_0x1c3130['drawingBufferWidth'],_0x330ff6=_0x1c3130['drawingBufferHeight'];(!this['framebuffer']||this['width']!==_0x277092||this['height']!==_0x330ff6)&&(this['width']=_0x277092,this['height']=_0x330ff6,this['depthTexture']=this['depthTexture']&&!this['depthTexture']['isDestroyed']()&&this['depthTexture']['destroy'](),this['depthTexture']=new Cesium['Texture']({'context':_0x1c3130,'width':_0x277092,'height':_0x330ff6,'pixelFormat':Cesium['PixelFormat']['RGBA'],'pixelDatatype':Cesium['PixelDatatype']['UNSIGNED_BYTE'],'sampler':new Cesium['Sampler']({'wrapS':Cesium['TextureWrap']['CLAMP_TO_EDGE'],'wrapT':Cesium['TextureWrap']['CLAMP_TO_EDGE'],'minificationFilter':Cesium['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium['TextureMagnificationFilter']['NEAREST']})}),this['framebuffer']=this['framebuffer']&&!this['framebuffer']['isDestroyed']()&&this['framebuffer']['destroy'](),this['framebuffer']=new Cesium['Framebuffer']({'context':_0x1c3130,'colorTextures':[this['depthTexture']],'destroyAttachments':![]}));},_0xac4424['prototype']['_updateCopyCommand']=function(_0x1b8242){(!this['rs']||!Cesium['BoundingRectangle']['equals'](this['passState']['viewport'],this['rs']['viewport']))&&(this['rs']=Cesium['RenderState']['fromCache']({'viewport':this['passState']['viewport']}));if(!this['copyDepthCommand']){let _0x224cb3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20u_depthTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_textureCoordinates;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20czm_packDepth(texture2D(u_depthTexture,\x20v_textureCoordinates).r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20';this['copyDepthCommand']=_0x1b8242['createViewportQuadCommand'](_0x224cb3,{'uniformMap':{'u_depthTexture':()=>{return this['depthTextureToCopy'];}},'owner':this});}!this['clearCommand']&&(this['clearCommand']=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x0,0x0,0x0,0x0),'stencil':0x0,'depth':0x1,'owner':this})),this['copyDepthCommand']['renderState']=this['rs'],this['copyDepthCommand']['framebuffer']=this['framebuffer'],this['clearCommand']['framebuffer']=this['framebuffer'];},_0xac4424['prototype']['begin']=function(_0x1d06d4){this['sceneFramebuffer']['update'](_0x1d06d4['context'],_0x1d06d4['view']['viewport'],_0x1d06d4['_hdr']),this['passState']['framebuffer']=this['sceneFramebuffer']['getFramebuffer'](),Cesium['BoundingRectangle']['clone'](_0x1d06d4['view']['viewport'],this['passState']['viewport']);let _0x423edd=_0x1d06d4['context'];return this['_updateFramebuffer'](_0x423edd),this['_updateCopyCommand'](_0x423edd),this['clearCommand']['execute'](_0x423edd,this['passState']),_0x1d06d4['frameState']['passes']['depth']=!![],this['beginFunc']&&this['beginFunc'](_0x1d06d4['frameState']),this['passState'];},_0xac4424['prototype']['end']=function(_0x28acf0,_0xdd8504){_0x28acf0['passes']['pick']=![],_0x28acf0['passes']['depth']=![],this['depthTextureToCopy']=_0xdd8504['framebuffer']['depthStencilTexture'],this['copyDepthCommand']&&this['copyDepthCommand']['execute'](_0x28acf0['context'],_0xdd8504),this['endFunc']&&this['endFunc'](_0x28acf0);},_0xac4424['prototype']['renderToTexture']=function(_0x513f97){if(!this['isUpdate'])return;const _0x34b77c=_0x513f97['frameState'];_0x34b77c['commandList']['length']=0x0,_0x34b77c['fbo']=!![],_0x513f97['useDepthPicking']=![];const _0x1c652a=this['begin'](_0x513f97);_0x513f97['updateEnvironment'](),_0x513f97['updateAndExecuteCommands'](_0x1c652a,Cesium['Color']['BLACK']),this['end'](_0x513f97['frameState'],_0x1c652a),_0x34b77c['fbo']=![],_0x513f97['useDepthPicking']=!![];},_0xac4424['prototype']['isDestroyed']=function(){return![];},_0xac4424['prototype']['destroy']=function(){this['depthTexture']=this['depthTexture']&&!this['depthTexture']['isDestroyed']()&&this['depthTexture']['destroy'](),this['framebuffer']=this['framebuffer']&&!this['framebuffer']['isDestroyed']()&&this['framebuffer']['destroy']();if(this['copyDepthCommand']){let _0x598bcf=this['copyDepthCommand']['sp'];_0x598bcf=_0x598bcf&&!_0x598bcf['isDestroyed']()&&_0x598bcf['destroy'](),this['copyDepthCommand']=undefined;}return this['clearCommand']=undefined,this['depthTextureToCopy']=undefined,this['isUpdate']=![],Cesium['destroyObject'](this);};export default _0xac4424;