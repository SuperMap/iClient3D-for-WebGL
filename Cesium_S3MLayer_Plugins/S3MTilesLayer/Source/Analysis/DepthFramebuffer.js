const _0x208001=(function(){let _0x48e0a2=!![];return function(_0x41cfb1,_0x24a50b){const _0x158bfc=_0x48e0a2?function(){if(_0x24a50b){const _0x1247d2=_0x24a50b['apply'](_0x41cfb1,arguments);return _0x24a50b=null,_0x1247d2;}}:function(){};return _0x48e0a2=![],_0x158bfc;};}()),_0x3c414f=_0x208001(this,function(){return _0x3c414f['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x3c414f)['search']('(((.+)+)+)+$');});_0x3c414f();function _0x6cc64a(_0x2e9478){this['context']=_0x2e9478,this['sceneFramebuffer']=new Cesium['SceneFramebuffer'](),this['passState']=new Cesium['PassState'](_0x2e9478),this['passState']['viewport']=new Cesium['BoundingRectangle'](),this['environmentVisible']={'isSunVisible':![],'isMoonVisible':![],'isSkyAtmosphereVisible':![],'isSkyBoxVisible':![],'isGlobalVisible':!![],'isObjectVisible':!![]},this['width']=0x0,this['height']=0x0,this['copyDepthCommand']=undefined,this['clearCommand']=undefined,this['framebuffer']=undefined,this['depthTextureToCopy']=undefined,this['rs']=undefined,this['depthTexture']=undefined,this['framebuffer']=undefined,this['isUpdate']=![];}_0x6cc64a['prototype']['_updateFramebuffer']=function(_0x25191a){let _0x4f5d28=_0x25191a['drawingBufferWidth'],_0x2239be=_0x25191a['drawingBufferHeight'];(!this['framebuffer']||this['width']!==_0x4f5d28||this['height']!==_0x2239be)&&(this['width']=_0x4f5d28,this['height']=_0x2239be,this['depthTexture']=this['depthTexture']&&!this['depthTexture']['isDestroyed']()&&this['depthTexture']['destroy'](),this['depthTexture']=new Cesium['Texture']({'context':_0x25191a,'width':_0x4f5d28,'height':_0x2239be,'pixelFormat':Cesium['PixelFormat']['RGBA'],'pixelDatatype':Cesium['PixelDatatype']['UNSIGNED_BYTE'],'sampler':new Cesium['Sampler']({'wrapS':Cesium['TextureWrap']['CLAMP_TO_EDGE'],'wrapT':Cesium['TextureWrap']['CLAMP_TO_EDGE'],'minificationFilter':Cesium['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium['TextureMagnificationFilter']['NEAREST']})}),this['framebuffer']=this['framebuffer']&&!this['framebuffer']['isDestroyed']()&&this['framebuffer']['destroy'](),this['framebuffer']=new Cesium['Framebuffer']({'context':_0x25191a,'colorTextures':[this['depthTexture']],'destroyAttachments':![]}));},_0x6cc64a['prototype']['_updateCopyCommand']=function(_0x213aa1){(!this['rs']||!Cesium['BoundingRectangle']['equals'](this['passState']['viewport'],this['rs']['viewport']))&&(this['rs']=Cesium['RenderState']['fromCache']({'viewport':this['passState']['viewport']}));if(!this['copyDepthCommand']){let _0x19881d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20u_depthTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_textureCoordinates;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20czm_packDepth(texture2D(u_depthTexture,\x20v_textureCoordinates).r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20';this['copyDepthCommand']=_0x213aa1['createViewportQuadCommand'](_0x19881d,{'uniformMap':{'u_depthTexture':()=>{return this['depthTextureToCopy'];}},'owner':this});}!this['clearCommand']&&(this['clearCommand']=new Cesium['ClearCommand']({'color':new Cesium['Color'](0x0,0x0,0x0,0x0),'stencil':0x0,'depth':0x1,'owner':this})),this['copyDepthCommand']['renderState']=this['rs'],this['copyDepthCommand']['framebuffer']=this['framebuffer'],this['clearCommand']['framebuffer']=this['framebuffer'];},_0x6cc64a['prototype']['begin']=function(_0x3d743c){this['sceneFramebuffer']['update'](_0x3d743c['context'],_0x3d743c['view']['viewport'],_0x3d743c['_hdr']),this['passState']['framebuffer']=this['sceneFramebuffer']['getFramebuffer'](),Cesium['BoundingRectangle']['clone'](_0x3d743c['view']['viewport'],this['passState']['viewport']);let _0x3da257=_0x3d743c['context'];return this['_updateFramebuffer'](_0x3da257),this['_updateCopyCommand'](_0x3da257),this['clearCommand']['execute'](_0x3da257,this['passState']),_0x3d743c['frameState']['passes']['depth']=!![],this['beginFunc']&&this['beginFunc'](_0x3d743c['frameState']),this['passState'];},_0x6cc64a['prototype']['end']=function(_0x5085c3,_0x26664){_0x5085c3['passes']['pick']=![],_0x5085c3['passes']['depth']=![],this['depthTextureToCopy']=_0x26664['framebuffer']['depthStencilTexture'],this['copyDepthCommand']&&this['copyDepthCommand']['execute'](_0x5085c3['context'],_0x26664),this['endFunc']&&this['endFunc'](_0x5085c3);},_0x6cc64a['prototype']['renderToTexture']=function(_0x15d8fb){if(!this['isUpdate'])return;const _0x3e4e26=_0x15d8fb['frameState'];_0x3e4e26['commandList']['length']=0x0,_0x3e4e26['fbo']=!![],_0x15d8fb['useDepthPicking']=![];const _0x4a177b=this['begin'](_0x15d8fb);_0x15d8fb['updateEnvironment'](),_0x15d8fb['updateAndExecuteCommands'](_0x4a177b,Cesium['Color']['BLACK']),this['end'](_0x15d8fb['frameState'],_0x4a177b),_0x3e4e26['fbo']=![],_0x15d8fb['useDepthPicking']=!![];},_0x6cc64a['prototype']['isDestroyed']=function(){return![];},_0x6cc64a['prototype']['destroy']=function(){this['depthTexture']=this['depthTexture']&&!this['depthTexture']['isDestroyed']()&&this['depthTexture']['destroy'](),this['framebuffer']=this['framebuffer']&&!this['framebuffer']['isDestroyed']()&&this['framebuffer']['destroy']();if(this['copyDepthCommand']){let _0x29176b=this['copyDepthCommand']['sp'];_0x29176b=_0x29176b&&!_0x29176b['isDestroyed']()&&_0x29176b['destroy'](),this['copyDepthCommand']=undefined;}return this['clearCommand']=undefined,this['depthTextureToCopy']=undefined,this['isUpdate']=![],Cesium['destroyObject'](this);};export default _0x6cc64a;