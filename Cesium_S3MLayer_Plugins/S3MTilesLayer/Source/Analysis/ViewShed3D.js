const _0x2cb75e=(function(){let _0x2e1098=!![];return function(_0x421d13,_0x413c2e){const _0x1bfd8c=_0x2e1098?function(){if(_0x413c2e){const _0x331757=_0x413c2e['apply'](_0x421d13,arguments);return _0x413c2e=null,_0x331757;}}:function(){};return _0x2e1098=![],_0x1bfd8c;};}()),_0x40793e=_0x2cb75e(this,function(){return _0x40793e['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x40793e)['search']('(((.+)+)+)+$');});_0x40793e();import _0xbcc361 from'./DepthFramebuffer.js';import _0x4840a7 from'./Shaders/ViewShedAnalysisVS.js';import _0x3b8484 from'./Shaders/ViewShedAnalysisFS.js';import _0x23b80b from'./Shaders/NoLightNoTextureVS.js';import _0x33b6a7 from'./Shaders/NoLightNoTextureFS.js';function _0x8e3802(_0x21c781){this['scene']=_0x21c781,this['cameraDepthBuffer']=new _0xbcc361(_0x21c781['_context']),this['globalDepthBuffer']=new _0xbcc361(_0x21c781['_context']),this['segmentCount']=0x14,this['_viewPosition']=[0x0,0x0,0x0],this['_direction']=0x0,this['_pitch']=0x0,this['_horizontalFov']=0x5a,this['_verticalFov']=0x3c,this['_distance']=0x64,this['_visibleAreaColor']=new Cesium['Color'](0x0,0x1,0x0,0.5),this['_hiddenAreaColor']=new Cesium['Color'](0x1,0x0,0x0,0.5),this['_hintLineColor']=new Cesium['Color'](0x1,0x1,0x1,0x1),this['boundingSphere']=new Cesium['BoundingSphere'](),this['viewProjectionMatrix']=new Cesium['Matrix4'](),this['invViewMatrix']=new Cesium['Matrix4'](),this['renderTextureMatrix']=new Cesium['Matrix4'](),this['colorCommand']=undefined,this['stencilCommand']=undefined,this['lineCommand']=undefined,this['dirty']=![],this['isBuild']=![];}Object['defineProperties'](_0x8e3802['prototype'],{'viewPosition':{'get':function(){return this['_viewPosition'];},'set':function(_0x597fc7){this['_viewPosition']=_0x597fc7;}},'direction':{'get':function(){return this['_direction'];},'set':function(_0x2a6c49){this['_direction']=_0x2a6c49,this['dirty']=!![];}},'pitch':{'get':function(){return this['_pitch'];},'set':function(_0x1dcbb0){this['_pitch']=_0x1dcbb0,this['dirty']=!![];}},'horizontalFov':{'get':function(){return this['_horizontalFov'];},'set':function(_0x131c70){this['_horizontalFov']=_0x131c70,this['dirty']=!![];}},'verticalFov':{'get':function(){return this['_verticalFov'];},'set':function(_0x3b5995){this['_verticalFov']=_0x3b5995,this['dirty']=!![];}},'distance':{'get':function(){return this['_distance'];},'set':function(_0x49349c){this['_distance']=Math['max'](_0x49349c,0x0),this['dirty']=!![];}}}),_0x8e3802['prototype']['_updateCamera']=function(_0x1b860a){let _0x142d6a=_0x1b860a['camera'],_0x50c6cd=this['_horizontalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x507e1a=this['_verticalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x532f3a=Math['tan'](_0x50c6cd*0.5),_0x36f508=Math['tan'](_0x507e1a*0.5),_0x2a9f85=_0x532f3a/_0x36f508,_0x14db70=this['_distance']*0.001,_0x5223ed=Math['max'](this['_distance'],0xa),_0x4e5c1d=this['_direction']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x5b84bb=this['_pitch']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x1e5023=Cesium['Cartesian3']['fromDegreesArrayHeights'](this['_viewPosition'])[0x0],_0x2edf94=_0x142d6a['frustum']['aspectRatio'],_0x24f67d=_0x142d6a['frustum']['fov'],_0x40936f=_0x142d6a['frustum']['near'],_0x1b374e=_0x142d6a['frustum']['far'],_0x2b9f52=new Cesium['Cartesian3'](),_0x4a9788=_0x142d6a['heading'],_0xfde836=_0x142d6a['pitch'];Cesium['Cartesian3']['clone'](_0x142d6a['position'],_0x2b9f52);let _0x290365=_0x1b860a['useLogDepth'],_0x36c9a5=this['scene']['farToNearRatio'];this['cameraDepthBuffer']['isUpdate']=!![],this['cameraDepthBuffer']['beginFunc']=_0x52ebfa=>{_0x52ebfa['useLogDepth']=![],_0x2edf94=_0x142d6a['frustum']['aspectRatio'],_0x24f67d=_0x142d6a['frustum']['fov'],_0x40936f=_0x142d6a['frustum']['near'],_0x1b374e=_0x142d6a['frustum']['far'],_0x4a9788=_0x142d6a['heading'],_0xfde836=_0x142d6a['pitch'],Cesium['Cartesian3']['clone'](_0x142d6a['position'],_0x2b9f52),_0x142d6a['frustum']['aspectRatio']=_0x2a9f85,_0x142d6a['frustum']['fov']=_0x50c6cd,_0x142d6a['frustum']['near']=0x1,_0x142d6a['frustum']['far']=_0x5223ed+0x1,_0x142d6a['setView']({'destination':_0x1e5023,'orientation':{'heading':_0x4e5c1d,'pitch':_0x5b84bb,'roll':_0x142d6a['roll']}});const _0x3ccd7b=this['scene']['_primitives']['_primitives'];for(let _0x17949a=0x0;_0x17949a<_0x3ccd7b['length'];++_0x17949a){const _0x45881a=_0x3ccd7b[_0x17949a];!Cesium['defined'](_0x45881a['fileType'])&&(_0x45881a['preShow']=_0x45881a['show'],_0x45881a['show']=![]);}Cesium['Matrix4']['multiply'](_0x142d6a['frustum']['projectionMatrix'],_0x142d6a['viewMatrix'],this['viewProjectionMatrix']),Cesium['Matrix4']['clone'](_0x142d6a['inverseViewMatrix'],this['invViewMatrix']),Cesium['Cartesian3']['clone'](Cesium['Cartesian3']['ZERO'],this['boundingSphere']['center']),this['boundingSphere']['radius']=this['_distance'],Cesium['BoundingSphere']['transform'](this['boundingSphere'],this['invViewMatrix'],this['boundingSphere']);},this['cameraDepthBuffer']['endFunc']=_0x36c7d3=>{_0x142d6a['setView']({'destination':_0x2b9f52,'orientation':{'heading':_0x4a9788,'pitch':_0xfde836,'roll':_0x142d6a['roll']},'convert':![]}),_0x142d6a['frustum']['aspectRatio']=_0x2edf94,_0x142d6a['frustum']['fov']=_0x24f67d,_0x142d6a['frustum']['near']=_0x40936f,_0x142d6a['frustum']['far']=_0x1b374e;const _0xf11ab4=this['scene']['_primitives']['_primitives'];for(let _0x58b105=0x0;_0x58b105<_0xf11ab4['length'];++_0x58b105){const _0x1fa40e=_0xf11ab4[_0x58b105];!Cesium['defined'](_0x1fa40e['fileType'])&&(_0x1fa40e['show']=_0x1fa40e['preShow']);}this['cameraDepthBuffer']['isUpdate']=![],_0x36c7d3['useLogDepth']=_0x290365;},this['globalDepthBuffer']['isUpdate']=!![],this['globalDepthBuffer']['beginFunc']=_0x258d4b=>{_0x258d4b['useLogDepth']=![],_0x142d6a['frustum']['near']=0xa,this['scene']['farToNearRatio']=this['scene']['logarithmicDepthFarToNearRatio'];},this['globalDepthBuffer']['endFunc']=_0x58699d=>{if(this['scene']['view']['frustumCommandsList']['length']>0x0){let _0x4f987a=this['scene']['view']['frustumCommandsList'][0x0];_0x142d6a['frustum']['near']=_0x4f987a['near'],_0x142d6a['frustum']['far']=_0x4f987a['far'];}let _0x4cedd9=Cesium['Matrix4']['inverse'](_0x142d6a['frustum']['projectionMatrix'],new Cesium['Matrix4']()),_0xa9fdd7=Cesium['Matrix4']['multiply'](_0x142d6a['inverseViewMatrix'],_0x4cedd9,new Cesium['Matrix4']());Cesium['Matrix4']['multiply'](this['viewProjectionMatrix'],_0xa9fdd7,this['renderTextureMatrix']),_0x58699d['useLogDepth']=_0x290365,this['scene']['farToNearRatio']=_0x36c9a5,_0x142d6a['frustum']['near']=_0x40936f,_0x142d6a['frustum']['far']=_0x1b374e;};};function _0x9709b7(_0x117332){const _0x2c1e92=_0x117332['segmentCount'],_0x423901=_0x117332['segmentCount']+0x1,_0x4ef86d=_0x117332['_distance'];let _0x520ef1=_0x423901*_0x423901+0x1,_0x131801=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['FLOAT'],_0x520ef1*0x3),_0x562659=_0x117332['_horizontalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x4dc914=_0x117332['_verticalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x46956d=Math['tan'](_0x562659*0.5),_0x5d33a6=Math['tan'](_0x4dc914*0.5),_0x34ddfe=Math['PI']-_0x562659*0.5,_0x541e9b=_0x4ef86d*_0x46956d,_0x155136=_0x4ef86d*_0x5d33a6,_0x4c5fdc=0x0,_0x3fbb72=0x0,_0x5acadb=_0x562659/_0x2c1e92,_0x4d9443=0x3;for(let _0xf9e64d=0x0;_0xf9e64d<_0x423901;_0xf9e64d++){_0x4c5fdc=_0x34ddfe+_0xf9e64d*_0x5acadb;let _0x38e644=_0x155136/(_0x4ef86d/Math['cos'](_0x4c5fdc)),_0x3b91b2=Math['atan'](_0x38e644),_0x2172ab=-_0x3b91b2,_0xf8a4e5=_0x3b91b2*0x2/_0x2c1e92;for(let _0x2ff568=0x0;_0x2ff568<_0x423901;_0x2ff568++){_0x3fbb72=_0x2172ab+_0x2ff568*_0xf8a4e5;let _0x3c884a=_0x4ef86d*Math['cos'](_0x3fbb72)*Math['sin'](_0x4c5fdc),_0xb85429=_0x4ef86d*Math['sin'](_0x3fbb72),_0x316f18=_0x4ef86d*Math['cos'](_0x3fbb72)*Math['cos'](_0x4c5fdc);_0x131801[_0x4d9443++]=_0x3c884a,_0x131801[_0x4d9443++]=_0xb85429,_0x131801[_0x4d9443++]=_0x316f18;}}return _0x131801;}function _0x4848a8(_0x510f51){const _0x50b878=_0x510f51['segmentCount'],_0x26c337=_0x50b878+0x1;let _0x4b7e15=_0x50b878*_0x50b878*0x3*0x2+_0x50b878*0x3*0x4,_0x14b7c7=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_SHORT'],_0x4b7e15),_0x484d34=0x0,_0x5befb3=0x1;for(let _0x57377a=0x0;_0x57377a<_0x50b878;_0x57377a++){for(let _0x5c26bd=0x0;_0x5c26bd<_0x50b878;_0x5c26bd++){_0x14b7c7[_0x484d34++]=_0x5befb3+_0x57377a+_0x5c26bd*_0x26c337,_0x14b7c7[_0x484d34++]=_0x5befb3+_0x57377a+0x1+_0x5c26bd*_0x26c337,_0x14b7c7[_0x484d34++]=_0x5befb3+_0x57377a+(_0x5c26bd+0x1)*_0x26c337,_0x14b7c7[_0x484d34++]=_0x5befb3+_0x57377a+0x1+_0x5c26bd*_0x26c337,_0x14b7c7[_0x484d34++]=_0x5befb3+_0x57377a+0x1+(_0x5c26bd+0x1)*_0x26c337,_0x14b7c7[_0x484d34++]=_0x5befb3+_0x57377a+(_0x5c26bd+0x1)*_0x26c337;}}for(let _0x389808=0x0;_0x389808<_0x50b878;_0x389808++){_0x14b7c7[_0x484d34++]=_0x389808+0x1+_0x5befb3,_0x14b7c7[_0x484d34++]=_0x389808+_0x5befb3,_0x14b7c7[_0x484d34++]=0x0,_0x14b7c7[_0x484d34++]=0x0,_0x14b7c7[_0x484d34++]=_0x389808+_0x50b878*_0x26c337+_0x5befb3,_0x14b7c7[_0x484d34++]=_0x389808+0x1+_0x50b878*_0x26c337+_0x5befb3;}for(let _0x5d88dd=0x0;_0x5d88dd<_0x50b878;_0x5d88dd++){_0x14b7c7[_0x484d34++]=0x0,_0x14b7c7[_0x484d34++]=_0x5d88dd*_0x26c337+_0x5befb3,_0x14b7c7[_0x484d34++]=(_0x5d88dd+0x1)*_0x26c337+_0x5befb3,_0x14b7c7[_0x484d34++]=_0x50b878+(_0x5d88dd+0x1)*_0x26c337+_0x5befb3,_0x14b7c7[_0x484d34++]=_0x50b878+_0x5d88dd*_0x26c337+_0x5befb3,_0x14b7c7[_0x484d34++]=0x0;}return _0x14b7c7;}function _0x2700f7(_0x44816c){const _0x186e2d=_0x44816c['segmentCount'],_0x3c235a=_0x186e2d+0x1,_0x5f0a9f=(0x4+_0x186e2d*0x5+_0x186e2d*0x2*0x3)*0x2;let _0x4b8d02=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_SHORT'],_0x5f0a9f),_0x34a8e0=0x0;_0x4b8d02[_0x34a8e0++]=0x0,_0x4b8d02[_0x34a8e0++]=0x1,_0x4b8d02[_0x34a8e0++]=0x0,_0x4b8d02[_0x34a8e0++]=_0x3c235a,_0x4b8d02[_0x34a8e0++]=0x0,_0x4b8d02[_0x34a8e0++]=_0x186e2d*_0x3c235a+0x1,_0x4b8d02[_0x34a8e0++]=0x0,_0x4b8d02[_0x34a8e0++]=_0x3c235a*_0x3c235a;for(let _0x253607=0x0;_0x253607<0x5;_0x253607++){for(let _0x680d4a=0x0;_0x680d4a<_0x186e2d;_0x680d4a++){_0x4b8d02[_0x34a8e0++]=0x1+_0x680d4a+_0x3c235a*0x5*_0x253607,_0x4b8d02[_0x34a8e0++]=0x1+(_0x680d4a+0x1)+_0x3c235a*0x5*_0x253607;}}for(let _0x2b04b7=0x0;_0x2b04b7<0x5;_0x2b04b7++){for(let _0x3e22bb=0x0;_0x3e22bb<_0x186e2d;_0x3e22bb++){_0x4b8d02[_0x34a8e0++]=0x1+_0x3c235a*_0x3e22bb+_0x2b04b7*0x5,_0x4b8d02[_0x34a8e0++]=0x1+_0x3c235a*(_0x3e22bb+0x1)+_0x2b04b7*0x5;}}return _0x4b8d02;}_0x8e3802['prototype']['_createCommand']=function(_0x18cdc5){let _0x498593=_0x9709b7(this),_0x3ebcdb=_0x4848a8(this),_0x25476d=_0x2700f7(this),_0x30ad75=_0x18cdc5['context'],_0x29dfe8=Cesium['Buffer']['createVertexBuffer']({'context':_0x30ad75,'typedArray':_0x498593,'usage':Cesium['BufferUsage']['STATIC_DRAW']}),_0x4d3783=Cesium['Buffer']['createIndexBuffer']({'context':_0x30ad75,'typedArray':_0x3ebcdb,'usage':Cesium['BufferUsage']['STATIC_DRAW'],'indexDatatype':Cesium['IndexDatatype']['UNSIGNED_SHORT']}),_0x57a0c7=[{'index':0x0,'vertexBuffer':_0x29dfe8,'componentsPerAttribute':0x3,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x3*0x4,'normalize':![]}],_0xe02238={'aPosition':0x0},_0x1ff18d=new Cesium['VertexArray']({'context':_0x30ad75,'attributes':_0x57a0c7,'indexBuffer':_0x4d3783}),_0x1ffcf4=new Cesium['ShaderSource']({'sources':[_0x4840a7]}),_0x2f8bff=new Cesium['ShaderSource']({'sources':[_0x3b8484]}),_0x5b287d=Cesium['ShaderProgram']['fromCache']({'context':_0x30ad75,'vertexShaderSource':_0x1ffcf4,'fragmentShaderSource':_0x2f8bff,'attributeLocations':_0xe02238}),_0xa01055=Cesium['RenderState']['fromCache']({'cull':{'enabled':![]},'depthTest':{'enabled':![]},'depthMask':![],'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction']['NOT_EQUAL'],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'backFunction':Cesium['StencilFunction']['NOT_EQUAL'],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'reference':0x0,'mask':~0x0},'blending':Cesium['BlendingState']['ALPHA_BLEND']});this['colorCommand']=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['TRIANGLES'],'modelMatrix':this['invViewMatrix'],'boundingVolume':this['boundingSphere'],'pass':Cesium['Pass']['OPAQUE'],'shaderProgram':_0x5b287d,'vertexArray':_0x1ff18d,'renderState':_0xa01055,'owner':this,'cull':!![]}),this['colorCommand']['uniformMap']={'uVisibleAreaColor':()=>{return this['_visibleAreaColor'];},'uHiddenAreaColor':()=>{return this['_hiddenAreaColor'];},'uRenderTextureMatrix':()=>{return this['renderTextureMatrix'];},'uTextureSize':()=>{let _0x592f69=this['cameraDepthBuffer']['depthTexture'];return new Cesium['Cartesian2'](_0x592f69['width'],_0x592f69['height']);},'uTexture':()=>{return this['cameraDepthBuffer']['depthTexture'];},'uGlobalDepthTexture':()=>{return this['globalDepthBuffer']['depthTexture'];}};let _0x264119=Cesium['DrawCommand']['shallowClone'](this['colorCommand']);_0x264119['renderState']=Cesium['RenderState']['fromCache']({'depthMask':![],'colorMask':{'red':![],'green':![],'blue':![],'alpha':![]},'depthTest':{'enabled':!![],'func':Cesium['DepthFunction']['GREATER']},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction']['ALWAYS'],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['INCREMENT_WRAP']},'backFunction':Cesium['StencilFunction']['ALWAYS'],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'reference':0x0,'mask':~0x0}}),this['stencilCommand']=_0x264119;let _0x53b814=Cesium['Buffer']['createIndexBuffer']({'context':_0x30ad75,'typedArray':_0x25476d,'usage':Cesium['BufferUsage']['STATIC_DRAW'],'indexDatatype':Cesium['IndexDatatype']['UNSIGNED_SHORT']});this['lineCommand']=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['LINES'],'modelMatrix':this['invViewMatrix'],'boundingVolume':this['boundingSphere'],'pass':Cesium['Pass']['OPAQUE'],'owner':this,'cull':!![]}),this['lineCommand']['vertexArray']=new Cesium['VertexArray']({'context':_0x30ad75,'attributes':_0x57a0c7,'indexBuffer':_0x53b814}),this['lineCommand']['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0x30ad75,'vertexShaderSource':_0x23b80b,'fragmentShaderSource':_0x33b6a7,'attributeLocations':_0xe02238}),this['lineCommand']['renderState']=Cesium['RenderState']['fromCache']({'cull':{'enabled':![]},'depthTest':{'enabled':!![]},'blending':Cesium['BlendingState']['ALPHA_BLEND']}),this['lineCommand']['uniformMap']={'uColor':()=>{return this['_hintLineColor'];}};},_0x8e3802['prototype']['setDistDirByPoint']=function(_0x223211){let _0xcd9e6a=this['scene']['camera'],_0x4c1df2=_0xcd9e6a['_projection'],_0x3e21fc=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x223211)[0x0],_0x422bef=Cesium['Cartesian3']['fromDegreesArrayHeights'](this['_viewPosition'])[0x0],_0x1e9544=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0x3e21fc,_0x422bef,_0x1e9544);let _0x1308b1=Cesium['Cartesian3']['magnitude'](_0x1e9544);Cesium['Cartesian3']['normalize'](_0x1e9544,_0x1e9544),this['distance']=_0x1308b1;let _0x4285cc=_0xcd9e6a['heading'],_0xd5c0bb=_0xcd9e6a['pitch'],_0x392c88=_0xcd9e6a['roll'],_0x379d11=new Cesium['Cartesian3']();Cesium['Cartesian3']['clone'](_0xcd9e6a['position'],_0x379d11);let _0x32d442=_0x1e9544['clone'](),_0x101cd5=_0x422bef['clone']();_0x101cd5=Cesium['Cartesian3']['normalize'](_0x101cd5,_0x101cd5);Math['abs'](Cesium['Cartesian3']['dot'](_0x101cd5,_0x32d442))>=0x1&&(Math['abs'](Cesium['Cartesian3']['dot'](_0x32d442,Cesium['Cartesian3']['UNIT_Y']))<0x1?_0x101cd5=Cesium['Cartesian3']['clone'](Cartesian3['UNIT_Y'],_0x101cd5):_0x101cd5=Cesium['Cartesian3']['clone'](Cartesian3['UNIT_Z'],_0x101cd5));let _0xd7c2d=new Cesium['Cartesian3']();Cesium['Cartesian3']['cross'](_0x101cd5,_0x32d442,_0xd7c2d),_0xd7c2d=Cesium['Cartesian3']['normalize'](_0xd7c2d,_0xd7c2d),Cesium['Cartesian3']['cross'](_0x32d442,_0xd7c2d,_0x101cd5),_0x101cd5=Cesium['Cartesian3']['normalize'](_0x101cd5,_0x101cd5),_0xcd9e6a['setView']({'destination':_0x422bef,'orientation':{'direction':_0x32d442,'up':_0x101cd5},'convert':![]}),this['direction']=_0xcd9e6a['heading']*Cesium['Math']['DEGREES_PER_RADIAN'],this['pitch']=_0xcd9e6a['pitch']*Cesium['Math']['DEGREES_PER_RADIAN'],_0xcd9e6a['setView']({'destination':_0x379d11,'orientation':{'heading':_0x4285cc,'pitch':_0xd5c0bb,'roll':_0x392c88},'convert':![]});},_0x8e3802['prototype']['_destroyCommand']=function(){this['colorCommand']&&(this['colorCommand']['vertexArray']=this['colorCommand']['vertexArray']&&!this['colorCommand']['vertexArray']['isDestroyed']()&&this['colorCommand']['vertexArray']['destroy'](),this['colorCommand']['shaderProgram']=this['colorCommand']['shaderProgram']&&!this['colorCommand']['shaderProgram']['isDestroyed']()&&this['colorCommand']['shaderProgram']['destroy'](),this['colorCommand']=undefined),this['stencilCommand']&&(this['stencilCommand']['vertexArray']=this['stencilCommand']['vertexArray']&&!this['stencilCommand']['vertexArray']['isDestroyed']()&&this['stencilCommand']['vertexArray']['destroy'](),this['stencilCommand']['shaderProgram']=this['stencilCommand']['shaderProgram']&&!this['stencilCommand']['shaderProgram']['isDestroyed']()&&this['stencilCommand']['shaderProgram']['destroy'](),this['stencilCommand']=undefined),this['lineCommand']&&(this['lineCommand']['vertexArray']=this['lineCommand']['vertexArray']&&!this['lineCommand']['vertexArray']['isDestroyed']()&&this['lineCommand']['vertexArray']['destroy'](),this['lineCommand']['shaderProgram']=this['lineCommand']['shaderProgram']&&!this['lineCommand']['shaderProgram']['isDestroyed']()&&this['lineCommand']['shaderProgram']['destroy'](),this['lineCommand']=undefined);},_0x8e3802['prototype']['update']=function(_0x2c7762){if(_0x2c7762['fbo']||_0x2c7762['passes']['pick']||_0x2c7762['passes']['depth'])return;this['dirty']&&(this['dirty']=![],this['_destroyCommand'](),this['_updateCamera'](_0x2c7762),this['_createCommand'](_0x2c7762)),this['stencilCommand']&&_0x2c7762['commandList']['push'](this['stencilCommand']),this['colorCommand']&&_0x2c7762['commandList']['push'](this['colorCommand']),this['lineCommand']&&_0x2c7762['commandList']['push'](this['lineCommand']);},_0x8e3802['prototype']['build']=function(){if(this['isBuild'])return;this['isBuild']=!![],this['scene']['primitives']['add'](this),this['removeListenerFunc']=this['scene']['preUpdate']['addEventListener']((_0x5c43c3,_0x1c087e)=>{this['cameraDepthBuffer']['renderToTexture'](_0x5c43c3),this['globalDepthBuffer']['renderToTexture'](_0x5c43c3);},this);},_0x8e3802['prototype']['clear']=function(){if(!this['isBuild'])return;this['isBuild']=![],this['removeListenerFunc'](),this['scene']['primitives']['remove'](this);},_0x8e3802['prototype']['isDestroyed']=function(){return![];},_0x8e3802['prototype']['destroy']=function(){this['cameraDepthBuffer']=this['cameraDepthBuffer']['destroy'](),this['globalDepthBuffer']=this['globalDepthBuffer']['destroy']();if(this['colorCommand']){let _0x4919a0=this['colorCommand']['vertexArray'],_0x90e326=this['colorCommand']['shaderProgram'];_0x4919a0=_0x4919a0&&!_0x4919a0['isDestroyed']()&&_0x4919a0['destroy'](),_0x90e326=_0x90e326&&!_0x90e326['isDestroyed']()&&_0x90e326['destroy'](),this['colorCommand']=undefined;}if(this['stencilCommand']){let _0x59fa50=this['stencilCommand']['vertexArray'],_0x5bc771=this['stencilCommand']['shaderProgram'];_0x59fa50=_0x59fa50&&!_0x59fa50['isDestroyed']()&&_0x59fa50['destroy'](),_0x5bc771=_0x5bc771&&!_0x5bc771['isDestroyed']()&&_0x5bc771['destroy'](),this['stencilCommand']=undefined;}if(this['lineCommand']){let _0x282075=this['lineCommand']['vertexArray'],_0x44890d=this['lineCommand']['shaderProgram'];_0x282075=_0x282075&&!_0x282075['isDestroyed']()&&_0x282075['destroy'](),_0x44890d=_0x44890d&&!_0x44890d['isDestroyed']()&&_0x44890d['destroy'](),this['lineCommand']=undefined;}};export default _0x8e3802;