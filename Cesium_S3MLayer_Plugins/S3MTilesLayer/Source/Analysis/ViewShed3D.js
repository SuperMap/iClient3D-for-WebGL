const _0x96a35=(function(){let _0x229325=!![];return function(_0x20020c,_0x478f49){const _0x1c420e=_0x229325?function(){if(_0x478f49){const _0x5eb7ce=_0x478f49['apply'](_0x20020c,arguments);return _0x478f49=null,_0x5eb7ce;}}:function(){};return _0x229325=![],_0x1c420e;};}()),_0xb59d69=_0x96a35(this,function(){return _0xb59d69['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0xb59d69)['search']('(((.+)+)+)+$');});_0xb59d69();import _0x422b18 from'./DepthFramebuffer.js';import _0x3fecfd from'./Shaders/ViewShedAnalysisVS.js';import _0x3ae186 from'./Shaders/ViewShedAnalysisFS.js';import _0x656d2d from'./Shaders/NoLightNoTextureVS.js';import _0x421562 from'./Shaders/NoLightNoTextureFS.js';function _0x3fcebd(_0x4f8c01){this['scene']=_0x4f8c01,this['cameraDepthBuffer']=new _0x422b18(_0x4f8c01['_context']),this['globalDepthBuffer']=new _0x422b18(_0x4f8c01['_context']),this['segmentCount']=0x14,this['_viewPosition']=[0x0,0x0,0x0],this['_direction']=0x0,this['_pitch']=0x0,this['_horizontalFov']=0x5a,this['_verticalFov']=0x3c,this['_distance']=0x64,this['_visibleAreaColor']=new Cesium['Color'](0x0,0x1,0x0,0.5),this['_hiddenAreaColor']=new Cesium['Color'](0x1,0x0,0x0,0.5),this['_hintLineColor']=new Cesium['Color'](0x1,0x1,0x1,0x1),this['boundingSphere']=new Cesium['BoundingSphere'](),this['viewProjectionMatrix']=new Cesium['Matrix4'](),this['invViewMatrix']=new Cesium['Matrix4'](),this['renderTextureMatrix']=new Cesium['Matrix4'](),this['colorCommand']=undefined,this['stencilCommand']=undefined,this['lineCommand']=undefined,this['dirty']=![],this['isBuild']=![];}Object['defineProperties'](_0x3fcebd['prototype'],{'viewPosition':{'get':function(){return this['_viewPosition'];},'set':function(_0x51c18b){this['_viewPosition']=_0x51c18b;}},'direction':{'get':function(){return this['_direction'];},'set':function(_0xf7e491){this['_direction']=_0xf7e491,this['dirty']=!![];}},'pitch':{'get':function(){return this['_pitch'];},'set':function(_0x3b5927){this['_pitch']=_0x3b5927,this['dirty']=!![];}},'horizontalFov':{'get':function(){return this['_horizontalFov'];},'set':function(_0x166788){this['_horizontalFov']=_0x166788,this['dirty']=!![];}},'verticalFov':{'get':function(){return this['_verticalFov'];},'set':function(_0x4a7626){this['_verticalFov']=_0x4a7626,this['dirty']=!![];}},'distance':{'get':function(){return this['_distance'];},'set':function(_0x47ba8f){this['_distance']=Math['max'](_0x47ba8f,0x0),this['dirty']=!![];}}}),_0x3fcebd['prototype']['_updateCamera']=function(_0x40a5ca){let _0x21400f=_0x40a5ca['camera'],_0x434d13=this['_horizontalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x423aeb=this['_verticalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0xd9852b=Math['tan'](_0x434d13*0.5),_0x1d9d8e=Math['tan'](_0x423aeb*0.5),_0x98242d=_0xd9852b/_0x1d9d8e,_0x4ac7ae=this['_distance']*0.001,_0x3a5aa8=Math['max'](this['_distance'],0xa),_0x36c8b8=this['_direction']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x4c8448=this['_pitch']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x3352bc=Cesium['Cartesian3']['fromDegreesArrayHeights'](this['_viewPosition'])[0x0],_0xfb16e8=_0x21400f['frustum']['aspectRatio'],_0x57414a=_0x21400f['frustum']['fov'],_0x5aa352=_0x21400f['frustum']['near'],_0x2742b3=_0x21400f['frustum']['far'],_0x21a01b=new Cesium['Cartesian3'](),_0x32d687=_0x21400f['heading'],_0xdd7b5c=_0x21400f['pitch'];Cesium['Cartesian3']['clone'](_0x21400f['position'],_0x21a01b);let _0x512330=_0x40a5ca['useLogDepth'],_0x421940=this['scene']['farToNearRatio'];this['cameraDepthBuffer']['isUpdate']=!![],this['cameraDepthBuffer']['beginFunc']=_0x14d877=>{_0x14d877['useLogDepth']=![],_0xfb16e8=_0x21400f['frustum']['aspectRatio'],_0x57414a=_0x21400f['frustum']['fov'],_0x5aa352=_0x21400f['frustum']['near'],_0x2742b3=_0x21400f['frustum']['far'],_0x32d687=_0x21400f['heading'],_0xdd7b5c=_0x21400f['pitch'],Cesium['Cartesian3']['clone'](_0x21400f['position'],_0x21a01b),_0x21400f['frustum']['aspectRatio']=_0x98242d,_0x21400f['frustum']['fov']=_0x434d13,_0x21400f['frustum']['near']=0x1,_0x21400f['frustum']['far']=_0x3a5aa8+0x1,_0x21400f['setView']({'destination':_0x3352bc,'orientation':{'heading':_0x36c8b8,'pitch':_0x4c8448,'roll':_0x21400f['roll']}});const _0x4de0c2=this['scene']['_primitives']['_primitives'];for(let _0x957451=0x0;_0x957451<_0x4de0c2['length'];++_0x957451){const _0x2d5c03=_0x4de0c2[_0x957451];!Cesium['defined'](_0x2d5c03['fileType'])&&(_0x2d5c03['preShow']=_0x2d5c03['show'],_0x2d5c03['show']=![]);}Cesium['Matrix4']['multiply'](_0x21400f['frustum']['projectionMatrix'],_0x21400f['viewMatrix'],this['viewProjectionMatrix']),Cesium['Matrix4']['clone'](_0x21400f['inverseViewMatrix'],this['invViewMatrix']),Cesium['Cartesian3']['clone'](Cesium['Cartesian3']['ZERO'],this['boundingSphere']['center']),this['boundingSphere']['radius']=this['_distance'],Cesium['BoundingSphere']['transform'](this['boundingSphere'],this['invViewMatrix'],this['boundingSphere']);},this['cameraDepthBuffer']['endFunc']=_0x3537f2=>{_0x21400f['setView']({'destination':_0x21a01b,'orientation':{'heading':_0x32d687,'pitch':_0xdd7b5c,'roll':_0x21400f['roll']},'convert':![]}),_0x21400f['frustum']['aspectRatio']=_0xfb16e8,_0x21400f['frustum']['fov']=_0x57414a,_0x21400f['frustum']['near']=_0x5aa352,_0x21400f['frustum']['far']=_0x2742b3;const _0x3fc963=this['scene']['_primitives']['_primitives'];for(let _0x565029=0x0;_0x565029<_0x3fc963['length'];++_0x565029){const _0x42640e=_0x3fc963[_0x565029];!Cesium['defined'](_0x42640e['fileType'])&&(_0x42640e['show']=_0x42640e['preShow']);}this['cameraDepthBuffer']['isUpdate']=![],_0x3537f2['useLogDepth']=_0x512330;},this['globalDepthBuffer']['isUpdate']=!![],this['globalDepthBuffer']['beginFunc']=_0x93b055=>{_0x93b055['useLogDepth']=![],_0x21400f['frustum']['near']=0xa,this['scene']['farToNearRatio']=this['scene']['logarithmicDepthFarToNearRatio'];},this['globalDepthBuffer']['endFunc']=_0x5e3488=>{if(this['scene']['view']['frustumCommandsList']['length']>0x0){let _0x194900=this['scene']['view']['frustumCommandsList'][0x0];_0x21400f['frustum']['near']=_0x194900['near'],_0x21400f['frustum']['far']=_0x194900['far'];}let _0x357504=Cesium['Matrix4']['inverse'](_0x21400f['frustum']['projectionMatrix'],new Cesium['Matrix4']()),_0x3f01c3=Cesium['Matrix4']['multiply'](_0x21400f['inverseViewMatrix'],_0x357504,new Cesium['Matrix4']());Cesium['Matrix4']['multiply'](this['viewProjectionMatrix'],_0x3f01c3,this['renderTextureMatrix']),_0x5e3488['useLogDepth']=_0x512330,this['scene']['farToNearRatio']=_0x421940,_0x21400f['frustum']['near']=_0x5aa352,_0x21400f['frustum']['far']=_0x2742b3;};};function _0x11d1e0(_0x45cbb0){const _0x5abcca=_0x45cbb0['segmentCount'],_0x33b152=_0x45cbb0['segmentCount']+0x1,_0x376dff=_0x45cbb0['_distance'];let _0x2e2526=_0x33b152*_0x33b152+0x1,_0x33abc3=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['FLOAT'],_0x2e2526*0x3),_0x39e7cf=_0x45cbb0['_horizontalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x5640ab=_0x45cbb0['_verticalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x5ca144=Math['tan'](_0x39e7cf*0.5),_0x19aa84=Math['tan'](_0x5640ab*0.5),_0x1b45c0=Math['PI']-_0x39e7cf*0.5,_0x3419d7=_0x376dff*_0x5ca144,_0x128a43=_0x376dff*_0x19aa84,_0x5aa873=0x0,_0x47f6d1=0x0,_0x321ab8=_0x39e7cf/_0x5abcca,_0x36eb32=0x3;for(let _0x210d78=0x0;_0x210d78<_0x33b152;_0x210d78++){_0x5aa873=_0x1b45c0+_0x210d78*_0x321ab8;let _0x51afb3=_0x128a43/(_0x376dff/Math['cos'](_0x5aa873)),_0x1e140c=Math['atan'](_0x51afb3),_0x452fee=-_0x1e140c,_0x20e1d6=_0x1e140c*0x2/_0x5abcca;for(let _0x21bac2=0x0;_0x21bac2<_0x33b152;_0x21bac2++){_0x47f6d1=_0x452fee+_0x21bac2*_0x20e1d6;let _0x8d3d83=_0x376dff*Math['cos'](_0x47f6d1)*Math['sin'](_0x5aa873),_0x215a7b=_0x376dff*Math['sin'](_0x47f6d1),_0x29bd2c=_0x376dff*Math['cos'](_0x47f6d1)*Math['cos'](_0x5aa873);_0x33abc3[_0x36eb32++]=_0x8d3d83,_0x33abc3[_0x36eb32++]=_0x215a7b,_0x33abc3[_0x36eb32++]=_0x29bd2c;}}return _0x33abc3;}function _0x5eb059(_0x7d6ad9){const _0x47f8fc=_0x7d6ad9['segmentCount'],_0x5efa4f=_0x47f8fc+0x1;let _0x2b5688=_0x47f8fc*_0x47f8fc*0x3*0x2+_0x47f8fc*0x3*0x4,_0x50964f=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_SHORT'],_0x2b5688),_0xed3e96=0x0,_0x48fa8f=0x1;for(let _0x1b0393=0x0;_0x1b0393<_0x47f8fc;_0x1b0393++){for(let _0x2c29af=0x0;_0x2c29af<_0x47f8fc;_0x2c29af++){_0x50964f[_0xed3e96++]=_0x48fa8f+_0x1b0393+_0x2c29af*_0x5efa4f,_0x50964f[_0xed3e96++]=_0x48fa8f+_0x1b0393+0x1+_0x2c29af*_0x5efa4f,_0x50964f[_0xed3e96++]=_0x48fa8f+_0x1b0393+(_0x2c29af+0x1)*_0x5efa4f,_0x50964f[_0xed3e96++]=_0x48fa8f+_0x1b0393+0x1+_0x2c29af*_0x5efa4f,_0x50964f[_0xed3e96++]=_0x48fa8f+_0x1b0393+0x1+(_0x2c29af+0x1)*_0x5efa4f,_0x50964f[_0xed3e96++]=_0x48fa8f+_0x1b0393+(_0x2c29af+0x1)*_0x5efa4f;}}for(let _0x38eb38=0x0;_0x38eb38<_0x47f8fc;_0x38eb38++){_0x50964f[_0xed3e96++]=_0x38eb38+0x1+_0x48fa8f,_0x50964f[_0xed3e96++]=_0x38eb38+_0x48fa8f,_0x50964f[_0xed3e96++]=0x0,_0x50964f[_0xed3e96++]=0x0,_0x50964f[_0xed3e96++]=_0x38eb38+_0x47f8fc*_0x5efa4f+_0x48fa8f,_0x50964f[_0xed3e96++]=_0x38eb38+0x1+_0x47f8fc*_0x5efa4f+_0x48fa8f;}for(let _0x42ed82=0x0;_0x42ed82<_0x47f8fc;_0x42ed82++){_0x50964f[_0xed3e96++]=0x0,_0x50964f[_0xed3e96++]=_0x42ed82*_0x5efa4f+_0x48fa8f,_0x50964f[_0xed3e96++]=(_0x42ed82+0x1)*_0x5efa4f+_0x48fa8f,_0x50964f[_0xed3e96++]=_0x47f8fc+(_0x42ed82+0x1)*_0x5efa4f+_0x48fa8f,_0x50964f[_0xed3e96++]=_0x47f8fc+_0x42ed82*_0x5efa4f+_0x48fa8f,_0x50964f[_0xed3e96++]=0x0;}return _0x50964f;}function _0x169232(_0x19fee6){const _0x2e95ea=_0x19fee6['segmentCount'],_0x1e4d19=_0x2e95ea+0x1,_0x116d89=(0x4+_0x2e95ea*0x5+_0x2e95ea*0x2*0x3)*0x2;let _0x5d6d49=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_SHORT'],_0x116d89),_0x391eba=0x0;_0x5d6d49[_0x391eba++]=0x0,_0x5d6d49[_0x391eba++]=0x1,_0x5d6d49[_0x391eba++]=0x0,_0x5d6d49[_0x391eba++]=_0x1e4d19,_0x5d6d49[_0x391eba++]=0x0,_0x5d6d49[_0x391eba++]=_0x2e95ea*_0x1e4d19+0x1,_0x5d6d49[_0x391eba++]=0x0,_0x5d6d49[_0x391eba++]=_0x1e4d19*_0x1e4d19;for(let _0x4d883c=0x0;_0x4d883c<0x5;_0x4d883c++){for(let _0x26e48d=0x0;_0x26e48d<_0x2e95ea;_0x26e48d++){_0x5d6d49[_0x391eba++]=0x1+_0x26e48d+_0x1e4d19*0x5*_0x4d883c,_0x5d6d49[_0x391eba++]=0x1+(_0x26e48d+0x1)+_0x1e4d19*0x5*_0x4d883c;}}for(let _0xf99799=0x0;_0xf99799<0x5;_0xf99799++){for(let _0x53c008=0x0;_0x53c008<_0x2e95ea;_0x53c008++){_0x5d6d49[_0x391eba++]=0x1+_0x1e4d19*_0x53c008+_0xf99799*0x5,_0x5d6d49[_0x391eba++]=0x1+_0x1e4d19*(_0x53c008+0x1)+_0xf99799*0x5;}}return _0x5d6d49;}_0x3fcebd['prototype']['_createCommand']=function(_0x574660){let _0x338a0f=_0x11d1e0(this),_0x5395f6=_0x5eb059(this),_0x6a860=_0x169232(this),_0x2a4d98=_0x574660['context'],_0x431b4d=Cesium['Buffer']['createVertexBuffer']({'context':_0x2a4d98,'typedArray':_0x338a0f,'usage':Cesium['BufferUsage']['STATIC_DRAW']}),_0x59903f=Cesium['Buffer']['createIndexBuffer']({'context':_0x2a4d98,'typedArray':_0x5395f6,'usage':Cesium['BufferUsage']['STATIC_DRAW'],'indexDatatype':Cesium['IndexDatatype']['UNSIGNED_SHORT']}),_0x4ba6a0=[{'index':0x0,'vertexBuffer':_0x431b4d,'componentsPerAttribute':0x3,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x3*0x4,'normalize':![]}],_0x27f9d5={'aPosition':0x0},_0xc72920=new Cesium['VertexArray']({'context':_0x2a4d98,'attributes':_0x4ba6a0,'indexBuffer':_0x59903f}),_0x276af0=new Cesium['ShaderSource']({'sources':[_0x3fecfd]}),_0x338be3=new Cesium['ShaderSource']({'sources':[_0x3ae186]}),_0x4813bd=Cesium['ShaderProgram']['fromCache']({'context':_0x2a4d98,'vertexShaderSource':_0x276af0,'fragmentShaderSource':_0x338be3,'attributeLocations':_0x27f9d5}),_0x37ac31=Cesium['RenderState']['fromCache']({'cull':{'enabled':![]},'depthTest':{'enabled':![]},'depthMask':![],'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction']['NOT_EQUAL'],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'backFunction':Cesium['StencilFunction']['NOT_EQUAL'],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'reference':0x0,'mask':~0x0},'blending':Cesium['BlendingState']['ALPHA_BLEND']});this['colorCommand']=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['TRIANGLES'],'modelMatrix':this['invViewMatrix'],'boundingVolume':this['boundingSphere'],'pass':Cesium['Pass']['OPAQUE'],'shaderProgram':_0x4813bd,'vertexArray':_0xc72920,'renderState':_0x37ac31,'owner':this,'cull':!![]}),this['colorCommand']['uniformMap']={'uVisibleAreaColor':()=>{return this['_visibleAreaColor'];},'uHiddenAreaColor':()=>{return this['_hiddenAreaColor'];},'uRenderTextureMatrix':()=>{return this['renderTextureMatrix'];},'uTextureSize':()=>{let _0x4271be=this['cameraDepthBuffer']['depthTexture'];return new Cesium['Cartesian2'](_0x4271be['width'],_0x4271be['height']);},'uTexture':()=>{return this['cameraDepthBuffer']['depthTexture'];},'uGlobalDepthTexture':()=>{return this['globalDepthBuffer']['depthTexture'];}};let _0x31d62a=Cesium['DrawCommand']['shallowClone'](this['colorCommand']);_0x31d62a['renderState']=Cesium['RenderState']['fromCache']({'depthMask':![],'colorMask':{'red':![],'green':![],'blue':![],'alpha':![]},'depthTest':{'enabled':!![],'func':Cesium['DepthFunction']['GREATER']},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction']['ALWAYS'],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['INCREMENT_WRAP']},'backFunction':Cesium['StencilFunction']['ALWAYS'],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'reference':0x0,'mask':~0x0}}),this['stencilCommand']=_0x31d62a;let _0x88f37e=Cesium['Buffer']['createIndexBuffer']({'context':_0x2a4d98,'typedArray':_0x6a860,'usage':Cesium['BufferUsage']['STATIC_DRAW'],'indexDatatype':Cesium['IndexDatatype']['UNSIGNED_SHORT']});this['lineCommand']=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['LINES'],'modelMatrix':this['invViewMatrix'],'boundingVolume':this['boundingSphere'],'pass':Cesium['Pass']['OPAQUE'],'owner':this,'cull':!![]}),this['lineCommand']['vertexArray']=new Cesium['VertexArray']({'context':_0x2a4d98,'attributes':_0x4ba6a0,'indexBuffer':_0x88f37e}),this['lineCommand']['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0x2a4d98,'vertexShaderSource':_0x656d2d,'fragmentShaderSource':_0x421562,'attributeLocations':_0x27f9d5}),this['lineCommand']['renderState']=Cesium['RenderState']['fromCache']({'cull':{'enabled':![]},'depthTest':{'enabled':!![]},'blending':Cesium['BlendingState']['ALPHA_BLEND']}),this['lineCommand']['uniformMap']={'uColor':()=>{return this['_hintLineColor'];}};},_0x3fcebd['prototype']['setDistDirByPoint']=function(_0x59efbd){let _0x407682=this['scene']['camera'],_0x2575c8=_0x407682['_projection'],_0x5ebad5=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x59efbd)[0x0],_0x13063c=Cesium['Cartesian3']['fromDegreesArrayHeights'](this['_viewPosition'])[0x0],_0x19a354=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0x5ebad5,_0x13063c,_0x19a354);let _0x512051=Cesium['Cartesian3']['magnitude'](_0x19a354);Cesium['Cartesian3']['normalize'](_0x19a354,_0x19a354),this['distance']=_0x512051;let _0x46fdf7=_0x407682['heading'],_0x35c7d7=_0x407682['pitch'],_0x2b0990=_0x407682['roll'],_0x3475d8=new Cesium['Cartesian3']();Cesium['Cartesian3']['clone'](_0x407682['position'],_0x3475d8);let _0x5409e9=_0x19a354['clone'](),_0x65e310=_0x13063c['clone']();_0x65e310=Cesium['Cartesian3']['normalize'](_0x65e310,_0x65e310);Math['abs'](Cesium['Cartesian3']['dot'](_0x65e310,_0x5409e9))>=0x1&&(Math['abs'](Cesium['Cartesian3']['dot'](_0x5409e9,Cesium['Cartesian3']['UNIT_Y']))<0x1?_0x65e310=Cesium['Cartesian3']['clone'](Cartesian3['UNIT_Y'],_0x65e310):_0x65e310=Cesium['Cartesian3']['clone'](Cartesian3['UNIT_Z'],_0x65e310));let _0x1caf9a=new Cesium['Cartesian3']();Cesium['Cartesian3']['cross'](_0x65e310,_0x5409e9,_0x1caf9a),_0x1caf9a=Cesium['Cartesian3']['normalize'](_0x1caf9a,_0x1caf9a),Cesium['Cartesian3']['cross'](_0x5409e9,_0x1caf9a,_0x65e310),_0x65e310=Cesium['Cartesian3']['normalize'](_0x65e310,_0x65e310),_0x407682['setView']({'destination':_0x13063c,'orientation':{'direction':_0x5409e9,'up':_0x65e310},'convert':![]}),this['direction']=_0x407682['heading']*Cesium['Math']['DEGREES_PER_RADIAN'],this['pitch']=_0x407682['pitch']*Cesium['Math']['DEGREES_PER_RADIAN'],_0x407682['setView']({'destination':_0x3475d8,'orientation':{'heading':_0x46fdf7,'pitch':_0x35c7d7,'roll':_0x2b0990},'convert':![]});},_0x3fcebd['prototype']['_destroyCommand']=function(){this['colorCommand']&&(this['colorCommand']['vertexArray']=this['colorCommand']['vertexArray']&&!this['colorCommand']['vertexArray']['isDestroyed']()&&this['colorCommand']['vertexArray']['destroy'](),this['colorCommand']['shaderProgram']=this['colorCommand']['shaderProgram']&&!this['colorCommand']['shaderProgram']['isDestroyed']()&&this['colorCommand']['shaderProgram']['destroy'](),this['colorCommand']=undefined),this['stencilCommand']&&(this['stencilCommand']['vertexArray']=this['stencilCommand']['vertexArray']&&!this['stencilCommand']['vertexArray']['isDestroyed']()&&this['stencilCommand']['vertexArray']['destroy'](),this['stencilCommand']['shaderProgram']=this['stencilCommand']['shaderProgram']&&!this['stencilCommand']['shaderProgram']['isDestroyed']()&&this['stencilCommand']['shaderProgram']['destroy'](),this['stencilCommand']=undefined),this['lineCommand']&&(this['lineCommand']['vertexArray']=this['lineCommand']['vertexArray']&&!this['lineCommand']['vertexArray']['isDestroyed']()&&this['lineCommand']['vertexArray']['destroy'](),this['lineCommand']['shaderProgram']=this['lineCommand']['shaderProgram']&&!this['lineCommand']['shaderProgram']['isDestroyed']()&&this['lineCommand']['shaderProgram']['destroy'](),this['lineCommand']=undefined);},_0x3fcebd['prototype']['update']=function(_0x5de53e){if(_0x5de53e['fbo']||_0x5de53e['passes']['pick']||_0x5de53e['passes']['depth'])return;this['dirty']&&(this['dirty']=![],this['_destroyCommand'](),this['_updateCamera'](_0x5de53e),this['_createCommand'](_0x5de53e)),this['stencilCommand']&&_0x5de53e['commandList']['push'](this['stencilCommand']),this['colorCommand']&&_0x5de53e['commandList']['push'](this['colorCommand']),this['lineCommand']&&_0x5de53e['commandList']['push'](this['lineCommand']);},_0x3fcebd['prototype']['build']=function(){if(this['isBuild'])return;this['isBuild']=!![],this['scene']['primitives']['add'](this),this['removeListenerFunc']=this['scene']['preUpdate']['addEventListener']((_0x3cadd8,_0x953183)=>{this['cameraDepthBuffer']['renderToTexture'](_0x3cadd8),this['globalDepthBuffer']['renderToTexture'](_0x3cadd8);},this);},_0x3fcebd['prototype']['clear']=function(){if(!this['isBuild'])return;this['isBuild']=![],this['removeListenerFunc'](),this['scene']['primitives']['remove'](this);},_0x3fcebd['prototype']['isDestroyed']=function(){return![];},_0x3fcebd['prototype']['destroy']=function(){this['cameraDepthBuffer']=this['cameraDepthBuffer']['destroy'](),this['globalDepthBuffer']=this['globalDepthBuffer']['destroy']();if(this['colorCommand']){let _0x2964e6=this['colorCommand']['vertexArray'],_0x110b16=this['colorCommand']['shaderProgram'];_0x2964e6=_0x2964e6&&!_0x2964e6['isDestroyed']()&&_0x2964e6['destroy'](),_0x110b16=_0x110b16&&!_0x110b16['isDestroyed']()&&_0x110b16['destroy'](),this['colorCommand']=undefined;}if(this['stencilCommand']){let _0x5fa9f=this['stencilCommand']['vertexArray'],_0x54473d=this['stencilCommand']['shaderProgram'];_0x5fa9f=_0x5fa9f&&!_0x5fa9f['isDestroyed']()&&_0x5fa9f['destroy'](),_0x54473d=_0x54473d&&!_0x54473d['isDestroyed']()&&_0x54473d['destroy'](),this['stencilCommand']=undefined;}if(this['lineCommand']){let _0x597a22=this['lineCommand']['vertexArray'],_0x28023b=this['lineCommand']['shaderProgram'];_0x597a22=_0x597a22&&!_0x597a22['isDestroyed']()&&_0x597a22['destroy'](),_0x28023b=_0x28023b&&!_0x28023b['isDestroyed']()&&_0x28023b['destroy'](),this['lineCommand']=undefined;}};export default _0x3fcebd;