const _0x4137dc=(function(){let _0x1e90c3=!![];return function(_0x14ccc8,_0x7f5c78){const _0x494e58=_0x1e90c3?function(){if(_0x7f5c78){const _0xca92be=_0x7f5c78['apply'](_0x14ccc8,arguments);return _0x7f5c78=null,_0xca92be;}}:function(){};return _0x1e90c3=![],_0x494e58;};}()),_0x4990e4=_0x4137dc(this,function(){return _0x4990e4['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x4990e4)['search']('(((.+)+)+)+$');});_0x4990e4();import _0x33177c from'./DepthFramebuffer.js';import _0x180823 from'./Shaders/ViewShedAnalysisVS.js';import _0x57c8f4 from'./Shaders/ViewShedAnalysisFS.js';import _0x2bd944 from'./Shaders/NoLightNoTextureVS.js';import _0x3b260f from'./Shaders/NoLightNoTextureFS.js';function _0x348cc4(_0x6b7e3e){this['scene']=_0x6b7e3e,this['cameraDepthBuffer']=new _0x33177c(_0x6b7e3e['_context']),this['globalDepthBuffer']=new _0x33177c(_0x6b7e3e['_context']),this['segmentCount']=0x14,this['_viewPosition']=[0x0,0x0,0x0],this['_direction']=0x0,this['_pitch']=0x0,this['_horizontalFov']=0x5a,this['_verticalFov']=0x3c,this['_distance']=0x64,this['_visibleAreaColor']=new Cesium['Color'](0x0,0x1,0x0,0.5),this['_hiddenAreaColor']=new Cesium['Color'](0x1,0x0,0x0,0.5),this['_hintLineColor']=new Cesium['Color'](0x1,0x1,0x1,0x1),this['boundingSphere']=new Cesium['BoundingSphere'](),this['viewProjectionMatrix']=new Cesium['Matrix4'](),this['invViewMatrix']=new Cesium['Matrix4'](),this['renderTextureMatrix']=new Cesium['Matrix4'](),this['colorCommand']=undefined,this['stencilCommand']=undefined,this['lineCommand']=undefined,this['dirty']=![],this['isBuild']=![];}Object['defineProperties'](_0x348cc4['prototype'],{'viewPosition':{'get':function(){return this['_viewPosition'];},'set':function(_0x5a8354){this['_viewPosition']=_0x5a8354;}},'direction':{'get':function(){return this['_direction'];},'set':function(_0x118147){this['_direction']=_0x118147,this['dirty']=!![];}},'pitch':{'get':function(){return this['_pitch'];},'set':function(_0x4aba7d){this['_pitch']=_0x4aba7d,this['dirty']=!![];}},'horizontalFov':{'get':function(){return this['_horizontalFov'];},'set':function(_0x29ec1e){this['_horizontalFov']=_0x29ec1e,this['dirty']=!![];}},'verticalFov':{'get':function(){return this['_verticalFov'];},'set':function(_0x32ff82){this['_verticalFov']=_0x32ff82,this['dirty']=!![];}},'distance':{'get':function(){return this['_distance'];},'set':function(_0xe3a78b){this['_distance']=Math['max'](_0xe3a78b,0x0),this['dirty']=!![];}}}),_0x348cc4['prototype']['_updateCamera']=function(_0x14f70d){let _0x24cc1c=_0x14f70d['camera'],_0x16c92e=this['_horizontalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0xe7b1b8=this['_verticalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x5cae9c=Math['tan'](_0x16c92e*0.5),_0x183af7=Math['tan'](_0xe7b1b8*0.5),_0x29ad76=_0x5cae9c/_0x183af7,_0x31e2d2=this['_distance']*0.001,_0x3553dc=Math['max'](this['_distance'],0xa),_0xb42038=this['_direction']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x1c9b1e=this['_pitch']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x3b1099=Cesium['Cartesian3']['fromDegreesArrayHeights'](this['_viewPosition'])[0x0],_0x1baabf=_0x24cc1c['frustum']['aspectRatio'],_0x5f51f4=_0x24cc1c['frustum']['fov'],_0xfd4cec=_0x24cc1c['frustum']['near'],_0x210dc4=_0x24cc1c['frustum']['far'],_0x5e5f0d=new Cesium['Cartesian3'](),_0x4b5c7f=_0x24cc1c['heading'],_0xec8581=_0x24cc1c['pitch'];Cesium['Cartesian3']['clone'](_0x24cc1c['position'],_0x5e5f0d);let _0x3115f6=_0x14f70d['useLogDepth'],_0x3ceb65=this['scene']['farToNearRatio'];this['cameraDepthBuffer']['isUpdate']=!![],this['cameraDepthBuffer']['beginFunc']=_0x19dcfc=>{_0x19dcfc['useLogDepth']=![],_0x1baabf=_0x24cc1c['frustum']['aspectRatio'],_0x5f51f4=_0x24cc1c['frustum']['fov'],_0xfd4cec=_0x24cc1c['frustum']['near'],_0x210dc4=_0x24cc1c['frustum']['far'],_0x4b5c7f=_0x24cc1c['heading'],_0xec8581=_0x24cc1c['pitch'],Cesium['Cartesian3']['clone'](_0x24cc1c['position'],_0x5e5f0d),_0x24cc1c['frustum']['aspectRatio']=_0x29ad76,_0x24cc1c['frustum']['fov']=_0x16c92e,_0x24cc1c['frustum']['near']=0x1,_0x24cc1c['frustum']['far']=_0x3553dc+0x1,_0x24cc1c['setView']({'destination':_0x3b1099,'orientation':{'heading':_0xb42038,'pitch':_0x1c9b1e,'roll':_0x24cc1c['roll']}});const _0x548fea=this['scene']['_primitives']['_primitives'];for(let _0x263267=0x0;_0x263267<_0x548fea['length'];++_0x263267){const _0x2feae9=_0x548fea[_0x263267];!Cesium['defined'](_0x2feae9['fileType'])&&(_0x2feae9['preShow']=_0x2feae9['show'],_0x2feae9['show']=![]);}Cesium['Matrix4']['multiply'](_0x24cc1c['frustum']['projectionMatrix'],_0x24cc1c['viewMatrix'],this['viewProjectionMatrix']),Cesium['Matrix4']['clone'](_0x24cc1c['inverseViewMatrix'],this['invViewMatrix']),Cesium['Cartesian3']['clone'](Cesium['Cartesian3']['ZERO'],this['boundingSphere']['center']),this['boundingSphere']['radius']=this['_distance'],Cesium['BoundingSphere']['transform'](this['boundingSphere'],this['invViewMatrix'],this['boundingSphere']);},this['cameraDepthBuffer']['endFunc']=_0x4e082d=>{_0x24cc1c['setView']({'destination':_0x5e5f0d,'orientation':{'heading':_0x4b5c7f,'pitch':_0xec8581,'roll':_0x24cc1c['roll']},'convert':![]}),_0x24cc1c['frustum']['aspectRatio']=_0x1baabf,_0x24cc1c['frustum']['fov']=_0x5f51f4,_0x24cc1c['frustum']['near']=_0xfd4cec,_0x24cc1c['frustum']['far']=_0x210dc4;const _0x4e4773=this['scene']['_primitives']['_primitives'];for(let _0x8ebe34=0x0;_0x8ebe34<_0x4e4773['length'];++_0x8ebe34){const _0xf32fea=_0x4e4773[_0x8ebe34];!Cesium['defined'](_0xf32fea['fileType'])&&(_0xf32fea['show']=_0xf32fea['preShow']);}this['cameraDepthBuffer']['isUpdate']=![],_0x4e082d['useLogDepth']=_0x3115f6;},this['globalDepthBuffer']['isUpdate']=!![],this['globalDepthBuffer']['beginFunc']=_0x27f0b1=>{_0x27f0b1['useLogDepth']=![],_0x24cc1c['frustum']['near']=0xa,this['scene']['farToNearRatio']=this['scene']['logarithmicDepthFarToNearRatio'];},this['globalDepthBuffer']['endFunc']=_0x294c64=>{if(this['scene']['view']['frustumCommandsList']['length']>0x0){let _0x307be1=this['scene']['view']['frustumCommandsList'][0x0];_0x24cc1c['frustum']['near']=_0x307be1['near'],_0x24cc1c['frustum']['far']=_0x307be1['far'];}let _0x387e89=Cesium['Matrix4']['inverse'](_0x24cc1c['frustum']['projectionMatrix'],new Cesium['Matrix4']()),_0x1d9ef4=Cesium['Matrix4']['multiply'](_0x24cc1c['inverseViewMatrix'],_0x387e89,new Cesium['Matrix4']());Cesium['Matrix4']['multiply'](this['viewProjectionMatrix'],_0x1d9ef4,this['renderTextureMatrix']),_0x294c64['useLogDepth']=_0x3115f6,this['scene']['farToNearRatio']=_0x3ceb65,_0x24cc1c['frustum']['near']=_0xfd4cec,_0x24cc1c['frustum']['far']=_0x210dc4;};};function _0x1a16bd(_0x1afe51){const _0x7a0a37=_0x1afe51['segmentCount'],_0x5e3f87=_0x1afe51['segmentCount']+0x1,_0x5c8481=_0x1afe51['_distance'];let _0x552426=_0x5e3f87*_0x5e3f87+0x1,_0x55b597=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['FLOAT'],_0x552426*0x3),_0x2678f0=_0x1afe51['_horizontalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x5c6799=_0x1afe51['_verticalFov']*Cesium['Math']['RADIANS_PER_DEGREE'],_0x4a2331=Math['tan'](_0x2678f0*0.5),_0x570d8a=Math['tan'](_0x5c6799*0.5),_0x23a9aa=Math['PI']-_0x2678f0*0.5,_0x4a0e16=_0x5c8481*_0x4a2331,_0x12a669=_0x5c8481*_0x570d8a,_0xeae489=0x0,_0x36ed89=0x0,_0x5a65c7=_0x2678f0/_0x7a0a37,_0x33b8aa=0x3;for(let _0x5edc08=0x0;_0x5edc08<_0x5e3f87;_0x5edc08++){_0xeae489=_0x23a9aa+_0x5edc08*_0x5a65c7;let _0x14e820=_0x12a669/(_0x5c8481/Math['cos'](_0xeae489)),_0x429cce=Math['atan'](_0x14e820),_0x597c37=-_0x429cce,_0x452936=_0x429cce*0x2/_0x7a0a37;for(let _0x2e60d1=0x0;_0x2e60d1<_0x5e3f87;_0x2e60d1++){_0x36ed89=_0x597c37+_0x2e60d1*_0x452936;let _0x48e1d6=_0x5c8481*Math['cos'](_0x36ed89)*Math['sin'](_0xeae489),_0x3c7c81=_0x5c8481*Math['sin'](_0x36ed89),_0x240637=_0x5c8481*Math['cos'](_0x36ed89)*Math['cos'](_0xeae489);_0x55b597[_0x33b8aa++]=_0x48e1d6,_0x55b597[_0x33b8aa++]=_0x3c7c81,_0x55b597[_0x33b8aa++]=_0x240637;}}return _0x55b597;}function _0x3333a3(_0x10a60d){const _0x362578=_0x10a60d['segmentCount'],_0x5adad9=_0x362578+0x1;let _0x3d2b4b=_0x362578*_0x362578*0x3*0x2+_0x362578*0x3*0x4,_0x3b7bca=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_SHORT'],_0x3d2b4b),_0x5a52b9=0x0,_0x4f21e5=0x1;for(let _0x248186=0x0;_0x248186<_0x362578;_0x248186++){for(let _0x2a856c=0x0;_0x2a856c<_0x362578;_0x2a856c++){_0x3b7bca[_0x5a52b9++]=_0x4f21e5+_0x248186+_0x2a856c*_0x5adad9,_0x3b7bca[_0x5a52b9++]=_0x4f21e5+_0x248186+0x1+_0x2a856c*_0x5adad9,_0x3b7bca[_0x5a52b9++]=_0x4f21e5+_0x248186+(_0x2a856c+0x1)*_0x5adad9,_0x3b7bca[_0x5a52b9++]=_0x4f21e5+_0x248186+0x1+_0x2a856c*_0x5adad9,_0x3b7bca[_0x5a52b9++]=_0x4f21e5+_0x248186+0x1+(_0x2a856c+0x1)*_0x5adad9,_0x3b7bca[_0x5a52b9++]=_0x4f21e5+_0x248186+(_0x2a856c+0x1)*_0x5adad9;}}for(let _0x1a5200=0x0;_0x1a5200<_0x362578;_0x1a5200++){_0x3b7bca[_0x5a52b9++]=_0x1a5200+0x1+_0x4f21e5,_0x3b7bca[_0x5a52b9++]=_0x1a5200+_0x4f21e5,_0x3b7bca[_0x5a52b9++]=0x0,_0x3b7bca[_0x5a52b9++]=0x0,_0x3b7bca[_0x5a52b9++]=_0x1a5200+_0x362578*_0x5adad9+_0x4f21e5,_0x3b7bca[_0x5a52b9++]=_0x1a5200+0x1+_0x362578*_0x5adad9+_0x4f21e5;}for(let _0xd1b05c=0x0;_0xd1b05c<_0x362578;_0xd1b05c++){_0x3b7bca[_0x5a52b9++]=0x0,_0x3b7bca[_0x5a52b9++]=_0xd1b05c*_0x5adad9+_0x4f21e5,_0x3b7bca[_0x5a52b9++]=(_0xd1b05c+0x1)*_0x5adad9+_0x4f21e5,_0x3b7bca[_0x5a52b9++]=_0x362578+(_0xd1b05c+0x1)*_0x5adad9+_0x4f21e5,_0x3b7bca[_0x5a52b9++]=_0x362578+_0xd1b05c*_0x5adad9+_0x4f21e5,_0x3b7bca[_0x5a52b9++]=0x0;}return _0x3b7bca;}function _0xe8d1ff(_0x56ca69){const _0x959619=_0x56ca69['segmentCount'],_0x23195c=_0x959619+0x1,_0xfa3289=(0x4+_0x959619*0x5+_0x959619*0x2*0x3)*0x2;let _0x2b28f3=Cesium['ComponentDatatype']['createTypedArray'](Cesium['ComponentDatatype']['UNSIGNED_SHORT'],_0xfa3289),_0x41f63d=0x0;_0x2b28f3[_0x41f63d++]=0x0,_0x2b28f3[_0x41f63d++]=0x1,_0x2b28f3[_0x41f63d++]=0x0,_0x2b28f3[_0x41f63d++]=_0x23195c,_0x2b28f3[_0x41f63d++]=0x0,_0x2b28f3[_0x41f63d++]=_0x959619*_0x23195c+0x1,_0x2b28f3[_0x41f63d++]=0x0,_0x2b28f3[_0x41f63d++]=_0x23195c*_0x23195c;for(let _0x1fce9a=0x0;_0x1fce9a<0x5;_0x1fce9a++){for(let _0x4b1df8=0x0;_0x4b1df8<_0x959619;_0x4b1df8++){_0x2b28f3[_0x41f63d++]=0x1+_0x4b1df8+_0x23195c*0x5*_0x1fce9a,_0x2b28f3[_0x41f63d++]=0x1+(_0x4b1df8+0x1)+_0x23195c*0x5*_0x1fce9a;}}for(let _0x6c1570=0x0;_0x6c1570<0x5;_0x6c1570++){for(let _0x402d94=0x0;_0x402d94<_0x959619;_0x402d94++){_0x2b28f3[_0x41f63d++]=0x1+_0x23195c*_0x402d94+_0x6c1570*0x5,_0x2b28f3[_0x41f63d++]=0x1+_0x23195c*(_0x402d94+0x1)+_0x6c1570*0x5;}}return _0x2b28f3;}_0x348cc4['prototype']['_createCommand']=function(_0x5102c5){let _0x5f0510=_0x1a16bd(this),_0x5237b0=_0x3333a3(this),_0x5362ee=_0xe8d1ff(this),_0x5c6a5b=_0x5102c5['context'],_0x34f059=Cesium['Buffer']['createVertexBuffer']({'context':_0x5c6a5b,'typedArray':_0x5f0510,'usage':Cesium['BufferUsage']['STATIC_DRAW']}),_0x481da3=Cesium['Buffer']['createIndexBuffer']({'context':_0x5c6a5b,'typedArray':_0x5237b0,'usage':Cesium['BufferUsage']['STATIC_DRAW'],'indexDatatype':Cesium['IndexDatatype']['UNSIGNED_SHORT']}),_0x22c940=[{'index':0x0,'vertexBuffer':_0x34f059,'componentsPerAttribute':0x3,'componentDatatype':Cesium['ComponentDatatype']['FLOAT'],'offsetInBytes':0x0,'strideInBytes':0x3*0x4,'normalize':![]}],_0x530a43={'aPosition':0x0},_0x44f46c=new Cesium['VertexArray']({'context':_0x5c6a5b,'attributes':_0x22c940,'indexBuffer':_0x481da3}),_0x7259ed=new Cesium['ShaderSource']({'sources':[_0x180823]}),_0x4fe065=new Cesium['ShaderSource']({'sources':[_0x57c8f4]}),_0x1022af=Cesium['ShaderProgram']['fromCache']({'context':_0x5c6a5b,'vertexShaderSource':_0x7259ed,'fragmentShaderSource':_0x4fe065,'attributeLocations':_0x530a43}),_0x4b076d=Cesium['RenderState']['fromCache']({'cull':{'enabled':![]},'depthTest':{'enabled':![]},'depthMask':![],'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction']['NOT_EQUAL'],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'backFunction':Cesium['StencilFunction']['NOT_EQUAL'],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'reference':0x0,'mask':~0x0},'blending':Cesium['BlendingState']['ALPHA_BLEND']});this['colorCommand']=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['TRIANGLES'],'modelMatrix':this['invViewMatrix'],'boundingVolume':this['boundingSphere'],'pass':Cesium['Pass']['OPAQUE'],'shaderProgram':_0x1022af,'vertexArray':_0x44f46c,'renderState':_0x4b076d,'owner':this,'cull':!![]}),this['colorCommand']['uniformMap']={'uVisibleAreaColor':()=>{return this['_visibleAreaColor'];},'uHiddenAreaColor':()=>{return this['_hiddenAreaColor'];},'uRenderTextureMatrix':()=>{return this['renderTextureMatrix'];},'uTextureSize':()=>{let _0x5776ab=this['cameraDepthBuffer']['depthTexture'];return new Cesium['Cartesian2'](_0x5776ab['width'],_0x5776ab['height']);},'uTexture':()=>{return this['cameraDepthBuffer']['depthTexture'];},'uGlobalDepthTexture':()=>{return this['globalDepthBuffer']['depthTexture'];}};let _0xe7c78b=Cesium['DrawCommand']['shallowClone'](this['colorCommand']);_0xe7c78b['renderState']=Cesium['RenderState']['fromCache']({'depthMask':![],'colorMask':{'red':![],'green':![],'blue':![],'alpha':![]},'depthTest':{'enabled':!![],'func':Cesium['DepthFunction']['GREATER']},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction']['ALWAYS'],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['INCREMENT_WRAP']},'backFunction':Cesium['StencilFunction']['ALWAYS'],'backOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium['StencilOperation']['KEEP'],'zPass':Cesium['StencilOperation']['DECREMENT_WRAP']},'reference':0x0,'mask':~0x0}}),this['stencilCommand']=_0xe7c78b;let _0x12de49=Cesium['Buffer']['createIndexBuffer']({'context':_0x5c6a5b,'typedArray':_0x5362ee,'usage':Cesium['BufferUsage']['STATIC_DRAW'],'indexDatatype':Cesium['IndexDatatype']['UNSIGNED_SHORT']});this['lineCommand']=new Cesium['DrawCommand']({'primitiveType':Cesium['PrimitiveType']['LINES'],'modelMatrix':this['invViewMatrix'],'boundingVolume':this['boundingSphere'],'pass':Cesium['Pass']['OPAQUE'],'owner':this,'cull':!![]}),this['lineCommand']['vertexArray']=new Cesium['VertexArray']({'context':_0x5c6a5b,'attributes':_0x22c940,'indexBuffer':_0x12de49}),this['lineCommand']['shaderProgram']=Cesium['ShaderProgram']['fromCache']({'context':_0x5c6a5b,'vertexShaderSource':_0x2bd944,'fragmentShaderSource':_0x3b260f,'attributeLocations':_0x530a43}),this['lineCommand']['renderState']=Cesium['RenderState']['fromCache']({'cull':{'enabled':![]},'depthTest':{'enabled':!![]},'blending':Cesium['BlendingState']['ALPHA_BLEND']}),this['lineCommand']['uniformMap']={'uColor':()=>{return this['_hintLineColor'];}};},_0x348cc4['prototype']['setDistDirByPoint']=function(_0x5ac300){let _0x23e2ba=this['scene']['camera'],_0x44e9b9=_0x23e2ba['_projection'],_0x15c4e3=Cesium['Cartesian3']['fromDegreesArrayHeights'](_0x5ac300)[0x0],_0x173214=Cesium['Cartesian3']['fromDegreesArrayHeights'](this['_viewPosition'])[0x0],_0x59a09f=new Cesium['Cartesian3']();Cesium['Cartesian3']['subtract'](_0x15c4e3,_0x173214,_0x59a09f);let _0x1b795c=Cesium['Cartesian3']['magnitude'](_0x59a09f);Cesium['Cartesian3']['normalize'](_0x59a09f,_0x59a09f),this['distance']=_0x1b795c;let _0x7ce33f=_0x23e2ba['heading'],_0x5ecd05=_0x23e2ba['pitch'],_0x32525b=_0x23e2ba['roll'],_0x2d77b6=new Cesium['Cartesian3']();Cesium['Cartesian3']['clone'](_0x23e2ba['position'],_0x2d77b6);let _0x3ec8f8=_0x59a09f['clone'](),_0x3b32fb=_0x173214['clone']();_0x3b32fb=Cesium['Cartesian3']['normalize'](_0x3b32fb,_0x3b32fb);Math['abs'](Cesium['Cartesian3']['dot'](_0x3b32fb,_0x3ec8f8))>=0x1&&(Math['abs'](Cesium['Cartesian3']['dot'](_0x3ec8f8,Cesium['Cartesian3']['UNIT_Y']))<0x1?_0x3b32fb=Cesium['Cartesian3']['clone'](Cartesian3['UNIT_Y'],_0x3b32fb):_0x3b32fb=Cesium['Cartesian3']['clone'](Cartesian3['UNIT_Z'],_0x3b32fb));let _0x3dce08=new Cesium['Cartesian3']();Cesium['Cartesian3']['cross'](_0x3b32fb,_0x3ec8f8,_0x3dce08),_0x3dce08=Cesium['Cartesian3']['normalize'](_0x3dce08,_0x3dce08),Cesium['Cartesian3']['cross'](_0x3ec8f8,_0x3dce08,_0x3b32fb),_0x3b32fb=Cesium['Cartesian3']['normalize'](_0x3b32fb,_0x3b32fb),_0x23e2ba['setView']({'destination':_0x173214,'orientation':{'direction':_0x3ec8f8,'up':_0x3b32fb},'convert':![]}),this['direction']=_0x23e2ba['heading']*Cesium['Math']['DEGREES_PER_RADIAN'],this['pitch']=_0x23e2ba['pitch']*Cesium['Math']['DEGREES_PER_RADIAN'],_0x23e2ba['setView']({'destination':_0x2d77b6,'orientation':{'heading':_0x7ce33f,'pitch':_0x5ecd05,'roll':_0x32525b},'convert':![]});},_0x348cc4['prototype']['_destroyCommand']=function(){this['colorCommand']&&(this['colorCommand']['vertexArray']=this['colorCommand']['vertexArray']&&!this['colorCommand']['vertexArray']['isDestroyed']()&&this['colorCommand']['vertexArray']['destroy'](),this['colorCommand']['shaderProgram']=this['colorCommand']['shaderProgram']&&!this['colorCommand']['shaderProgram']['isDestroyed']()&&this['colorCommand']['shaderProgram']['destroy'](),this['colorCommand']=undefined),this['stencilCommand']&&(this['stencilCommand']['vertexArray']=this['stencilCommand']['vertexArray']&&!this['stencilCommand']['vertexArray']['isDestroyed']()&&this['stencilCommand']['vertexArray']['destroy'](),this['stencilCommand']['shaderProgram']=this['stencilCommand']['shaderProgram']&&!this['stencilCommand']['shaderProgram']['isDestroyed']()&&this['stencilCommand']['shaderProgram']['destroy'](),this['stencilCommand']=undefined),this['lineCommand']&&(this['lineCommand']['vertexArray']=this['lineCommand']['vertexArray']&&!this['lineCommand']['vertexArray']['isDestroyed']()&&this['lineCommand']['vertexArray']['destroy'](),this['lineCommand']['shaderProgram']=this['lineCommand']['shaderProgram']&&!this['lineCommand']['shaderProgram']['isDestroyed']()&&this['lineCommand']['shaderProgram']['destroy'](),this['lineCommand']=undefined);},_0x348cc4['prototype']['update']=function(_0x3bd656){if(_0x3bd656['fbo']||_0x3bd656['passes']['pick']||_0x3bd656['passes']['depth'])return;this['dirty']&&(this['dirty']=![],this['_destroyCommand'](),this['_updateCamera'](_0x3bd656),this['_createCommand'](_0x3bd656)),this['stencilCommand']&&_0x3bd656['commandList']['push'](this['stencilCommand']),this['colorCommand']&&_0x3bd656['commandList']['push'](this['colorCommand']),this['lineCommand']&&_0x3bd656['commandList']['push'](this['lineCommand']);},_0x348cc4['prototype']['build']=function(){if(this['isBuild'])return;this['isBuild']=!![],this['scene']['primitives']['add'](this),this['removeListenerFunc']=this['scene']['preUpdate']['addEventListener']((_0x226693,_0x501309)=>{this['cameraDepthBuffer']['renderToTexture'](_0x226693),this['globalDepthBuffer']['renderToTexture'](_0x226693);},this);},_0x348cc4['prototype']['clear']=function(){if(!this['isBuild'])return;this['isBuild']=![],this['removeListenerFunc'](),this['scene']['primitives']['remove'](this);},_0x348cc4['prototype']['isDestroyed']=function(){return![];},_0x348cc4['prototype']['destroy']=function(){this['cameraDepthBuffer']=this['cameraDepthBuffer']['destroy'](),this['globalDepthBuffer']=this['globalDepthBuffer']['destroy']();if(this['colorCommand']){let _0x41c7d2=this['colorCommand']['vertexArray'],_0x5afc14=this['colorCommand']['shaderProgram'];_0x41c7d2=_0x41c7d2&&!_0x41c7d2['isDestroyed']()&&_0x41c7d2['destroy'](),_0x5afc14=_0x5afc14&&!_0x5afc14['isDestroyed']()&&_0x5afc14['destroy'](),this['colorCommand']=undefined;}if(this['stencilCommand']){let _0x3f72a3=this['stencilCommand']['vertexArray'],_0x8becd7=this['stencilCommand']['shaderProgram'];_0x3f72a3=_0x3f72a3&&!_0x3f72a3['isDestroyed']()&&_0x3f72a3['destroy'](),_0x8becd7=_0x8becd7&&!_0x8becd7['isDestroyed']()&&_0x8becd7['destroy'](),this['stencilCommand']=undefined;}if(this['lineCommand']){let _0x3a9b15=this['lineCommand']['vertexArray'],_0x99f4fb=this['lineCommand']['shaderProgram'];_0x3a9b15=_0x3a9b15&&!_0x3a9b15['isDestroyed']()&&_0x3a9b15['destroy'](),_0x99f4fb=_0x99f4fb&&!_0x99f4fb['isDestroyed']()&&_0x99f4fb['destroy'](),this['lineCommand']=undefined;}};export default _0x348cc4;