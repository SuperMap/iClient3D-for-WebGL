const _0x31189e=(function(){let _0x412048=!![];return function(_0x18b2a6,_0x17346a){const _0x5e839c=_0x412048?function(){if(_0x17346a){const _0x5bda60=_0x17346a['apply'](_0x18b2a6,arguments);return _0x17346a=null,_0x5bda60;}}:function(){};return _0x412048=![],_0x5e839c;};}()),_0x5af27c=_0x31189e(this,function(){return _0x5af27c['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x5af27c)['search']('(((.+)+)+)+$');});_0x5af27c();import _0x19724f from'./XmlParser.js';import _0x1f6295 from'../S3MTiles/Enum/FillStyle.js';import _0x854208 from'../S3MTiles/Enum/BillboardMode.js';import _0x53cecb from'../S3MTiles/Style3D.js';import _0x3cf5e7 from'../S3MTiles/S3MTilesLayer.js';import _0x276e33 from'../ThirdParty/bignumber.js';import _0x3df279 from'../RenderTarget/ReflectFramebuffer.js';import _0xeeee1e from'../ThirdParty/defer.js';import _0x4a4c35 from'../provider/SuperMapImageryProvider.js';import _0x527461 from'../provider/SuperMapTerrainProvider.js';import _0x10c3c1 from'../provider/BlockImagery.js';import _0xfc2844 from'../ThirdParty/Tween.js';import _0xe3abb0 from'../Credential/Credential.js';import _0x37787b from'../ThirdParty/Uri.js';import _0x4e3148 from'../S3MTiles/Layers.js';const _0x5a804e=Cesium['queryToObject'],_0x4b2309=Cesium['defined'];let _0x1265ef=new Cesium['Cartesian4'](),_0x529ddd=new Cesium['Cartesian4'](),_0x52eb89=new Cesium['Matrix4'](),_0x47e370=new Cesium['Matrix4'](),_0x2a5c08=new Cesium['Cartesian3'](),_0x48d867=new Cesium['Plane'](Cesium['Cartesian3']['UNIT_Z'],0x1);Cesium['Camera']['prototype']['bReflect']=![],Cesium['Camera']['prototype']['reflectMatrix']=new Cesium['Matrix4']();function _0x197f7a(_0x271169,_0x548d80){let _0x115c43=_0x271169['distance'],_0x38a5b0=_0x271169['normal'];_0x548d80[0x0]=-0x2*_0x38a5b0['x']*_0x38a5b0['x']+0x1,_0x548d80[0x1]=-0x2*_0x38a5b0['y']*_0x38a5b0['x'],_0x548d80[0x2]=-0x2*_0x38a5b0['z']*_0x38a5b0['x'],_0x548d80[0x3]=0x0,_0x548d80[0x4]=-0x2*_0x38a5b0['x']*_0x38a5b0['y'],_0x548d80[0x5]=-0x2*_0x38a5b0['y']*_0x38a5b0['y']+0x1,_0x548d80[0x6]=-0x2*_0x38a5b0['z']*_0x38a5b0['y'],_0x548d80[0x7]=0x0,_0x548d80[0x8]=-0x2*_0x38a5b0['x']*_0x38a5b0['z'],_0x548d80[0x9]=-0x2*_0x38a5b0['y']*_0x38a5b0['z'],_0x548d80[0xa]=-0x2*_0x38a5b0['z']*_0x38a5b0['z']+0x1,_0x548d80[0xb]=0x0,_0x548d80[0xc]=-0x2*_0x38a5b0['x']*_0x115c43,_0x548d80[0xd]=-0x2*_0x38a5b0['y']*_0x115c43,_0x548d80[0xe]=-0x2*_0x38a5b0['z']*_0x115c43,_0x548d80[0xf]=0x1;}Cesium['Camera']['prototype']['enableReflection']=function(_0x5be9b3){this['bReflect']=!![],_0x197f7a(_0x5be9b3,this['reflectMatrix']),this['frustum']['reflect']=!![],this['frustum']['clipPlane']=_0x5be9b3;let _0x1bd050=Cesium['Matrix4']['multiply'](this['_viewMatrix'],this['reflectMatrix'],_0x52eb89);this['frustum']['currentViewMatrix']=_0x1bd050;},Cesium['Camera']['prototype']['disableReflection']=function(){this['bReflect']=![],this['frustum']['reflect']=![];},Cesium['DrawCommand']['prototype']['execute']=function(_0x51528a,_0x55301b){if(Cesium['defined'](_0x55301b)&&Cesium['defined'](_0x55301b['cullPass'])&&this['pass']===_0x55301b['cullPass'])return;_0x51528a['draw'](this,_0x55301b);},Cesium['Matrix4']['multiplyByPlane']=function(_0x5472ba,_0x1d48d0,_0x3234cf){Cesium['Check']['typeOf']['object']('matrix',_0x5472ba),Cesium['Check']['typeOf']['object']('plane',_0x1d48d0),Cesium['Check']['typeOf']['object']('result',_0x3234cf),Cesium['Matrix4']['inverse'](_0x5472ba,_0x52eb89),Cesium['Matrix4']['transpose'](_0x52eb89,_0x52eb89),_0x1265ef['x']=_0x1d48d0['normal']['x'],_0x1265ef['y']=_0x1d48d0['normal']['y'],_0x1265ef['z']=_0x1d48d0['normal']['z'],_0x1265ef['w']=_0x1d48d0['distance'],Cesium['Matrix4']['multiplyByVector'](_0x52eb89,_0x1265ef,_0x1265ef),_0x3234cf['normal']['x']=_0x1265ef['x'],_0x3234cf['normal']['y']=_0x1265ef['y'],_0x3234cf['normal']['z']=_0x1265ef['z'];let _0x30c7eb=Cesium['Cartesian3']['magnitude'](_0x3234cf['normal']);return Cesium['Cartesian3']['normalize'](_0x3234cf['normal'],_0x3234cf['normal']),_0x3234cf['distance']=_0x1265ef['w']/_0x30c7eb,_0x3234cf;},Cesium['PerspectiveFrustum']['prototype']['hookCloneFunc']=Cesium['PerspectiveFrustum']['prototype']['clone'],Cesium['PerspectiveFrustum']['prototype']['clone']=function(_0x534f38){let _0x441b3f=this['hookCloneFunc'](_0x534f38);return _0x441b3f['reflect']=this['reflect'],_0x441b3f['clipPlane']=this['clipPlane'],_0x441b3f['currentViewMatrix']=this['currentViewMatrix'],_0x441b3f;};function _0xe50386(_0xde6577,_0x43d6d3){let _0x2123a0=Cesium['Resource']['createIfNeeded'](_0xde6577);return _0x43d6d3&&(_0x2123a0['headers']=Cesium['combine'](_0x2123a0['headers'],_0x43d6d3)),_0x2123a0['fetchJson']()['then'](function(_0x5af845){if(_0x5af845['length']<0x1)return undefined;let _0x5d0c2f=_0x5af845[0x0];return{'name':_0x5d0c2f['name'],'path':_0x5d0c2f['path']};});}function _0x33f93c(_0x49889f,_0x39ee12){let _0x1663ad=Cesium['Resource']['createIfNeeded'](_0x49889f);return _0x39ee12&&(_0x1663ad['headers']=Cesium['combine'](_0x1663ad['headers'],_0x39ee12)),_0x1663ad['fetchJson']()['then'](function(_0x49be61){return _0x49be61;});}function _0x517fee(_0xae657d,_0x3357cd){let _0x1c9fbc=_0xae657d+'/layers.json';_0x4b2309(_0xe3abb0['CREDENTIAL'])&&(_0x4b2309(_0xe3abb0['CREDENTIAL']['_keymap'][_0x1c9fbc])?_0x1c9fbc=_0xe3abb0['addTokenWithKey'](_0xae657d,_0x1c9fbc):_0x1c9fbc=_0xe3abb0['addToken'](_0x1c9fbc));let _0x3cca49=Cesium['Resource']['createIfNeeded'](_0x1c9fbc);return _0x3357cd&&(_0x3cca49['headers']=Cesium['combine'](_0x3cca49['headers'],_0x3357cd)),_0x3cca49['fetchJson']()['then'](function(_0x13ef26){let _0x5b5506={'s3m':[],'imagery':[],'s3mGroup':[],'terrain':undefined};for(let _0x5191cd=0x0,_0x1209e1=_0x13ef26['length'];_0x5191cd<_0x1209e1;_0x5191cd++){let _0x2d4b83=_0x13ef26[_0x5191cd],_0x3b6d41=_0x2d4b83['layer3DType'];if(_0x3b6d41==='OSGBLayer')_0x5b5506['s3m']['push'](_0x2d4b83);else{if(_0x3b6d41==='ImageFileLayer')_0x5b5506['imagery']['push'](_0x2d4b83);else{if(_0x3b6d41==='TerrainFileLayer')_0x5b5506['terrain']=_0x2d4b83;else _0x3b6d41==='OSGBGroup'&&_0x5b5506['s3mGroup']['push'](_0x2d4b83);}}}return _0x5b5506;});}const _0x2656a7=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,_0x4d7a07=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)*$/i;function _0x2a2797(_0x825144){if(!_0x825144)throw new Cesium['DeveloperError']('get\x20s3m\x20layer\x20config\x20failed,xml\x20document\x20undefined.');let _0x4fba88=_0x825144['firstChild'],_0x493eb3=_0x4fba88['namespaceURI'],_0x59080e=_0x19724f['queryStringValue'](_0x4fba88,'LayerName',_0x493eb3),_0x2bb7da=_0x19724f['queryFirstNode'](_0x4fba88,'Options',_0x493eb3),_0x4639f6=_0x19724f['queryStringValue'](_0x4fba88,'WithinLayer3DGroup',_0x493eb3),_0x2d8bec=_0x19724f['queryBooleanValue'](_0x2bb7da,'Selectable',_0x493eb3),_0x3cbba0=_0x19724f['queryBooleanValue'](_0x2bb7da,'Visible',_0x493eb3),_0x2c54f7=_0x19724f['queryNumericValue'](_0x2bb7da,'VisibleAltitudeMin',_0x493eb3),_0xc5319e=_0x19724f['queryNumericValue'](_0x2bb7da,'VisibleAltitudeMax',_0x493eb3);_0xc5319e=_0xc5319e===0x0?Number['MAX_VALUE']:_0xc5319e;let _0x21908f=_0x19724f['queryNumericValue'](_0x2bb7da,'VisibleDistanceMin',_0x493eb3),_0x294db2=_0x19724f['queryNumericValue'](_0x2bb7da,'VisibleDistanceMax',_0x493eb3),_0x2f564b=_0x19724f['queryStringValue'](_0x2bb7da,'ShadowType',_0x493eb3),_0x5ce394=0x0;if(_0x2f564b==='SELECTION')_0x5ce394=0x1;else _0x2f564b==='ALL'&&(_0x5ce394=0x2);let _0x180289=_0x19724f['queryStringValue'](_0x4fba88,'CacheFileType',_0x493eb3),_0x1e1d9d=_0x180289==='S3MB'||_0x180289==='OSGB',_0x36d554=_0x180289==='S3M',_0x120399=_0x19724f['queryFirstNode'](_0x4fba88,'Style',_0x493eb3);if(!_0x120399){let _0x40a398=_0x19724f['queryFirstNode'](_0x4fba88,'LayerStyle',_0x493eb3);if(_0x40a398){_0x120399=_0x19724f['queryFirstNode'](_0x40a398,'Style',_0x493eb3);if(!_0x120399)throw new Cesium['DeveloperError']('get\x20s3m\x20layer\x20config\x20failed,extendxml.xml\x20foamat\x20error,layer\x20name\x20is\x20'+_0x59080e);}}let _0x5871ce=_0x19724f['queryNumericValue'](_0x120399,'LineWidth',_0x493eb3),_0x3c37a7=_0x19724f['queryStringValue'](_0x120399,'FillForeColor',_0x493eb3),_0x512b98=_0x2656a7['exec'](_0x3c37a7['toLowerCase']()),_0x2dff85=new Cesium['Color']();if(_0x512b98!==null){let _0x77332a=parseFloat(_0x512b98[0x1]);_0x77332a=_0x77332a===0xbd?0xff:_0x77332a;let _0x261a0b=parseFloat(_0x512b98[0x2]);_0x261a0b=_0x261a0b===0xeb?0xff:_0x261a0b,_0x2dff85['red']=Cesium['Math']['clamp'](_0x77332a/0xff,0x0,0x1),_0x2dff85['green']=Cesium['Math']['clamp'](_0x261a0b/0xff,0x0,0x1),_0x2dff85['blue']=Cesium['Math']['clamp'](parseFloat(_0x512b98[0x3])%0x100/0xff,0x0,0x1),_0x2dff85['alpha']=Cesium['Math']['clamp'](parseFloat(_0x512b98[0x3])%0x10000/0x100/0xff,0x0,0x1);}let _0x4176de=_0x19724f['queryFirstNode'](_0x120399,'Style3D',_0x493eb3),_0x1dd47b=new _0x53cecb();if(_0x4176de){let _0x52d3bb=_0x19724f['queryStringValue'](_0x4176de,'Fill3DMode',_0x493eb3),_0x36ed0e=_0x1f6295['Fill'];if(_0x52d3bb==='FILL_LINE')_0x36ed0e=_0x1f6295['WireFrame'];else _0x52d3bb==='FILL_FACEANDLINE'&&(_0x36ed0e=_0x1f6295['Fill_And_WireFrame']);let _0xf469e=_0x19724f['queryNumericValue'](_0x4176de,'PointSize',_0x493eb3),_0x487eb6=_0x19724f['queryStringValue'](_0x4176de,'LineColor',_0x493eb3),_0x2dafdd=_0x4d7a07['exec'](_0x487eb6['toLowerCase']()),_0x3f80be=new Cesium['Color']();_0x2dafdd!==null&&(_0x3f80be['red']=Cesium['Math']['clamp'](parseFloat(_0x2dafdd[0x1]),0x0,0x1),_0x3f80be['green']=Cesium['Math']['clamp'](parseFloat(_0x2dafdd[0x2]),0x0,0x1),_0x3f80be['blue']=Cesium['Math']['clamp'](parseFloat(_0x2dafdd[0x3]),0x0,0x1),_0x3f80be['alpha']=Cesium['Math']['clamp'](parseFloat(_0x2dafdd[0x4]),0x0,0x1));let _0x275431=_0x19724f['queryNumericValue'](_0x120399,'MarkerSize',_0x493eb3)||0x0;_0xf469e=Math['max'](_0xf469e,_0x275431);let _0x9b4011=_0x19724f['queryStringValue'](_0x4176de,'ColorPoint',_0x493eb3);_0x2dafdd=_0x4d7a07['exec'](_0x9b4011['toLowerCase']());let _0x4fe19f=new Cesium['Color']();_0x2dafdd!==null&&(_0x4fe19f['red']=Cesium['Math']['clamp'](parseFloat(_0x2dafdd[0x1]),0x0,0x1),_0x4fe19f['green']=Cesium['Math']['clamp'](parseFloat(_0x2dafdd[0x2]),0x0,0x1),_0x4fe19f['blue']=Cesium['Math']['clamp'](parseFloat(_0x2dafdd[0x3]),0x0,0x1),_0x4fe19f['alpha']=Cesium['Math']['clamp'](parseFloat(_0x2dafdd[0x4]),0x0,0x1));let _0x5b7d77=_0x19724f['queryNumericValue'](_0x4176de,'BottomAltitude',_0x493eb3),_0x4c72cb=_0x19724f['queryStringValue'](_0x4176de,'AltitudeMode',_0x493eb3),_0x15c97c=_0x19724f['queryStringValue'](_0x4176de,'BillboardMode',_0x493eb3);if(_0x15c97c==='AUTO_Z_AXIAL')_0x15c97c=_0x854208['FixedZ'];else _0x15c97c==='FIXED_ANGLE'?_0x15c97c=_0x854208['FixedXYZ']:_0x15c97c=_0x854208['None'];let _0x1353a4=Cesium['Math']['toRadians'](_0x19724f['queryNumericValue'](_0x4176de,'RotateX',_0x493eb3)),_0x408348=Cesium['Math']['toRadians'](_0x19724f['queryNumericValue'](_0x4176de,'RotateY',_0x493eb3)),_0x2d6fc4=Cesium['Math']['toRadians'](_0x19724f['queryNumericValue'](_0x4176de,'RotateZ',_0x493eb3)),_0x4e1150=new Cesium['HeadingPitchRoll'](_0x1353a4,_0x408348,_0x2d6fc4);_0x1dd47b['fillForeColor']=_0x2dff85,_0x1dd47b['bottomAltitude']=_0x5b7d77,_0x1dd47b['lineWidth']=_0x5871ce,_0x1dd47b['lineColor']=_0x3f80be,_0x1dd47b['pointSize']=_0xf469e,_0x1dd47b['pointColor']=_0x4fe19f,_0x1dd47b['fillStyle']=_0x36ed0e,_0x1dd47b['billboardMode']=_0x15c97c;}let _0x4c1d9b=_0x19724f['queryNumericValue'](_0x4fba88,'LODRangeScale',_0x493eb3),_0x25d7ca=_0x19724f['queryFirstNode'](_0x4fba88,'PolygonOffset',_0x493eb3),_0x47a673=_0x19724f['queryNumericValue'](_0x25d7ca,'Constant',_0x493eb3),_0x2b2cab=_0x19724f['queryNumericValue'](_0x25d7ca,'SlopeScale',_0x493eb3),_0x2eaa5a=_0x47a673!==0x0&&_0x2b2cab!==0x0,_0x159f21=_0x19724f['queryFirstNode'](_0x4fba88,'ColorParams',_0x493eb3),_0x484577=_0x19724f['queryNumericValue'](_0x159f21,'Brightness',_0x493eb3),_0x9f8954=_0x19724f['queryNumericValue'](_0x159f21,'Constrast',_0x493eb3),_0x444681=_0x19724f['queryNumericValue'](_0x159f21,'Hue',_0x493eb3),_0x11fe26=_0x19724f['queryNumericValue'](_0x159f21,'Saturation',_0x493eb3),_0x2bd221=_0x19724f['queryNumericValue'](_0x159f21,'Gamma',_0x493eb3);return{'name':_0x59080e,'groupName':_0x4639f6,'isS3MB':_0x1e1d9d,'isS3MBlock':![],'isS3M':_0x36d554,'style3D':_0x1dd47b,'selectEnable':_0x2d8bec,'isVisible':_0x3cbba0,'minVisibleAltitude':_0x2c54f7,'maxVisibleAltitude':_0xc5319e,'minVisibleDistance':_0x21908f,'maxVisibleDistance':_0x294db2,'shadowType':_0x5ce394,'lodRangeScale':_0x4c1d9b,'polygonOffset':{'enabled':_0x2eaa5a,'units':_0x47a673,'factor':_0x2b2cab},'brightness':_0x484577,'constrast':_0x9f8954,'hue':_0x444681,'saturation':_0x11fe26,'gamma':_0x2bd221};}function _0x193cd5(_0x1c3e24,_0x501473){let _0x2ac516=Cesium['Resource']['createIfNeeded'](_0x1c3e24);return _0x501473&&(_0x2ac516['headers']=Cesium['combine'](_0x2ac516['headers'],_0x501473)),new Promise((_0x21fa09,_0xb3b9c4)=>{_0x2ac516['fetchXML']()['then'](function(_0xf0a765){try{let _0x313c88=_0x2a2797(_0xf0a765);_0x21fa09(_0x313c88);}catch(_0x54f93e){_0xb3b9c4('resolve\x20Layer\x20Extend\x20XML\x20error:'+_0x54f93e);}},_0xca3ba4=>{_0xb3b9c4('fetch\x20s3m\x20layer\x20config\x20xml\x20error:'+_0xca3ba4);});});}Cesium['Scene']['prototype']['open']=function(_0x3b37cd,_0x1d0874){if(_0x3b37cd['indexOf']('?token')>-0x1&&_0x3b37cd['indexOf']('realspace')>-0x1){let _0x23f84c=new _0x37787b(_0x3b37cd),_0x13c9b4=_0x5a804e(_0x23f84c['query']);_0x23f84c['query']=undefined,_0x3b37cd=_0x23f84c['toString']();let _0x51d511={};_0x51d511={'rooturl':_0x3b37cd,'type':'token','value':_0x13c9b4['token']},_0x4b2309(_0xe3abb0['CREDENTIAL'])?!(_0x3b37cd in _0xe3abb0['CREDENTIAL']['_keymap'])&&_0xe3abb0['CREDENTIAL']['addCredential']([_0x51d511]):_0xe3abb0['CREDENTIAL']=new _0xe3abb0([_0x51d511]);}if(_0x3b37cd['slice'](-0x9)!=='realspace')throw new Cesium['DeveloperError']('open\x20scene\x20url\x20error!');_0x1d0874=Cesium['defaultValue'](_0x1d0874,{}),this['customRequestHeaders']=Cesium['defaultValue'](this['customRequestHeaders'],_0x1d0874['customRequestHeaders']);var _0x47e541=_0x3b37cd,_0x3f85ef=_0x1d0874['subdomains'],_0x203200=Cesium['defaultValue'](_0x1d0874['autoSetView'],!![]),_0x3bb54e=/({.*?})/g;if(Cesium['defined'](_0x3f85ef))_0x3b37cd=_0x3b37cd['replace'](_0x3bb54e,function(_0x2269f3,_0x163ecb){if(!Cesium['defined'](_0x3f85ef['length']))throw new Cesium['DeveloperError']('detected\x20subdomain\x20url\x20scheme,\x20but\x20no\x20subdomain\x20provided.');if(_0x163ecb==='{s}')return _0x3f85ef[0x0];});else{if(_0x3bb54e['test'](_0x3b37cd))throw new Cesium['DeveloperError']('detected\x20subdomain\x20url\x20scheme,\x20but\x20no\x20subdomain\x20provided.');}let _0xe6eefc=_0x3b37cd+'/scenes.json';_0x4b2309(_0xe3abb0['CREDENTIAL'])&&(_0x4b2309(_0xe3abb0['CREDENTIAL']['_keymap'][_0x3b37cd])?_0xe6eefc=_0xe3abb0['addTokenWithKey'](_0x3b37cd,_0xe6eefc):_0xe6eefc=_0xe3abb0['addToken'](_0xe6eefc));let _0x158cf3=this,_0x1ed582=this['camera'];return new Promise((_0x556c00,_0x220855)=>{_0xe50386(_0xe6eefc,_0x158cf3['customRequestHeaders'])['then'](function(_0x2438d8){if(!_0x2438d8){_0x220855('scene\x20list\x20response\x20null!');return;}let _0x4fd5d6=_0x2438d8['path']+'.json';_0x4b2309(_0xe3abb0['CREDENTIAL'])&&(_0x4b2309(_0xe3abb0['CREDENTIAL']['_keymap'][_0x3b37cd])?_0x4fd5d6=_0xe3abb0['addTokenWithKey'](_0x3b37cd,_0x4fd5d6):_0x4fd5d6=_0xe3abb0['addToken'](_0x4fd5d6));_0x33f93c(_0x4fd5d6,_0x158cf3['customRequestHeaders'])['then'](function(_0x5015b4){let _0x1ebb46;_0x5015b4['sceneType']==='NONEARTHFLAT'?(_0x158cf3['mode']=Cesium['SceneMode']['COLUMBUS_VIEW'],_0x5015b4['camera']['tilt']-=Math['PI'],_0x1ebb46=new Cesium['Cartesian3'](_0x5015b4['camera']['longitude'],_0x5015b4['camera']['latitude'],_0x5015b4['camera']['altitude']),_0x203200&&_0x1ed582['setView']({'destination':_0x1ebb46,'orientation':{'heading':_0x5015b4['camera']['heading'],'pitch':_0x5015b4['camera']['tilt'],'roll':0x0},'convert':![]})):(_0x5015b4['camera']['tilt']-=0x5a,_0x1ebb46=Cesium['Cartesian3']['fromDegrees'](_0x5015b4['camera']['longitude'],_0x5015b4['camera']['latitude'],_0x5015b4['camera']['altitude']),_0x203200&&_0x1ed582['setView']({'destination':_0x1ebb46,'orientation':{'heading':Cesium['Math']['toRadians'](_0x5015b4['camera']['heading']),'pitch':Cesium['Math']['toRadians'](_0x5015b4['camera']['tilt']),'roll':0x0},'convert':![]}));},_0x2111b2=>{_0x220855('get\x20scene\x20config\x20failed,'+_0x2111b2);});let _0x2ec4cf=_0x2438d8['path'];_0x517fee(_0x2ec4cf,_0x158cf3['customRequestHeaders'])['then'](function(_0x5ba542){let _0x398639=_0x5ba542['s3m'],_0x371093=_0x5ba542['imagery'],_0x110325=_0x5ba542['terrain'],_0x488340=_0x5ba542['s3mGroup'],_0xdaa521=_0x2438d8['path']+'/layers/',_0x1e159b=[],_0x50742b=_0x398639['length']-0x1;for(let _0x57096f=_0x50742b;_0x57096f>=0x0;_0x57096f--){let _0x2ef026=_0x398639[_0x57096f],_0x167c97=_0xdaa521+encodeURIComponent(_0x2ef026['name'])+'/extendxml.xml';_0x4b2309(_0xe3abb0['CREDENTIAL'])&&(_0x4b2309(_0xe3abb0['CREDENTIAL']['_keymap'][_0x3b37cd])?_0x167c97=_0xe3abb0['addTokenWithKey'](_0x3b37cd,_0x167c97):_0x167c97=_0xe3abb0['addToken'](_0x167c97)),function(_0x18c0b0){let _0x57b3c8=_0x193cd5(_0x167c97,_0x158cf3['customRequestHeaders'])['then'](function(_0x440237){try{let _0x3ff325=_0x3b37cd+'/datas/'+encodeURIComponent(_0x440237['name'])+'/config';return _0x440237['subdomainConfig']={'subdomains':_0x3f85ef,'urlScheme':_0x47e541+'/datas/'+encodeURIComponent(_0x440237['name'])+'/','customRequestHeaders':_0x158cf3['customRequestHeaders']},_0x158cf3['addS3MTilesLayerByScp'](_0x3ff325,_0x440237);}catch(_0x8bacff){_0x220855('add\x20S3M\x20layer'+_0x440237['name']+'\x20failed,'+_0x8bacff);}},_0x11084e=>{_0x220855('get\x20S3M\x20layer\x20config\x20failed,'+_0x11084e+',layer\x20name\x20is\x20'+_0x2ef026['name']);});_0x1e159b['push'](_0x57b3c8);}(_0x50742b-_0x57096f);}for(var _0x190f79=_0x371093['length']-0x1;_0x190f79>=0x0;_0x190f79--){var _0x563587=_0x3b37cd+'/datas/'+encodeURIComponent(_0x371093[_0x190f79]['name']),_0x4b785a=new _0x4a4c35({'url':_0x563587,'customRequestHeaders':_0x158cf3['customRequestHeaders']});try{var _0x4e15c5=_0x158cf3['globe']['imageryLayers']['addImageryProvider'](_0x4b785a);_0x1e159b['push'](_0x4e15c5);}catch(_0x53bf34){_0x220855('add\x20imagery\x20layer\x20'+_0x371093[_0x190f79]['name']+'\x20failed,'+_0x53bf34);}}if(Cesium['defined'](_0x110325)){var _0x448d6c=_0x3b37cd+'/datas/'+encodeURIComponent(_0x110325['name']);try{_0x158cf3['terrainProvider']=new _0x527461({'url':_0x448d6c,'isSct':!![],'customRequestHeaders':_0x158cf3['customRequestHeaders']}),_0x1e159b['push'](_0x158cf3['terrainProvider']);}catch(_0x4d0828){_0x220855('add\x20terrain\x20layer\x20'+_0x110325['name']+'\x20failed,'+_0x4d0828);}}Promise['all'](_0x1e159b)['then'](_0x52430f=>{_0x556c00(_0x52430f);})['catch'](_0x3ba608=>{_0x220855('add\x20all\x20layers\x20failed,'+_0x3ba608);});},_0x577b7b=>{_0x220855('get\x20layer\x20list\x20failed,'+_0x577b7b);});},_0x50c0fa=>{_0x220855('get\x20scene\x20list\x20failed,'+_0x50c0fa);});});};function _0xafa38(_0x22d8bc,_0x8cdb36,_0x3fc8f6){let _0x5571f3=new _0x276e33(_0x22d8bc),_0x1b6d1c=new _0x276e33(_0x8cdb36),_0x537b19=new _0x276e33(0x1),_0x116192=new _0x276e33(0x2),_0x2925ad=new _0x276e33(0x1);while(_0x1b6d1c['toNumber']()>0x0){_0x1b6d1c['mod'](_0x116192)['toNumber']()===0x0?(_0x1b6d1c=_0x1b6d1c['dividedBy'](_0x116192),_0x5571f3=_0x5571f3['multipliedBy'](_0x5571f3)['mod'](_0x3fc8f6)):(_0x1b6d1c=_0x1b6d1c['minus'](_0x2925ad),_0x537b19=_0x537b19['multipliedBy'](_0x5571f3)['mod'](_0x3fc8f6));}return _0x537b19['toNumber']();}let _0x2fd824={};function _0x18db05(_0x1537f6,_0x1295c2){let _0xb48307=_0xeeee1e();var _0x3358b3=_0x2fd824[_0x1537f6];if(_0x4b2309(_0x3358b3)){if(_0x3358b3['then'])return _0x3358b3;return _0xb48307['resolve'](_0x3358b3),_0xb48307['promise'];}let _0x13dcf0=_0x1537f6+'/login.json';_0x4b2309(_0xe3abb0['CREDENTIAL'])&&(_0x4b2309(_0xe3abb0['CREDENTIAL']['_keymap'][_0x1537f6])?_0x13dcf0=_0xe3abb0['addTokenWithKey'](_0x1537f6,_0x13dcf0):_0x13dcf0=_0xe3abb0['addToken'](_0x13dcf0));let _0x46da7c=Cesium['Resource']['createIfNeeded'](_0x13dcf0);return _0x1295c2&&(_0x46da7c['headers']=Cesium['combine'](_0x46da7c['headers'],_0x1295c2)),_0x2fd824[_0x1537f6]=_0xb48307['promise'],_0x46da7c['fetchJson']()['then'](_0x55646a=>{let _0x1ceb47=Number(_0x55646a['jsessionID']),_0xd47f4=Number(_0x55646a['random']),_0x1d6f39=0x8f461e7bf61d5,_0x407eb5=0x1694ad7fce84d,_0x37c865=_0xafa38(_0xd47f4,_0x407eb5,_0x1d6f39),_0x31a9ba=JSON['stringify']({'jsessionID':_0x1ceb47['toString'](),'random':_0x37c865['toString']()});Cesium['Resource']['post']({'url':_0x13dcf0,'data':_0x31a9ba,'responseType':'json','headers':_0x1295c2})['then'](_0x52de29=>{_0x52de29['succeed']===!![]?(_0xb48307['resolve'](_0x37c865),_0x2fd824[_0x1537f6]=_0x37c865):_0xb48307['reject'](![]);},_0x3e2e83=>{_0xb48307['reject'](_0x3e2e83);});},_0x380a5c=>{_0xb48307['reject'](_0x380a5c);}),_0xb48307['promise'];}let _0x5dd85c=new _0x4e3148();Cesium['Scene']['prototype']['addS3MTilesLayerByScp']=function(_0x2e1422,_0x1ce697,_0xb83b58){_0x1ce697=_0x1ce697||{};let _0x1956ff=_0x2e1422['indexOf']('rest/realspace');if(_0x1956ff===-0x1)return Promise['reject'](![]);let _0x37fd4e=_0x2e1422['substring'](0x0,_0x1956ff+0xe),_0x1d34e0=this;return _0x4b2309(_0xe3abb0['CREDENTIAL'])&&(!_0x4b2309(_0xe3abb0['CREDENTIAL']['_keymap'][_0x2e1422])&&(_0x2e1422=_0xe3abb0['addToken'](_0x2e1422))),new Promise((_0x5c8c44,_0x52a341)=>{_0x18db05(_0x37fd4e,_0x1ce697['customRequestHeaders'])['then'](_0x2f5068=>{_0x1ce697['url']=_0x2e1422,_0x1ce697['context']=_0x1d34e0['context'],_0x1ce697['rss']=_0x2f5068,_0x1ce697['sceneMode']=_0x1d34e0['_mode'];let _0x3f4981=new _0x3cf5e7(_0x1ce697);_0x5dd85c['add'](_0x3f4981),_0x5dd85c['scene']=_0x1d34e0,_0x1d34e0['layers']=_0x5dd85c,_0x1d34e0['primitives']['add'](_0x3f4981,_0xb83b58),!_0x1d34e0['context']['reflectFramebuffer']&&(_0x1d34e0['context']['reflectFramebuffer']=new _0x3df279(_0x1d34e0['context']),_0x1d34e0['_renderTargets']&&_0x1d34e0['_renderTargets']['set']('reflect',_0x1d34e0['context']['reflectFramebuffer'])),_0x5c8c44(_0x3f4981);},_0x13c4db=>{_0x52a341(_0x13c4db);});});},Cesium['Scene']['prototype']['hookPickFunc']=Cesium['Scene']['prototype']['pick'],Cesium['Scene']['prototype']['pick']=function(_0x5ed7db,_0x56eb8f,_0x267af0){let _0x3ee31f=this['hookPickFunc'](_0x5ed7db,_0x56eb8f,_0x267af0);if(_0x3ee31f){let _0x2fca24=_0x3ee31f['primitive']&&_0x3ee31f['primitive']instanceof _0x3cf5e7;if(_0x2fca24){if(!_0x3ee31f['primitive']['_selectEnabled'])return undefined;_0x3ee31f['primitive']['setSelection'](_0x3ee31f['id']);}}else for(let _0x1df60b=0x0,_0x33a019=this['primitives']['length'];_0x1df60b<_0x33a019;_0x1df60b++){let _0x84027e=this['primitives']['get'](_0x1df60b);_0x84027e instanceof _0x3cf5e7&&_0x84027e['releaseSelection']();}return _0x3ee31f;},Cesium['Scene']['prototype']['hookDrillPickFunc']=Cesium['Scene']['prototype']['drillPick'],Cesium['Scene']['prototype']['drillPick']=function(_0x1d5b21,_0x30bbde,_0x38a543,_0x3ea175){let _0x7d4372=this['hookDrillPickFunc'](_0x1d5b21,_0x30bbde,_0x38a543,_0x3ea175),_0x256733=_0x7d4372[0x0]&&_0x7d4372[0x0]['primitive']&&_0x7d4372[0x0]['primitive']instanceof _0x3cf5e7,_0x1b01fd=[],_0x59b5ff=Object['create'](null);if(_0x256733){while(_0x7d4372&&Cesium['defined'](_0x7d4372[0x0])){let _0x445695=_0x7d4372[0x0];_0x1b01fd['push'](_0x445695);if(_0x445695['primitive']instanceof _0x3cf5e7){_0x445695['primitive']['setOnlyObjsVisible']([_0x445695['id']],![]);let _0x253c1f=_0x445695['primitive']['id'];(_0x59b5ff[_0x253c1f]=_0x59b5ff[_0x253c1f]||{})['layer']=_0x445695['primitive'],(_0x59b5ff[_0x253c1f]['ids']=_0x59b5ff[_0x253c1f]['ids']||[])['push'](_0x445695['id']);}_0x7d4372=this['hookDrillPickFunc'](_0x1d5b21,_0x30bbde,_0x38a543,_0x3ea175);}for(let _0x1b3e2b in _0x59b5ff){let _0x103811=_0x59b5ff[_0x1b3e2b];_0x103811['layer']['setOnlyObjsVisible'](_0x103811['ids'],!![]);}return _0x1b01fd;}return _0x7d4372;},Cesium['SkyAtmosphere']['prototype']['hookUpdateFunc']=Cesium['SkyAtmosphere']['prototype']['update'],Cesium['SkyAtmosphere']['prototype']['update']=function(_0x4e381e,_0x1d1be5){let _0x52f548=this['hookUpdateFunc'](_0x4e381e,_0x1d1be5);return _0x52f548&&_0x4e381e['camera']['bReflect']&&(!this['reflectRs']&&(this['reflectRs']=Cesium['RenderState']['fromCache']({'cull':{'enabled':!![],'face':Cesium['CullFace']['BACK']},'blending':Cesium['BlendingState']['ALPHA_BLEND'],'depthMask':![]})),_0x52f548['renderState']=this['reflectRs']),_0x52f548;};function _0x200d96(_0x460c6b,_0x361983){Cesium['Matrix4']['clone'](_0x361983,_0x460c6b['_view']),Cesium['Matrix4']['getMatrix3'](_0x361983,_0x460c6b['_viewRotation']),_0x460c6b['_view3DDirty']=!![],_0x460c6b['_inverseView3DDirty']=!![],_0x460c6b['_modelViewDirty']=!![],_0x460c6b['_modelView3DDirty']=!![],_0x460c6b['_modelViewRelativeToEyeDirty']=!![],_0x460c6b['_inverseModelViewDirty']=!![],_0x460c6b['_inverseModelView3DDirty']=!![],_0x460c6b['_viewProjectionDirty']=!![],_0x460c6b['_inverseViewProjectionDirty']=!![],_0x460c6b['_modelViewProjectionDirty']=!![],_0x460c6b['_modelViewProjectionRelativeToEyeDirty']=!![],_0x460c6b['_modelViewInfiniteProjectionDirty']=!![],_0x460c6b['_normalDirty']=!![],_0x460c6b['_inverseNormalDirty']=!![],_0x460c6b['_normal3DDirty']=!![],_0x460c6b['_inverseNormal3DDirty']=!![];}function _0x42aeba(_0x35da5b,_0x1f0342){Cesium['Matrix4']['clone'](_0x1f0342,_0x35da5b['_inverseView']),Cesium['Matrix4']['getMatrix3'](_0x1f0342,_0x35da5b['_inverseViewRotation']);}function _0x28efd0(_0x9083d7,_0x4fd185){Cesium['Cartesian3']['clone'](_0x4fd185['positionWC'],_0x9083d7['_cameraPosition']),Cesium['Cartesian3']['clone'](_0x4fd185['directionWC'],_0x9083d7['_cameraDirection']),Cesium['Cartesian3']['clone'](_0x4fd185['rightWC'],_0x9083d7['_cameraRight']),Cesium['Cartesian3']['clone'](_0x4fd185['upWC'],_0x9083d7['_cameraUp']);let _0x163e29=_0x4fd185['positionCartographic'];!Cesium['defined'](_0x163e29)?_0x9083d7['_eyeHeight']=-_0x9083d7['_ellipsoid']['maximumRadius']:_0x9083d7['_eyeHeight']=_0x163e29['height'],_0x9083d7['_encodedCameraPositionMCDirty']=!![];}Cesium['UniformState']['prototype']['updateCamera']=function(_0xfdd988){let _0x346c55=_0xfdd988['viewMatrix'],_0x5df929=_0xfdd988['inverseViewMatrix'];_0xfdd988['bReflect']?(Cesium['Matrix4']['multiply'](_0x346c55,_0xfdd988['reflectMatrix'],_0x52eb89),Cesium['Matrix4']['inverseTransformation'](_0x52eb89,_0x47e370),_0x200d96(this,_0x52eb89),_0x42aeba(this,_0x47e370)):(_0x200d96(this,_0x346c55),_0x42aeba(this,_0x5df929)),_0x28efd0(this,_0xfdd988),this['_entireFrustum']['x']=_0xfdd988['frustum']['near'],this['_entireFrustum']['y']=_0xfdd988['frustum']['far'],this['updateFrustum'](_0xfdd988['frustum']),this['_orthographicIn3D']=this['_mode']!==Cesium['SceneMode']['SCENE2D']&&_0xfdd988['frustum']instanceof Cesium['OrthographicFrustum'];};function _0x303ed2(_0x542dba,_0x4c24fc){if(!_0x542dba['clipPlane']||!_0x542dba['currentViewMatrix']||!_0x542dba['reflect'])return;let _0x2d4904=_0x542dba['currentViewMatrix'];Cesium['Matrix4']['multiplyByPlane'](_0x2d4904,_0x542dba['clipPlane'],_0x48d867),_0x1265ef['x']=(Cesium['Math']['sign'](_0x48d867['normal']['x'])+_0x4c24fc[0x8])/_0x4c24fc[0x0],_0x1265ef['y']=(Cesium['Math']['sign'](_0x48d867['normal']['y'])+_0x4c24fc[0x9])/_0x4c24fc[0x5],_0x1265ef['z']=-0x1,_0x1265ef['w']=(0x1+_0x4c24fc[0xa])/_0x4c24fc[0xe],_0x529ddd['x']=_0x48d867['normal']['x'],_0x529ddd['y']=_0x48d867['normal']['y'],_0x529ddd['z']=_0x48d867['normal']['z'],_0x529ddd['w']=_0x48d867['distance'],Cesium['Cartesian4']['multiplyByScalar'](_0x529ddd,0x2/Cesium['Cartesian4']['dot'](_0x529ddd,_0x1265ef),_0x1265ef),_0x4c24fc[0x2]=_0x1265ef['x'],_0x4c24fc[0x6]=_0x1265ef['y'],_0x4c24fc[0xa]=_0x1265ef['z']+0x1,_0x4c24fc[0xe]=_0x1265ef['w'];}function _0x12287c(_0x58ba96,_0x44584e){Cesium['Matrix4']['clone'](_0x44584e,_0x58ba96['_projection']),_0x58ba96['_inverseProjectionDirty']=!![],_0x58ba96['_viewProjectionDirty']=!![],_0x58ba96['_inverseViewProjectionDirty']=!![],_0x58ba96['_modelViewProjectionDirty']=!![],_0x58ba96['_modelViewProjectionRelativeToEyeDirty']=!![];}function _0x20c0c7(_0x261f1b,_0x40d87f){Cesium['Matrix4']['clone'](_0x40d87f,_0x261f1b['_infiniteProjection']),_0x261f1b['_modelViewInfiniteProjectionDirty']=!![];}Cesium['UniformState']['prototype']['updateFrustum']=function(_0x2c5864){let _0x127b15=_0x2c5864['projectionMatrix'];Cesium['Matrix4']['clone'](_0x127b15,_0x52eb89),_0x303ed2(_0x2c5864,_0x52eb89),_0x12287c(this,_0x52eb89),Cesium['defined'](_0x2c5864['infiniteProjectionMatrix'])&&_0x20c0c7(this,_0x2c5864['infiniteProjectionMatrix']),this['_currentFrustum']['x']=_0x2c5864['near'],this['_currentFrustum']['y']=_0x2c5864['far'],this['_farDepthFromNearPlusOne']=_0x2c5864['far']-_0x2c5864['near']+0x1,this['_log2FarDepthFromNearPlusOne']=Cesium['Math']['log2'](this['_farDepthFromNearPlusOne']),this['_oneOverLog2FarDepthFromNearPlusOne']=0x1/this['_log2FarDepthFromNearPlusOne'],Cesium['defined'](_0x2c5864['_offCenterFrustum'])&&(_0x2c5864=_0x2c5864['_offCenterFrustum']),this['_frustumPlanes']['x']=_0x2c5864['top'],this['_frustumPlanes']['y']=_0x2c5864['bottom'],this['_frustumPlanes']['z']=_0x2c5864['left'],this['_frustumPlanes']['w']=_0x2c5864['right'];},Cesium['TweenCollection']['prototype']['update']=function(_0x2ec5bb){var _0x646cbf=this['_tweens'],_0xa8fcc8=0x0;_0x2ec5bb=Cesium['defined'](_0x2ec5bb)?_0x2ec5bb/0.001:_0x44f765();while(_0xa8fcc8<_0x646cbf['length']){var _0x1ab54d=_0x646cbf[_0xa8fcc8],_0x37b311=_0x1ab54d['_tweenjs'];if(_0x1ab54d['needsStart'])_0x1ab54d['needsStart']=![],_0x37b311['start'](_0x2ec5bb);else _0x37b311['update'](_0x2ec5bb)?_0xa8fcc8++:(_0x37b311['stop'](),_0x646cbf['splice'](_0xa8fcc8,0x1));}},Cesium['TweenCollection']['prototype']['add']=function(_0x517878){_0x517878=Cesium['defaultValue'](_0x517878,Cesium['defaultValue']['EMPTY_OBJECT']);if(!Cesium['defined'](_0x517878['startObject'])||!Cesium['defined'](_0x517878['stopObject']))throw new Cesium['DeveloperError']('options.startObject\x20and\x20options.stopObject\x20are\x20required.');if(!Cesium['defined'](_0x517878['duration'])||_0x517878['duration']<0x0)throw new Cesium['DeveloperError']('options.duration\x20is\x20required\x20and\x20must\x20be\x20positive.');if(_0x517878['duration']===0x0)return Cesium['defined'](_0x517878['complete'])&&_0x517878['complete'](),new _0x1b7ace(this);var _0x52cea5=_0x517878['duration']/0.001,_0x45baf8=Cesium['defaultValue'](_0x517878['delay'],0x0),_0x57e8de=_0x45baf8/0.001,_0x4c1b7a=Cesium['defaultValue'](_0x517878['easingFunction'],Cesium['EasingFunction']['LINEAR_NONE']),_0x4016f6=_0x517878['startObject'],_0x5af938=new _0xfc2844['Tween'](_0x4016f6);_0x5af938['to'](_0x5edd96(_0x517878['stopObject']),_0x52cea5),_0x5af938['delay'](_0x57e8de),_0x5af938['easing'](_0x4c1b7a);Cesium['defined'](_0x517878['update'])&&_0x5af938['onUpdate'](function(){_0x517878['update'](_0x4016f6);});_0x5af938['onComplete'](Cesium['defaultValue'](_0x517878['complete'],null)),_0x5af938['repeat'](Cesium['defaultValue'](_0x517878['_repeat'],0x0));var _0x30124e=new _0x1b7ace(this,_0x5af938,_0x517878['startObject'],_0x517878['stopObject'],_0x517878['duration'],_0x45baf8,_0x4c1b7a,_0x517878['update'],_0x517878['complete'],_0x517878['cancel']);return this['_tweens']['push'](_0x30124e),_0x30124e;};function _0x44f765(){return typeof performance!=='undefined'&&typeof performance['now']==='function'&&isFinite(performance['now']())?performance['now']():Date['now']();}function _0x5edd96(_0x3e248d,_0x2b21a6){if(_0x3e248d===null||typeof _0x3e248d!=='object')return _0x3e248d;_0x2b21a6=Cesium['defaultValue'](_0x2b21a6,![]);var _0x30df62=new _0x3e248d['constructor']();for(var _0x26c19d in _0x3e248d){if(_0x3e248d['hasOwnProperty'](_0x26c19d)){var _0xdbf10e=_0x3e248d[_0x26c19d];_0x2b21a6&&(_0xdbf10e=_0x5edd96(_0xdbf10e,_0x2b21a6)),_0x30df62[_0x26c19d]=_0xdbf10e;}}return _0x30df62;}function _0x1b7ace(_0x28840f,_0xc3c02,_0x1e8158,_0x368a53,_0x2a3406,_0x19073a,_0x34ab81,_0x495d9d,_0x5cdbfe,_0x5e982d){this['_tweens']=_0x28840f,this['_tweenjs']=_0xc3c02,this['_startObject']=_0x5edd96(_0x1e8158),this['_stopObject']=_0x5edd96(_0x368a53),this['_duration']=_0x2a3406,this['_delay']=_0x19073a,this['_easingFunction']=_0x34ab81,this['_update']=_0x495d9d,this['_complete']=_0x5cdbfe,this['cancel']=_0x5e982d,this['needsStart']=!![],this['cancelTween']=function(){this['_tweens']['remove'](this);};}Cesium['TweenCollection']['prototype']['remove']=function(_0x484755){if(!Cesium['defined'](_0x484755))return![];var _0x4306df=this['_tweens']['indexOf'](_0x484755);if(_0x4306df!==-0x1)return _0x484755['_tweenjs']['stop'](),Cesium['defined'](_0x484755['cancel'])&&_0x484755['cancel'](),this['_tweens']['splice'](_0x4306df,0x1),!![];return![];},Cesium['Cesium3DTileset']['prototype']['hookLoadTilesetFunc']=Cesium['Cesium3DTileset']['prototype']['loadTileset'],Cesium['Cesium3DTileset']['prototype']['loadTileset']=function(_0xd7897e,_0x82b945,_0x25dfc6){_0xd7897e['request']['url']['indexOf']('/rest/realspace/')!==-0x1&&(_0xd7897e['url']=_0xd7897e['url']['replace']('/tileset/config','/tileset/data/path/'),this['isSuperMapiServer']=!![]);let _0x16bd8b=this['hookLoadTilesetFunc'](_0xd7897e,_0x82b945,_0x25dfc6);return _0x16bd8b;},Cesium['Cesium3DTile']['prototype']['hookRequestContentFunc']=Cesium['Cesium3DTile']['prototype']['requestContent'],Cesium['Cesium3DTile']['prototype']['requestContent']=function(){return this['_tileset']['isSuperMapiServer']&&(this['_contentResource']['url']=this['_contentResource']['url']['replace'](/\+/g,'%2B')),this['hookRequestContentFunc']();},Cesium['computeFlyToLocationForRectangle']['_sampleTerrainMostDetailedFunc']=Cesium['computeFlyToLocationForRectangle']['_sampleTerrainMostDetailed'],Cesium['computeFlyToLocationForRectangle']['_sampleTerrainMostDetailed']=function(_0x44129e,_0xeb3a50){let _0x1fe31d=Cesium['computeFlyToLocationForRectangle']['_sampleTerrainMostDetailedFunc'](_0x44129e,_0xeb3a50);return _0x1fe31d['then'](_0x1c02b7=>{let _0x40de19=_0x1c02b7;return _0x40de19['map'](_0x57644c=>{_0x57644c['height']==undefined&&(_0x57644c['height']=0x0);}),Promise['resolve'](_0x40de19);});};function _0x3985af(_0x4f1511){let _0x554b1e=_0x4f1511['vertexCountWithoutSkirts'],_0x10af45=[],_0x4404e0=_0x4f1511['vertices'];for(let _0x10eda6=0x0;_0x10eda6<_0x554b1e;++_0x10eda6){let _0x274c62=new Cesium['Cartesian3']();_0x4f1511['encoding']['decodePosition'](_0x4404e0,_0x10eda6,_0x274c62),_0x10af45['push'](_0x274c62);}_0x4f1511['boundingSphere3D']=Cesium['BoundingSphere']['fromPoints'](_0x10af45);let _0x45e16d=Cesium['Rectangle']['fromCartesianArray'](_0x10af45);return _0x4f1511['rectangle']=_0x45e16d,_0x4f1511['orientedBoundingBox']=Cesium['OrientedBoundingBox']['fromRectangle'](_0x45e16d,_0x4f1511['minimumHeight'],_0x4f1511['maximumHeight'],Cesium['Ellipsoid']['WGS84']),_0x4f1511;}Cesium['QuantizedMeshTerrainData']['prototype']['hookCreateMesh']=Cesium['QuantizedMeshTerrainData']['prototype']['createMesh'],Cesium['QuantizedMeshTerrainData']['prototype']['createMesh']=function(..._0x14a1d4){return this['hookCreateMesh'](..._0x14a1d4)?.['then'](_0x55145a=>{return _0x3985af(_0x55145a);});};export default{};