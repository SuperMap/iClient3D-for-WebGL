var _0x21d410=(function(){var _0x1bf11e=!![];return function(_0x14489e,_0x210613){var _0x563c42=_0x1bf11e?function(){if(_0x210613){var _0x26f635=_0x210613['apply'](_0x14489e,arguments);return _0x210613=null,_0x26f635;}}:function(){};return _0x1bf11e=![],_0x563c42;};}()),_0x210a75=_0x21d410(this,function(){return _0x210a75['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x210a75)['search']('(((.+)+)+)+$');});_0x210a75();export default'\x0a#ifdef\x20EXCAVATION\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20uExcavationTexture;\x0a\x20\x20\x20\x20uniform\x20float\x20uExcavationMode;\x0a\x20\x20\x20\x20uniform\x20vec4\x20uExcavationRect;\x0a\x20\x20\x20\x20varying\x20vec4\x20vExcavationVertexPos;\x0a\x20\x20\x20\x20vec2\x20calculatePolyTexCoord(vec4\x20vertexPos,\x20vec4\x20rectPos,\x20out\x20float\x20ptInRect){\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20realVertexPos\x20=\x20vertexPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vecRatio\x20=\x20vec2(rectPos.z\x20-\x20rectPos.x,\x20rectPos.w\x20-\x20rectPos.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20texCoord\x20=\x20vec2(realVertexPos.x\x20-\x20rectPos.x,\x20realVertexPos.y\x20-\x20rectPos.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20texCoord.x\x20=\x20texCoord.x\x20/\x20vecRatio.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20texCoord.y\x20=\x20texCoord.y\x20/\x20vecRatio.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20ptInRect\x20=\x20step(0.0,\x20texCoord.x)\x20*\x20step(0.0,\x20texCoord.y)\x20*\x20step(0.0,\x201.0\x20-\x20texCoord.x)\x20*\x20step(0.0,\x201.0\x20-\x20texCoord.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20texCoord\x20=\x20clamp(texCoord,\x20vec2(0.0),\x20vec2(1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20texCoord;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20bool\x20executeExcavation()\x0a\x20\x20\x20\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hasExcavation\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vecExcavationTexCoord\x20=\x20calculatePolyTexCoord(vExcavationVertexPos,\x20uExcavationRect,\x20hasExcavation);\x0a\x20\x20\x20\x20\x20\x20\x20\x20bool\x20excavationInside\x20=\x20(uExcavationMode\x20<\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(hasExcavation\x20<\x200.1)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20!excavationInside;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(excavationInside)\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(uExcavationTexture,\x20vecExcavationTexCoord.xy).r\x20>\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(uExcavationTexture,\x20vecExcavationTexCoord.xy).r\x20<\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a#endif\x0a';