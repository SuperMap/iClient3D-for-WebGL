var _0x31a3c2=(function(){var _0x31f7d7=!![];return function(_0x310679,_0x529953){var _0x54e442=_0x31f7d7?function(){if(_0x529953){var _0x4f4b85=_0x529953['apply'](_0x310679,arguments);return _0x529953=null,_0x4f4b85;}}:function(){};return _0x31f7d7=![],_0x54e442;};}()),_0xae3716=_0x31a3c2(this,function(){return _0xae3716['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0xae3716)['search']('(((.+)+)+)+$');});_0xae3716();export default'\x0a#ifdef\x20HAS_SPOT_LIGHTS\x0a\x0auniform\x20vec3\x20uSpotLightColor[\x20SPOT_LIGHTS\x20];\x0auniform\x20vec3\x20uSpotLightPositionEC[\x20SPOT_LIGHTS\x20];\x0auniform\x20vec3\x20uSpotLightDirectionEC[\x20SPOT_LIGHTS\x20];\x0auniform\x20vec4\x20uSpotLightDistanceDecayCosPenumbra[\x20SPOT_LIGHTS\x20];\x0auniform\x20vec3\x20uSpotLightExponent[\x20SPOT_LIGHTS\x20];\x0a\x20\x20\x20\x20\x0astruct\x20SpotLight\x20{\x0a\x20\x20\x20\x20vec3\x20position;\x0a\x20\x20\x20\x20vec3\x20direction;\x0a\x20\x20\x20\x20vec3\x20color;\x0a\x20\x20\x20\x20float\x20distance;\x0a\x20\x20\x20\x20float\x20decay;\x0a\x20\x20\x20\x20float\x20coneCos;\x0a\x20\x20\x20\x20float\x20penumbraCos;\x0a};\x0a\x0avoid\x20getSpotDirectLightIrradiance(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20GeometricContext\x20geometry,\x20out\x20IncidentLight\x20directLight\x20\x20)\x20{\x0a\x20\x20\x20\x20vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometry.position;\x0a\x20\x20\x20\x20directLight.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x20\x20\x20\x20float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x20\x20\x20\x20float\x20angleCos\x20=\x20dot(\x20directLight.direction,\x20spotLight.direction\x20);\x0a\x20\x20\x20\x20if\x20(\x20angleCos\x20>\x20spotLight.coneCos\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20spotEffect\x20=\x20smoothstep(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20=\x20spotLight.color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20spotEffect\x20*\x20punctualLightIntensityToIrradianceFactor(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20directLight.visible\x20=\x20true;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20directLight.visible\x20=\x20false;\x0a\x20\x20\x20\x20}\x0a}\x0a\x0a#endif\x0a';